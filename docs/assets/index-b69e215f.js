(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ww={exports:{}},Pu={},Kw={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),b_=Symbol.for("react.portal"),x_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),O_=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),$_=Symbol.for("react.memo"),M_=Symbol.for("react.lazy"),$g=Symbol.iterator;function j_(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var Gw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qw=Object.assign,Yw={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Gw}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jw(){}Jw.prototype=Ti.prototype;function Mf(t,e,n){this.props=t,this.context=e,this.refs=Yw,this.updater=n||Gw}var jf=Mf.prototype=new Jw;jf.constructor=Mf;Qw(jf,Ti.prototype);jf.isPureReactComponent=!0;var Mg=Array.isArray,Xw=Object.prototype.hasOwnProperty,Ff={current:null},Zw={key:!0,ref:!0,__self:!0,__source:!0};function e0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Xw.call(e,r)&&!Zw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ia,type:t,key:i,ref:o,props:s,_owner:Ff.current}}function F_(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function U_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function Kc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U_(""+t.key):e.toString(36)}function fl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ia:case b_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Kc(o,0):r,Mg(s)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),fl(s,e,n,"",function(u){return u})):s!=null&&(Uf(s)&&(s=F_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Mg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Kc(i,a);o+=fl(i,e,n,l,s)}else if(l=j_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Kc(i,a++),o+=fl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(t,e,n){if(t==null)return t;var r=[],s=0;return fl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function B_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},pl={transition:null},V_={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Ff};Z.Children={map:Ua,forEach:function(t,e,n){Ua(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ua(t,function(){e++}),e},toArray:function(t){return Ua(t,function(e){return e})||[]},only:function(t){if(!Uf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Ti;Z.Fragment=x_;Z.Profiler=O_;Z.PureComponent=Mf;Z.StrictMode=P_;Z.Suspense=L_;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ff.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xw.call(e,l)&&!Zw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ia,type:t.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:N_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R_,_context:t},t.Consumer=t};Z.createElement=e0;Z.createFactory=function(t){var e=e0.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:D_,render:t}};Z.isValidElement=Uf;Z.lazy=function(t){return{$$typeof:M_,_payload:{_status:-1,_result:t},_init:B_}};Z.memo=function(t,e){return{$$typeof:$_,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=pl.transition;pl.transition={};try{t()}finally{pl.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return wt.current.useCallback(t,e)};Z.useContext=function(t){return wt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return wt.current.useEffect(t,e)};Z.useId=function(){return wt.current.useId()};Z.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return wt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};Z.useRef=function(t){return wt.current.useRef(t)};Z.useState=function(t){return wt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return wt.current.useTransition()};Z.version="18.2.0";Kw.exports=Z;var A=Kw.exports;const z_=qw(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_=A,q_=Symbol.for("react.element"),W_=Symbol.for("react.fragment"),K_=Object.prototype.hasOwnProperty,G_=H_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q_={key:!0,ref:!0,__self:!0,__source:!0};function t0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)K_.call(e,r)&&!Q_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:q_,type:t,key:i,ref:o,props:s,_owner:G_.current}}Pu.Fragment=W_;Pu.jsx=t0;Pu.jsxs=t0;Ww.exports=Pu;var T=Ww.exports,rh={},n0={exports:{}},zt={},r0={exports:{}},s0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var Q=L.length;L.push(V);e:for(;0<Q;){var ce=Q-1>>>1,Te=L[ce];if(0<s(Te,V))L[ce]=V,L[Q]=Te,Q=ce;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],Q=L.pop();if(Q!==V){L[0]=Q;e:for(var ce=0,Te=L.length,ws=Te>>>1;ce<ws;){var en=2*(ce+1)-1,Mr=L[en],qt=en+1,Es=L[qt];if(0>s(Mr,Q))qt<Te&&0>s(Es,Mr)?(L[ce]=Es,L[qt]=Q,ce=qt):(L[ce]=Mr,L[en]=Q,ce=en);else if(qt<Te&&0>s(Es,Q))L[ce]=Es,L[qt]=Q,ce=qt;else break e}}return V}function s(L,V){var Q=L.sortIndex-V.sortIndex;return Q!==0?Q:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function k(L){if(C=!1,S(L),!w)if(n(l)!==null)w=!0,Pe(b);else{var V=n(u);V!==null&&Li(k,V.startTime-L)}}function b(L,V){w=!1,C&&(C=!1,v($),$=-1),g=!0;var Q=p;try{for(S(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!ee());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var Te=ce(f.expirationTime<=V);V=t.unstable_now(),typeof Te=="function"?f.callback=Te:f===n(l)&&r(l),S(V)}else r(l);f=n(l)}if(f!==null)var ws=!0;else{var en=n(u);en!==null&&Li(k,en.startTime-V),ws=!1}return ws}finally{f=null,p=Q,g=!1}}var x=!1,N=null,$=-1,Y=5,F=-1;function ee(){return!(t.unstable_now()-F<Y)}function Ae(){if(N!==null){var L=t.unstable_now();F=L;var V=!0;try{V=N(!0,L)}finally{V?Xe():(x=!1,N=null)}}else x=!1}var Xe;if(typeof y=="function")Xe=function(){y(Ae)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,pt=oe.port2;oe.port1.onmessage=Ae,Xe=function(){pt.postMessage(null)}}else Xe=function(){_(Ae,0)};function Pe(L){N=L,x||(x=!0,Xe())}function Li(L,V){$=_(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Pe(b))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var Q=p;p=V;try{return L()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=p;p=L;try{return V()}finally{p=Q}},t.unstable_scheduleCallback=function(L,V,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,L){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Q+Te,L={id:d++,callback:V,priorityLevel:L,startTime:Q,expirationTime:Te,sortIndex:-1},Q>ce?(L.sortIndex=Q,e(u,L),n(l)===null&&L===n(u)&&(C?(v($),$=-1):C=!0,Li(k,Q-ce))):(L.sortIndex=Te,e(l,L),w||g||(w=!0,Pe(b))),L},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(L){var V=p;return function(){var Q=p;p=V;try{return L.apply(this,arguments)}finally{p=Q}}}})(s0);r0.exports=s0;var Y_=r0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=A,Ut=Y_;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o0=new Set,Co={};function hs(t,e){oi(t,e),oi(t+"Capture",e)}function oi(t,e){for(Co[t]=e,t=0;t<e.length;t++)o0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,J_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fg={},Ug={};function X_(t){return sh.call(Ug,t)?!0:sh.call(Fg,t)?!1:J_.test(t)?Ug[t]=!0:(Fg[t]=!0,!1)}function Z_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eI(t,e,n,r){if(e===null||typeof e>"u"||Z_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function Vf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bf,Vf);Je[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bf,Vf);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bf,Vf);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function zf(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eI(e,n,s,r)&&(n=null),r||s===null?X_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=i0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),a0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),u0=Symbol.for("react.offscreen"),Bg=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=Bg&&t[Bg]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Gc;function Yi(t){if(Gc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gc=e&&e[1]||""}return`
`+Gc+t}var Qc=!1;function Yc(t,e){if(!t||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yi(t):""}function tI(t){switch(t.tag){case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return t=Yc(t.type,!1),t;case 11:return t=Yc(t.type.render,!1),t;case 1:return t=Yc(t.type,!0),t;default:return""}}function lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Ls:return"Portal";case ih:return"Profiler";case Hf:return"StrictMode";case oh:return"Suspense";case ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case l0:return(t.displayName||"Context")+".Consumer";case a0:return(t._context.displayName||"Context")+".Provider";case qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wf:return e=t.displayName||null,e!==null?e:lh(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return lh(t(e))}catch{}}return null}function nI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lh(e);case 8:return e===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rI(t){var e=c0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=rI(t))}function d0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=c0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uh(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function h0(t,e){e=e.checked,e!=null&&zf(t,"checked",e,!1)}function ch(t,e){h0(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&dh(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dh(t,e,n){(e!=="number"||Ll(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ji=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ji(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function f0(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function p0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?p0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,m0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sI=["Webkit","ms","Moz","O"];Object.keys(oo).forEach(function(t){sI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oo[e]=oo[t]})});function g0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oo.hasOwnProperty(t)&&oo[t]?(""+e).trim():e+"px"}function y0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=g0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iI=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ph(t,e){if(e){if(iI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=null;function Kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yh=null,Qs=null,Ys=null;function Wg(t){if(t=la(t)){if(typeof yh!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Lu(e),yh(t.stateNode,t.type,e))}}function v0(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function w0(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,Wg(t),e)for(t=0;t<e.length;t++)Wg(e[t])}}function E0(t,e){return t(e)}function S0(){}var Jc=!1;function C0(t,e,n){if(Jc)return t(e,n);Jc=!0;try{return E0(t,e,n)}finally{Jc=!1,(Qs!==null||Ys!==null)&&(S0(),w0())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var r=Lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var vh=!1;if(Bn)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){vh=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{vh=!1}function oI(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ao=!1,$l=null,Ml=!1,wh=null,aI={onError:function(t){ao=!0,$l=t}};function lI(t,e,n,r,s,i,o,a,l){ao=!1,$l=null,oI.apply(aI,arguments)}function uI(t,e,n,r,s,i,o,a,l){if(lI.apply(this,arguments),ao){if(ao){var u=$l;ao=!1,$l=null}else throw Error(O(198));Ml||(Ml=!0,wh=u)}}function fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function T0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(fs(t)!==t)throw Error(O(188))}function cI(t){var e=t.alternate;if(!e){if(e=fs(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Kg(s),t;if(i===r)return Kg(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function k0(t){return t=cI(t),t!==null?_0(t):null}function _0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_0(t);if(e!==null)return e;t=t.sibling}return null}var I0=Ut.unstable_scheduleCallback,Gg=Ut.unstable_cancelCallback,dI=Ut.unstable_shouldYield,hI=Ut.unstable_requestPaint,be=Ut.unstable_now,fI=Ut.unstable_getCurrentPriorityLevel,Gf=Ut.unstable_ImmediatePriority,A0=Ut.unstable_UserBlockingPriority,jl=Ut.unstable_NormalPriority,pI=Ut.unstable_LowPriority,b0=Ut.unstable_IdlePriority,Ou=null,wn=null;function mI(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Ou,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:vI,gI=Math.log,yI=Math.LN2;function vI(t){return t>>>=0,t===0?32:31-(gI(t)/yI|0)|0}var Ha=64,qa=4194304;function Xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xi(a):(i&=o,i!==0&&(r=Xi(i)))}else o=n&~s,o!==0?r=Xi(o):i!==0&&(r=Xi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),s=1<<n,r|=t[n],e&=~s;return r}function wI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-an(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=wI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function x0(){var t=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),t}function Xc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function SI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-an(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Qf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function P0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O0,Yf,R0,N0,D0,Sh=!1,Wa=[],dr=null,hr=null,fr=null,_o=new Map,Io=new Map,nr=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qg(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":_o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function Vi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=la(e),e!==null&&Yf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function TI(t,e,n,r,s){switch(e){case"focusin":return dr=Vi(dr,t,e,n,r,s),!0;case"dragenter":return hr=Vi(hr,t,e,n,r,s),!0;case"mouseover":return fr=Vi(fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return _o.set(i,Vi(_o.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Io.set(i,Vi(Io.get(i)||null,t,e,n,r,s)),!0}return!1}function L0(t){var e=zr(t.target);if(e!==null){var n=fs(e);if(n!==null){if(e=n.tag,e===13){if(e=T0(n),e!==null){t.blockedOn=e,D0(t.priority,function(){R0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ml(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ch(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gh=r,n.target.dispatchEvent(r),gh=null}else return e=la(n),e!==null&&Yf(e),t.blockedOn=n,!1;e.shift()}return!0}function Yg(t,e,n){ml(t)&&n.delete(e)}function kI(){Sh=!1,dr!==null&&ml(dr)&&(dr=null),hr!==null&&ml(hr)&&(hr=null),fr!==null&&ml(fr)&&(fr=null),_o.forEach(Yg),Io.forEach(Yg)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Sh||(Sh=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,kI)))}function Ao(t){function e(s){return zi(s,t)}if(0<Wa.length){zi(Wa[0],t);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&zi(dr,t),hr!==null&&zi(hr,t),fr!==null&&zi(fr,t),_o.forEach(e),Io.forEach(e),n=0;n<nr.length;n++)r=nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)L0(n),n.blockedOn===null&&nr.shift()}var Js=Yn.ReactCurrentBatchConfig,Ul=!0;function _I(t,e,n,r){var s=le,i=Js.transition;Js.transition=null;try{le=1,Jf(t,e,n,r)}finally{le=s,Js.transition=i}}function II(t,e,n,r){var s=le,i=Js.transition;Js.transition=null;try{le=4,Jf(t,e,n,r)}finally{le=s,Js.transition=i}}function Jf(t,e,n,r){if(Ul){var s=Ch(t,e,n,r);if(s===null)ld(t,e,r,Bl,n),Qg(t,r);else if(TI(s,t,e,n,r))r.stopPropagation();else if(Qg(t,r),e&4&&-1<CI.indexOf(t)){for(;s!==null;){var i=la(s);if(i!==null&&O0(i),i=Ch(t,e,n,r),i===null&&ld(t,e,r,Bl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ld(t,e,r,null,n)}}var Bl=null;function Ch(t,e,n,r){if(Bl=null,t=Kf(r),t=zr(t),t!==null)if(e=fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=T0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bl=t,null}function $0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fI()){case Gf:return 1;case A0:return 4;case jl:case pI:return 16;case b0:return 536870912;default:return 16}default:return 16}}var ar=null,Xf=null,gl=null;function M0(){if(gl)return gl;var t,e=Xf,n=e.length,r,s="value"in ar?ar.value:ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return gl=s.slice(t,1<r?1-r:void 0)}function yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Jg(){return!1}function Ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ka:Jg,this.isPropagationStopped=Jg,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=Ht(ki),aa=Ee({},ki,{view:0,detail:0}),AI=Ht(aa),Zc,ed,Hi,Ru=Ee({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hi&&(Hi&&t.type==="mousemove"?(Zc=t.screenX-Hi.screenX,ed=t.screenY-Hi.screenY):ed=Zc=0,Hi=t),Zc)},movementY:function(t){return"movementY"in t?t.movementY:ed}}),Xg=Ht(Ru),bI=Ee({},Ru,{dataTransfer:0}),xI=Ht(bI),PI=Ee({},aa,{relatedTarget:0}),td=Ht(PI),OI=Ee({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=Ht(OI),NI=Ee({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DI=Ht(NI),LI=Ee({},ki,{data:0}),Zg=Ht(LI),$I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jI[t])?!!e[t]:!1}function ep(){return FI}var UI=Ee({},aa,{key:function(t){if(t.key){var e=$I[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(t){return t.type==="keypress"?yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BI=Ht(UI),VI=Ee({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=Ht(VI),zI=Ee({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),HI=Ht(zI),qI=Ee({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),WI=Ht(qI),KI=Ee({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GI=Ht(KI),QI=[9,13,27,32],tp=Bn&&"CompositionEvent"in window,lo=null;Bn&&"documentMode"in document&&(lo=document.documentMode);var YI=Bn&&"TextEvent"in window&&!lo,j0=Bn&&(!tp||lo&&8<lo&&11>=lo),ty=String.fromCharCode(32),ny=!1;function F0(t,e){switch(t){case"keyup":return QI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ms=!1;function JI(t,e){switch(t){case"compositionend":return U0(e);case"keypress":return e.which!==32?null:(ny=!0,ty);case"textInput":return t=e.data,t===ty&&ny?null:t;default:return null}}function XI(t,e){if(Ms)return t==="compositionend"||!tp&&F0(t,e)?(t=M0(),gl=Xf=ar=null,Ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j0&&e.locale!=="ko"?null:e.data;default:return null}}var ZI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZI[t.type]:e==="textarea"}function B0(t,e,n,r){v0(r),e=Vl(e,"onChange"),0<e.length&&(n=new Zf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,bo=null;function eA(t){X0(t,0)}function Nu(t){var e=Us(t);if(d0(e))return t}function tA(t,e){if(t==="change")return e}var V0=!1;if(Bn){var nd;if(Bn){var rd="oninput"in document;if(!rd){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),rd=typeof sy.oninput=="function"}nd=rd}else nd=!1;V0=nd&&(!document.documentMode||9<document.documentMode)}function iy(){uo&&(uo.detachEvent("onpropertychange",z0),bo=uo=null)}function z0(t){if(t.propertyName==="value"&&Nu(bo)){var e=[];B0(e,bo,t,Kf(t)),C0(eA,e)}}function nA(t,e,n){t==="focusin"?(iy(),uo=e,bo=n,uo.attachEvent("onpropertychange",z0)):t==="focusout"&&iy()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(bo)}function sA(t,e){if(t==="click")return Nu(e)}function iA(t,e){if(t==="input"||t==="change")return Nu(e)}function oA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:oA;function xo(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sh.call(e,s)||!un(t[s],e[s]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,e){var n=oy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function H0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q0(){for(var t=window,e=Ll();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ll(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aA(t){var e=q0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H0(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ay(n,i);var o=ay(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lA=Bn&&"documentMode"in document&&11>=document.documentMode,js=null,Th=null,co=null,kh=!1;function ly(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kh||js==null||js!==Ll(r)||(r=js,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&xo(co,r)||(co=r,r=Vl(Th,"onSelect"),0<r.length&&(e=new Zf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=js)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fs={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},sd={},W0={};Bn&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Du(t){if(sd[t])return sd[t];if(!Fs[t])return t;var e=Fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in W0)return sd[t]=e[n];return t}var K0=Du("animationend"),G0=Du("animationiteration"),Q0=Du("animationstart"),Y0=Du("transitionend"),J0=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){J0.set(t,e),hs(e,[t])}for(var id=0;id<uy.length;id++){var od=uy[id],uA=od.toLowerCase(),cA=od[0].toUpperCase()+od.slice(1);xr(uA,"on"+cA)}xr(K0,"onAnimationEnd");xr(G0,"onAnimationIteration");xr(Q0,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(Y0,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uI(r,e,void 0,t),t.currentTarget=null}function X0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;cy(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;cy(s,a,u),i=l}}}if(Ml)throw t=wh,Ml=!1,wh=null,t}function fe(t,e){var n=e[xh];n===void 0&&(n=e[xh]=new Set);var r=t+"__bubble";n.has(r)||(Z0(e,t,2,!1),n.add(r))}function ad(t,e,n){var r=0;e&&(r|=4),Z0(n,t,r,e)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[Qa]){t[Qa]=!0,o0.forEach(function(n){n!=="selectionchange"&&(dA.has(n)||ad(n,!1,t),ad(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qa]||(e[Qa]=!0,ad("selectionchange",!1,e))}}function Z0(t,e,n,r){switch($0(e)){case 1:var s=_I;break;case 4:s=II;break;default:s=Jf}n=s.bind(null,e,n,t),s=void 0,!vh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ld(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}C0(function(){var u=i,d=Kf(n),f=[];e:{var p=J0.get(t);if(p!==void 0){var g=Zf,w=t;switch(t){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":g=BI;break;case"focusin":w="focus",g=td;break;case"focusout":w="blur",g=td;break;case"beforeblur":case"afterblur":g=td;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HI;break;case K0:case G0:case Q0:g=RI;break;case Y0:g=WI;break;case"scroll":g=AI;break;case"wheel":g=GI;break;case"copy":case"cut":case"paste":g=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ey}var C=(e&4)!==0,_=!C&&t==="scroll",v=C?p!==null?p+"Capture":null:p;C=[];for(var y=u,S;y!==null;){S=y;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,v!==null&&(k=ko(y,v),k!=null&&C.push(Oo(y,k,S)))),_)break;y=y.return}0<C.length&&(p=new g(p,w,null,n,d),f.push({event:p,listeners:C}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==gh&&(w=n.relatedTarget||n.fromElement)&&(zr(w)||w[Vn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?zr(w):null,w!==null&&(_=fs(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(C=Xg,k="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=ey,k="onPointerLeave",v="onPointerEnter",y="pointer"),_=g==null?p:Us(g),S=w==null?p:Us(w),p=new C(k,y+"leave",g,n,d),p.target=_,p.relatedTarget=S,k=null,zr(d)===u&&(C=new C(v,y+"enter",w,n,d),C.target=S,C.relatedTarget=_,k=C),_=k,g&&w)t:{for(C=g,v=w,y=0,S=C;S;S=bs(S))y++;for(S=0,k=v;k;k=bs(k))S++;for(;0<y-S;)C=bs(C),y--;for(;0<S-y;)v=bs(v),S--;for(;y--;){if(C===v||v!==null&&C===v.alternate)break t;C=bs(C),v=bs(v)}C=null}else C=null;g!==null&&dy(f,p,g,C,!1),w!==null&&_!==null&&dy(f,_,w,C,!0)}}e:{if(p=u?Us(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var b=tA;else if(ry(p))if(V0)b=iA;else{b=rA;var x=nA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=sA);if(b&&(b=b(t,u))){B0(f,b,n,d);break e}x&&x(t,p,u),t==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&dh(p,"number",p.value)}switch(x=u?Us(u):window,t){case"focusin":(ry(x)||x.contentEditable==="true")&&(js=x,Th=u,co=null);break;case"focusout":co=Th=js=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,ly(f,n,d);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":ly(f,n,d)}var N;if(tp)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ms?F0(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(j0&&n.locale!=="ko"&&(Ms||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ms&&(N=M0()):(ar=d,Xf="value"in ar?ar.value:ar.textContent,Ms=!0)),x=Vl(u,$),0<x.length&&($=new Zg($,t,null,n,d),f.push({event:$,listeners:x}),N?$.data=N:(N=U0(n),N!==null&&($.data=N)))),(N=YI?JI(t,n):XI(t,n))&&(u=Vl(u,"onBeforeInput"),0<u.length&&(d=new Zg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}X0(f,e)})}function Oo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ko(t,n),i!=null&&r.unshift(Oo(t,i,s)),i=ko(t,e),i!=null&&r.push(Oo(t,i,s))),t=t.return}return r}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ko(n,i),l!=null&&o.unshift(Oo(n,l,a))):s||(l=ko(n,i),l!=null&&o.push(Oo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(hA,`
`).replace(fA,"")}function Ya(t,e,n){if(e=hy(e),hy(t)!==e&&n)throw Error(O(425))}function zl(){}var _h=null,Ih=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(gA)}:bh;function gA(t){setTimeout(function(){throw t})}function ud(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ao(e)}function pr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _i=Math.random().toString(36).slice(2),mn="__reactFiber$"+_i,Ro="__reactProps$"+_i,Vn="__reactContainer$"+_i,xh="__reactEvents$"+_i,yA="__reactListeners$"+_i,vA="__reactHandles$"+_i;function zr(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=py(t);t!==null;){if(n=t[mn])return n;t=py(t)}return e}t=n,n=t.parentNode}return null}function la(t){return t=t[mn]||t[Vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Lu(t){return t[Ro]||null}var Ph=[],Bs=-1;function Pr(t){return{current:t}}function me(t){0>Bs||(t.current=Ph[Bs],Ph[Bs]=null,Bs--)}function he(t,e){Bs++,Ph[Bs]=t.current,t.current=e}var kr={},dt=Pr(kr),It=Pr(!1),es=kr;function ai(t,e){var n=t.type.contextTypes;if(!n)return kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function At(t){return t=t.childContextTypes,t!=null}function Hl(){me(It),me(dt)}function my(t,e,n){if(dt.current!==kr)throw Error(O(168));he(dt,e),he(It,n)}function e1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,nI(t)||"Unknown",s));return Ee({},n,r)}function ql(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,es=dt.current,he(dt,t),he(It,It.current),!0}function gy(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=e1(t,e,es),r.__reactInternalMemoizedMergedChildContext=t,me(It),me(dt),he(dt,t)):me(It),he(It,n)}var Nn=null,$u=!1,cd=!1;function t1(t){Nn===null?Nn=[t]:Nn.push(t)}function wA(t){$u=!0,t1(t)}function Or(){if(!cd&&Nn!==null){cd=!0;var t=0,e=le;try{var n=Nn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,$u=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),I0(Gf,Or),s}finally{le=e,cd=!1}}return null}var Vs=[],zs=0,Wl=null,Kl=0,Kt=[],Gt=0,ts=null,Ln=1,$n="";function Ur(t,e){Vs[zs++]=Kl,Vs[zs++]=Wl,Wl=t,Kl=e}function n1(t,e,n){Kt[Gt++]=Ln,Kt[Gt++]=$n,Kt[Gt++]=ts,ts=t;var r=Ln;t=$n;var s=32-an(r)-1;r&=~(1<<s),n+=1;var i=32-an(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ln=1<<32-an(e)+s|n<<s|r,$n=i+t}else Ln=1<<i|n<<s|r,$n=t}function rp(t){t.return!==null&&(Ur(t,1),n1(t,1,0))}function sp(t){for(;t===Wl;)Wl=Vs[--zs],Vs[zs]=null,Kl=Vs[--zs],Vs[zs]=null;for(;t===ts;)ts=Kt[--Gt],Kt[Gt]=null,$n=Kt[--Gt],Kt[Gt]=null,Ln=Kt[--Gt],Kt[Gt]=null}var jt=null,$t=null,ye=!1,sn=null;function r1(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,$t=pr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:Ln,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,$t=null,!0):!1;default:return!1}}function Oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rh(t){if(ye){var e=$t;if(e){var n=e;if(!yy(t,e)){if(Oh(t))throw Error(O(418));e=pr(n.nextSibling);var r=jt;e&&yy(t,e)?r1(r,n):(t.flags=t.flags&-4097|2,ye=!1,jt=t)}}else{if(Oh(t))throw Error(O(418));t.flags=t.flags&-4097|2,ye=!1,jt=t}}}function vy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ja(t){if(t!==jt)return!1;if(!ye)return vy(t),ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=$t)){if(Oh(t))throw s1(),Error(O(418));for(;e;)r1(t,e),e=pr(e.nextSibling)}if(vy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=pr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=jt?pr(t.stateNode.nextSibling):null;return!0}function s1(){for(var t=$t;t;)t=pr(t.nextSibling)}function li(){$t=jt=null,ye=!1}function ip(t){sn===null?sn=[t]:sn.push(t)}var EA=Yn.ReactCurrentBatchConfig;function nn(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gl=Pr(null),Ql=null,Hs=null,op=null;function ap(){op=Hs=Ql=null}function lp(t){var e=Gl.current;me(Gl),t._currentValue=e}function Nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Ql=t,op=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(op!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Ql===null)throw Error(O(308));Hs=t,Ql.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var Hr=null;function up(t){Hr===null?Hr=[t]:Hr.push(t)}function i1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,up(e)):(n.next=s.next,s.next=n),e.interleaved=n,zn(t,r)}function zn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function cp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,zn(t,n)}return s=r.interleaved,s===null?(e.next=e,up(r)):(e.next=s.next,s.next=e),r.interleaved=e,zn(t,n)}function vl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qf(t,n)}}function wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yl(t,e,n,r){var s=t.updateQueue;tr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,C=a;switch(p=e,g=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=Ee({},f,p);break e;case 2:tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rs|=o,t.lanes=o,t.memoizedState=f}}function Ey(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var a1=new i0.Component().refs;function Dh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mu={isMounted:function(t){return(t=t._reactInternals)?fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=yr(t),i=Un(r,s);i.payload=e,n!=null&&(i.callback=n),e=mr(t,i,s),e!==null&&(ln(e,t,s,r),vl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=yr(t),i=Un(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=mr(t,i,s),e!==null&&(ln(e,t,s,r),vl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=yr(t),s=Un(n,r);s.tag=2,e!=null&&(s.callback=e),e=mr(t,s,r),e!==null&&(ln(e,t,r,n),vl(e,t,r))}};function Sy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xo(n,r)||!xo(s,i):!0}function l1(t,e,n){var r=!1,s=kr,i=e.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=At(e)?es:dt.current,r=e.contextTypes,i=(r=r!=null)?ai(t,s):kr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Cy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mu.enqueueReplaceState(e,e.state,null)}function Lh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=a1,cp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=At(e)?es:dt.current,s.context=ai(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Dh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mu.enqueueReplaceState(s,s.state,null),Yl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===a1&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ty(t){var e=t._init;return e(t._payload)}function u1(t){function e(v,y){if(t){var S=v.deletions;S===null?(v.deletions=[y],v.flags|=16):S.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=vr(v,y),v.index=0,v.sibling=null,v}function i(v,y,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<y?(v.flags|=2,y):S):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,S,k){return y===null||y.tag!==6?(y=yd(S,v.mode,k),y.return=v,y):(y=s(y,S),y.return=v,y)}function l(v,y,S,k){var b=S.type;return b===$s?d(v,y,S.props.children,k,S.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===er&&Ty(b)===y.type)?(k=s(y,S.props),k.ref=qi(v,y,S),k.return=v,k):(k=kl(S.type,S.key,S.props,null,v.mode,k),k.ref=qi(v,y,S),k.return=v,k)}function u(v,y,S,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=vd(S,v.mode,k),y.return=v,y):(y=s(y,S.children||[]),y.return=v,y)}function d(v,y,S,k,b){return y===null||y.tag!==7?(y=Jr(S,v.mode,k,b),y.return=v,y):(y=s(y,S),y.return=v,y)}function f(v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=yd(""+y,v.mode,S),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ba:return S=kl(y.type,y.key,y.props,null,v.mode,S),S.ref=qi(v,null,y),S.return=v,S;case Ls:return y=vd(y,v.mode,S),y.return=v,y;case er:var k=y._init;return f(v,k(y._payload),S)}if(Ji(y)||Ui(y))return y=Jr(y,v.mode,S,null),y.return=v,y;Xa(v,y)}return null}function p(v,y,S,k){var b=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(v,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ba:return S.key===b?l(v,y,S,k):null;case Ls:return S.key===b?u(v,y,S,k):null;case er:return b=S._init,p(v,y,b(S._payload),k)}if(Ji(S)||Ui(S))return b!==null?null:d(v,y,S,k,null);Xa(v,S)}return null}function g(v,y,S,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(S)||null,a(y,v,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ba:return v=v.get(k.key===null?S:k.key)||null,l(y,v,k,b);case Ls:return v=v.get(k.key===null?S:k.key)||null,u(y,v,k,b);case er:var x=k._init;return g(v,y,S,x(k._payload),b)}if(Ji(k)||Ui(k))return v=v.get(S)||null,d(y,v,k,b,null);Xa(y,k)}return null}function w(v,y,S,k){for(var b=null,x=null,N=y,$=y=0,Y=null;N!==null&&$<S.length;$++){N.index>$?(Y=N,N=null):Y=N.sibling;var F=p(v,N,S[$],k);if(F===null){N===null&&(N=Y);break}t&&N&&F.alternate===null&&e(v,N),y=i(F,y,$),x===null?b=F:x.sibling=F,x=F,N=Y}if($===S.length)return n(v,N),ye&&Ur(v,$),b;if(N===null){for(;$<S.length;$++)N=f(v,S[$],k),N!==null&&(y=i(N,y,$),x===null?b=N:x.sibling=N,x=N);return ye&&Ur(v,$),b}for(N=r(v,N);$<S.length;$++)Y=g(N,v,$,S[$],k),Y!==null&&(t&&Y.alternate!==null&&N.delete(Y.key===null?$:Y.key),y=i(Y,y,$),x===null?b=Y:x.sibling=Y,x=Y);return t&&N.forEach(function(ee){return e(v,ee)}),ye&&Ur(v,$),b}function C(v,y,S,k){var b=Ui(S);if(typeof b!="function")throw Error(O(150));if(S=b.call(S),S==null)throw Error(O(151));for(var x=b=null,N=y,$=y=0,Y=null,F=S.next();N!==null&&!F.done;$++,F=S.next()){N.index>$?(Y=N,N=null):Y=N.sibling;var ee=p(v,N,F.value,k);if(ee===null){N===null&&(N=Y);break}t&&N&&ee.alternate===null&&e(v,N),y=i(ee,y,$),x===null?b=ee:x.sibling=ee,x=ee,N=Y}if(F.done)return n(v,N),ye&&Ur(v,$),b;if(N===null){for(;!F.done;$++,F=S.next())F=f(v,F.value,k),F!==null&&(y=i(F,y,$),x===null?b=F:x.sibling=F,x=F);return ye&&Ur(v,$),b}for(N=r(v,N);!F.done;$++,F=S.next())F=g(N,v,$,F.value,k),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?$:F.key),y=i(F,y,$),x===null?b=F:x.sibling=F,x=F);return t&&N.forEach(function(Ae){return e(v,Ae)}),ye&&Ur(v,$),b}function _(v,y,S,k){if(typeof S=="object"&&S!==null&&S.type===$s&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ba:e:{for(var b=S.key,x=y;x!==null;){if(x.key===b){if(b=S.type,b===$s){if(x.tag===7){n(v,x.sibling),y=s(x,S.props.children),y.return=v,v=y;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===er&&Ty(b)===x.type){n(v,x.sibling),y=s(x,S.props),y.ref=qi(v,x,S),y.return=v,v=y;break e}n(v,x);break}else e(v,x);x=x.sibling}S.type===$s?(y=Jr(S.props.children,v.mode,k,S.key),y.return=v,v=y):(k=kl(S.type,S.key,S.props,null,v.mode,k),k.ref=qi(v,y,S),k.return=v,v=k)}return o(v);case Ls:e:{for(x=S.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(v,y.sibling),y=s(y,S.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=vd(S,v.mode,k),y.return=v,v=y}return o(v);case er:return x=S._init,_(v,y,x(S._payload),k)}if(Ji(S))return w(v,y,S,k);if(Ui(S))return C(v,y,S,k);Xa(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,S),y.return=v,v=y):(n(v,y),y=yd(S,v.mode,k),y.return=v,v=y),o(v)):n(v,y)}return _}var ui=u1(!0),c1=u1(!1),ua={},En=Pr(ua),No=Pr(ua),Do=Pr(ua);function qr(t){if(t===ua)throw Error(O(174));return t}function dp(t,e){switch(he(Do,e),he(No,t),he(En,ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fh(e,t)}me(En),he(En,e)}function ci(){me(En),me(No),me(Do)}function d1(t){qr(Do.current);var e=qr(En.current),n=fh(e,t.type);e!==n&&(he(No,t),he(En,n))}function hp(t){No.current===t&&(me(En),me(No))}var ve=Pr(0);function Jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dd=[];function fp(){for(var t=0;t<dd.length;t++)dd[t]._workInProgressVersionPrimary=null;dd.length=0}var wl=Yn.ReactCurrentDispatcher,hd=Yn.ReactCurrentBatchConfig,ns=0,we=null,De=null,Fe=null,Xl=!1,ho=!1,Lo=0,SA=0;function et(){throw Error(O(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function mp(t,e,n,r,s,i){if(ns=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wl.current=t===null||t.memoizedState===null?_A:IA,t=n(r,s),ho){i=0;do{if(ho=!1,Lo=0,25<=i)throw Error(O(301));i+=1,Fe=De=null,e.updateQueue=null,wl.current=AA,t=n(r,s)}while(ho)}if(wl.current=Zl,e=De!==null&&De.next!==null,ns=0,Fe=De=we=null,Xl=!1,e)throw Error(O(300));return t}function gp(){var t=Lo!==0;return Lo=0,t}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?we.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function Zt(){if(De===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Fe===null?we.memoizedState:Fe.next;if(e!==null)Fe=e,De=t;else{if(t===null)throw Error(O(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?we.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function $o(t,e){return typeof e=="function"?e(t):e}function fd(t){var e=Zt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((ns&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,we.lanes|=d,rs|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,un(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,rs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pd(t){var e=Zt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);un(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function h1(){}function f1(t,e){var n=we,r=Zt(),s=e(),i=!un(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,yp(g1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Mo(9,m1.bind(null,n,r,s,e),void 0,null),Be===null)throw Error(O(349));ns&30||p1(n,e,s)}return s}function p1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function m1(t,e,n,r){e.value=n,e.getSnapshot=r,y1(e)&&v1(t)}function g1(t,e,n){return n(function(){y1(e)&&v1(t)})}function y1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function v1(t){var e=zn(t,1);e!==null&&ln(e,t,1,-1)}function ky(t){var e=pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},e.queue=t,t=t.dispatch=kA.bind(null,we,t),[e.memoizedState,t]}function Mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w1(){return Zt().memoizedState}function El(t,e,n,r){var s=pn();we.flags|=t,s.memoizedState=Mo(1|e,n,void 0,r===void 0?null:r)}function ju(t,e,n,r){var s=Zt();r=r===void 0?null:r;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,r!==null&&pp(r,o.deps)){s.memoizedState=Mo(e,n,i,r);return}}we.flags|=t,s.memoizedState=Mo(1|e,n,i,r)}function _y(t,e){return El(8390656,8,t,e)}function yp(t,e){return ju(2048,8,t,e)}function E1(t,e){return ju(4,2,t,e)}function S1(t,e){return ju(4,4,t,e)}function C1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T1(t,e,n){return n=n!=null?n.concat([t]):null,ju(4,4,C1.bind(null,e,t),n)}function vp(){}function k1(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _1(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I1(t,e,n){return ns&21?(un(n,e)||(n=x0(),we.lanes|=n,rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function CA(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=hd.transition;hd.transition={};try{t(!1),e()}finally{le=n,hd.transition=r}}function A1(){return Zt().memoizedState}function TA(t,e,n){var r=yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b1(t))x1(e,n);else if(n=i1(t,e,n,r),n!==null){var s=vt();ln(n,t,r,s),P1(n,e,r)}}function kA(t,e,n){var r=yr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b1(t))x1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,un(a,o)){var l=e.interleaved;l===null?(s.next=s,up(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=i1(t,e,s,r),n!==null&&(s=vt(),ln(n,t,r,s),P1(n,e,r))}}function b1(t){var e=t.alternate;return t===we||e!==null&&e===we}function x1(t,e){ho=Xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qf(t,n)}}var Zl={readContext:Xt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},_A={readContext:Xt,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:_y,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,El(4194308,4,C1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var n=pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TA.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:ky,useDebugValue:vp,useDeferredValue:function(t){return pn().memoizedState=t},useTransition:function(){var t=ky(!1),e=t[0];return t=CA.bind(null,t[1]),pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,s=pn();if(ye){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Be===null)throw Error(O(349));ns&30||p1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_y(g1.bind(null,r,i,t),[t]),r.flags|=2048,Mo(9,m1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pn(),e=Be.identifierPrefix;if(ye){var n=$n,r=Ln;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IA={readContext:Xt,useCallback:k1,useContext:Xt,useEffect:yp,useImperativeHandle:T1,useInsertionEffect:E1,useLayoutEffect:S1,useMemo:_1,useReducer:fd,useRef:w1,useState:function(){return fd($o)},useDebugValue:vp,useDeferredValue:function(t){var e=Zt();return I1(e,De.memoizedState,t)},useTransition:function(){var t=fd($o)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:A1,unstable_isNewReconciler:!1},AA={readContext:Xt,useCallback:k1,useContext:Xt,useEffect:yp,useImperativeHandle:T1,useInsertionEffect:E1,useLayoutEffect:S1,useMemo:_1,useReducer:pd,useRef:w1,useState:function(){return pd($o)},useDebugValue:vp,useDeferredValue:function(t){var e=Zt();return De===null?e.memoizedState=t:I1(e,De.memoizedState,t)},useTransition:function(){var t=pd($o)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:f1,useId:A1,unstable_isNewReconciler:!1};function di(t,e){try{var n="",r=e;do n+=tI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function md(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $h(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bA=typeof WeakMap=="function"?WeakMap:Map;function O1(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tu||(tu=!0,Wh=r),$h(t,e)},n}function R1(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$h(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$h(t,e),typeof r!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Iy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=VA.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Un(-1,1),e.tag=2,mr(n,e,1))),n.lanes|=1),t)}var xA=Yn.ReactCurrentOwner,_t=!1;function gt(t,e,n,r){e.child=t===null?c1(e,null,n,r):ui(e,t.child,n,r)}function xy(t,e,n,r,s){n=n.render;var i=e.ref;return Xs(e,s),r=mp(t,e,n,r,i,s),n=gp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hn(t,e,s)):(ye&&n&&rp(e),e.flags|=1,gt(t,e,r,s),e.child)}function Py(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ip(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,N1(t,e,i,r,s)):(t=kl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(o,r)&&t.ref===e.ref)return Hn(t,e,s)}return e.flags|=1,t=vr(i,r),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xo(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Hn(t,e,s)}return Mh(t,e,n,r,s)}function D1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ws,Dt),Dt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ws,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(Ws,Dt),Dt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,he(Ws,Dt),Dt|=r;return gt(t,e,s,n),e.child}function L1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mh(t,e,n,r,s){var i=At(n)?es:dt.current;return i=ai(e,i),Xs(e,s),n=mp(t,e,n,r,i,s),r=gp(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hn(t,e,s)):(ye&&r&&rp(e),e.flags|=1,gt(t,e,n,s),e.child)}function Oy(t,e,n,r,s){if(At(n)){var i=!0;ql(e)}else i=!1;if(Xs(e,s),e.stateNode===null)Sl(t,e),l1(e,n,r),Lh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=At(n)?es:dt.current,u=ai(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cy(e,o,r,u),tr=!1;var p=e.memoizedState;o.state=p,Yl(e,r,o,s),l=e.memoizedState,a!==r||p!==l||It.current||tr?(typeof d=="function"&&(Dh(e,n,d,r),l=e.memoizedState),(a=tr||Sy(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,o1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=At(n)?es:dt.current,l=ai(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Cy(e,o,r,l),tr=!1,p=e.memoizedState,o.state=p,Yl(e,r,o,s);var w=e.memoizedState;a!==f||p!==w||It.current||tr?(typeof g=="function"&&(Dh(e,n,g,r),w=e.memoizedState),(u=tr||Sy(e,n,u,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return jh(t,e,n,r,i,s)}function jh(t,e,n,r,s,i){L1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gy(e,n,!1),Hn(t,e,i);r=e.stateNode,xA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ui(e,t.child,null,i),e.child=ui(e,null,a,i)):gt(t,e,a,i),e.memoizedState=r.state,s&&gy(e,n,!0),e.child}function $1(t){var e=t.stateNode;e.pendingContext?my(t,e.pendingContext,e.pendingContext!==e.context):e.context&&my(t,e.context,!1),dp(t,e.containerInfo)}function Ry(t,e,n,r,s){return li(),ip(s),e.flags|=256,gt(t,e,n,r),e.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function M1(t,e,n){var r=e.pendingProps,s=ve.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),he(ve,s&1),t===null)return Rh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bu(o,r,0,null),t=Jr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uh(n),e.memoizedState=Fh,t):wp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return PA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vr(a,i):(i=Jr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Uh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fh,r}return i=t.child,t=i.sibling,r=vr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wp(t,e){return e=Bu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,r){return r!==null&&ip(r),ui(e,t.child,null,n),t=wp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=md(Error(O(422))),Za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bu({mode:"visible",children:r.children},s,0,null),i=Jr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ui(e,t.child,null,o),e.child.memoizedState=Uh(o),e.memoizedState=Fh,i);if(!(e.mode&1))return Za(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=md(i,r,void 0),Za(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zn(t,s),ln(r,t,s,-1))}return _p(),r=md(Error(O(421))),Za(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$t=pr(s.nextSibling),jt=e,ye=!0,sn=null,t!==null&&(Kt[Gt++]=Ln,Kt[Gt++]=$n,Kt[Gt++]=ts,Ln=t.id,$n=t.overflow,ts=e),e=wp(e,r.children),e.flags|=4096,e)}function Ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nh(t.return,e,n)}function gd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function j1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,n,e);else if(t.tag===19)Ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gd(e,!0,n,null,i);break;case"together":gd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OA(t,e,n){switch(e.tag){case 3:$1(e),li();break;case 5:d1(e);break;case 1:At(e.type)&&ql(e);break;case 4:dp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;he(Gl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?M1(t,e,n):(he(ve,ve.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);he(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,D1(t,e,n)}return Hn(t,e,n)}var F1,Bh,U1,B1;F1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};U1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,qr(En.current);var i=null;switch(n){case"input":s=uh(t,s),r=uh(t,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=hh(t,s),r=hh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zl)}ph(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Co.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Co.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};B1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wi(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RA(t,e,n){var r=e.pendingProps;switch(sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return At(e.type)&&Hl(),tt(e),null;case 3:return r=e.stateNode,ci(),me(It),me(dt),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Qh(sn),sn=null))),Bh(t,e),tt(e),null;case 5:hp(e);var s=qr(Do.current);if(n=e.type,t!==null&&e.stateNode!=null)U1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return tt(e),null}if(t=qr(En.current),Ja(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mn]=e,r[Ro]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)fe(Zi[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Vg(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Hg(r,i),fe("invalid",r)}ph(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),s=["children",""+a]):Co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":Va(r),zg(r,i,!0);break;case"textarea":Va(r),qg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=p0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[Ro]=r,F1(t,e,!1,!1),e.stateNode=t;e:{switch(o=mh(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)fe(Zi[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":Vg(t,r),s=uh(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Hg(t,r),s=hh(t,r),fe("invalid",t);break;default:s=r}ph(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?y0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&m0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&To(t,l):typeof l=="number"&&To(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Co.hasOwnProperty(i)?l!=null&&i==="onScroll"&&fe("scroll",t):l!=null&&zf(t,i,l,o))}switch(n){case"input":Va(t),zg(t,r,!1);break;case"textarea":Va(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)B1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=qr(Do.current),qr(En.current),Ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return tt(e),null;case 13:if(me(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&$t!==null&&e.mode&1&&!(e.flags&128))s1(),li(),e.flags|=98560,i=!1;else if(i=Ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[mn]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else sn!==null&&(Qh(sn),sn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?$e===0&&($e=3):_p())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return ci(),Bh(t,e),t===null&&Po(e.stateNode.containerInfo),tt(e),null;case 10:return lp(e.type._context),tt(e),null;case 17:return At(e.type)&&Hl(),tt(e),null;case 19:if(me(ve),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wi(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jl(t),o!==null){for(e.flags|=128,Wi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&be()>hi&&(e.flags|=128,r=!0,Wi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return tt(e),null}else 2*be()-i.renderingStartTime>hi&&n!==1073741824&&(e.flags|=128,r=!0,Wi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=ve.current,he(ve,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return kp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function NA(t,e){switch(sp(e),e.tag){case 1:return At(e.type)&&Hl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ci(),me(It),me(dt),fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hp(e),null;case 13:if(me(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ve),null;case 4:return ci(),null;case 10:return lp(e.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var el=!1,it=!1,DA=typeof WeakSet=="function"?WeakSet:Set,M=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){_e(t,e,r)}}var Dy=!1;function LA(t,e){if(_h=Ul,t=q0(),np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ih={focusedElem:t,selectionRange:n},Ul=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,_=w.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?C:nn(e.type,C),_);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(k){_e(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return w=Dy,Dy=!1,w}function fo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vh(e,n,i)}s=s.next}while(s!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V1(t){var e=t.alternate;e!==null&&(t.alternate=null,V1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[Ro],delete e[xh],delete e[yA],delete e[vA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z1(t){return t.tag===5||t.tag===3||t.tag===4}function Ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zl));else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}function qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qh(t,e,n),t=t.sibling;t!==null;)qh(t,e,n),t=t.sibling}var qe=null,rn=!1;function Xn(t,e,n){for(n=n.child;n!==null;)H1(t,e,n),n=n.sibling}function H1(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:it||qs(n,e);case 6:var r=qe,s=rn;qe=null,Xn(t,e,n),qe=r,rn=s,qe!==null&&(rn?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(rn?(t=qe,n=n.stateNode,t.nodeType===8?ud(t.parentNode,n):t.nodeType===1&&ud(t,n),Ao(t)):ud(qe,n.stateNode));break;case 4:r=qe,s=rn,qe=n.stateNode.containerInfo,rn=!0,Xn(t,e,n),qe=r,rn=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vh(n,e,o),s=s.next}while(s!==r)}Xn(t,e,n);break;case 1:if(!it&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_e(n,e,a)}Xn(t,e,n);break;case 21:Xn(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Xn(t,e,n),it=r):Xn(t,e,n);break;default:Xn(t,e,n)}}function $y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DA),e.forEach(function(r){var s=HA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,rn=!1;break e;case 3:qe=a.stateNode.containerInfo,rn=!0;break e;case 4:qe=a.stateNode.containerInfo,rn=!0;break e}a=a.return}if(qe===null)throw Error(O(160));H1(i,o,s),qe=null,rn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){_e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q1(e,t),e=e.sibling}function q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),fn(t),r&4){try{fo(3,t,t.return),Fu(3,t)}catch(C){_e(t,t.return,C)}try{fo(5,t,t.return)}catch(C){_e(t,t.return,C)}}break;case 1:tn(e,t),fn(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(tn(e,t),fn(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var s=t.stateNode;try{To(s,"")}catch(C){_e(t,t.return,C)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&h0(s,i),mh(a,o);var u=mh(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?y0(s,f):d==="dangerouslySetInnerHTML"?m0(s,f):d==="children"?To(s,f):zf(s,d,f,u)}switch(a){case"input":ch(s,i);break;case"textarea":f0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Gs(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Gs(s,!!i.multiple,i.defaultValue,!0):Gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ro]=i}catch(C){_e(t,t.return,C)}}break;case 6:if(tn(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(C){_e(t,t.return,C)}}break;case 3:if(tn(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(C){_e(t,t.return,C)}break;case 4:tn(e,t),fn(t);break;case 13:tn(e,t),fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cp=be())),r&4&&$y(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||d,tn(e,t),it=u):tn(e,t),fn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(M=t,d=t.child;d!==null;){for(f=M=d;M!==null;){switch(p=M,g=p.child,p.tag){case 0:case 11:case 14:case 15:fo(4,p,p.return);break;case 1:qs(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(C){_e(r,n,C)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){jy(f);continue}}g!==null?(g.return=p,M=g):jy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=g0("display",o))}catch(C){_e(t,t.return,C)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){_e(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tn(e,t),fn(t),r&4&&$y(t);break;case 21:break;default:tn(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z1(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(To(s,""),r.flags&=-33);var i=Ly(t);qh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ly(t);Hh(t,a,o);break;default:throw Error(O(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $A(t,e,n){M=t,W1(t)}function W1(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||el;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=el;var u=it;if(el=o,(it=l)&&!u)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Fy(s):l!==null?(l.return=o,M=l):Fy(s);for(;i!==null;)M=i,W1(i),i=i.sibling;M=s,el=a,it=u}My(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):My(t)}}function My(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ey(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ey(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ao(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}it||e.flags&512&&zh(e)}catch(p){_e(e,e.return,p)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function jy(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Fy(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(l){_e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){_e(e,s,l)}}var i=e.return;try{zh(e)}catch(l){_e(e,i,l)}break;case 5:var o=e.return;try{zh(e)}catch(l){_e(e,o,l)}}}catch(l){_e(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var MA=Math.ceil,eu=Yn.ReactCurrentDispatcher,Ep=Yn.ReactCurrentOwner,Jt=Yn.ReactCurrentBatchConfig,ie=0,Be=null,Ne=null,Qe=0,Dt=0,Ws=Pr(0),$e=0,jo=null,rs=0,Uu=0,Sp=0,po=null,Tt=null,Cp=0,hi=1/0,Rn=null,tu=!1,Wh=null,gr=null,tl=!1,lr=null,nu=0,mo=0,Kh=null,Cl=-1,Tl=0;function vt(){return ie&6?be():Cl!==-1?Cl:Cl=be()}function yr(t){return t.mode&1?ie&2&&Qe!==0?Qe&-Qe:EA.transition!==null?(Tl===0&&(Tl=x0()),Tl):(t=le,t!==0||(t=window.event,t=t===void 0?16:$0(t.type)),t):1}function ln(t,e,n,r){if(50<mo)throw mo=0,Kh=null,Error(O(185));oa(t,n,r),(!(ie&2)||t!==Be)&&(t===Be&&(!(ie&2)&&(Uu|=n),$e===4&&rr(t,Qe)),bt(t,r),n===1&&ie===0&&!(e.mode&1)&&(hi=be()+500,$u&&Or()))}function bt(t,e){var n=t.callbackNode;EI(t,e);var r=Fl(t,t===Be?Qe:0);if(r===0)n!==null&&Gg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gg(n),e===1)t.tag===0?wA(Uy.bind(null,t)):t1(Uy.bind(null,t)),mA(function(){!(ie&6)&&Or()}),n=null;else{switch(P0(r)){case 1:n=Gf;break;case 4:n=A0;break;case 16:n=jl;break;case 536870912:n=b0;break;default:n=jl}n=eE(n,K1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K1(t,e){if(Cl=-1,Tl=0,ie&6)throw Error(O(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Fl(t,t===Be?Qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ru(t,r);else{e=r;var s=ie;ie|=2;var i=Q1();(Be!==t||Qe!==e)&&(Rn=null,hi=be()+500,Yr(t,e));do try{UA();break}catch(a){G1(t,a)}while(1);ap(),eu.current=i,ie=s,Ne!==null?e=0:(Be=null,Qe=0,e=$e)}if(e!==0){if(e===2&&(s=Eh(t),s!==0&&(r=s,e=Gh(t,s))),e===1)throw n=jo,Yr(t,0),rr(t,r),bt(t,be()),n;if(e===6)rr(t,r);else{if(s=t.current.alternate,!(r&30)&&!jA(s)&&(e=ru(t,r),e===2&&(i=Eh(t),i!==0&&(r=i,e=Gh(t,i))),e===1))throw n=jo,Yr(t,0),rr(t,r),bt(t,be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Br(t,Tt,Rn);break;case 3:if(rr(t,r),(r&130023424)===r&&(e=Cp+500-be(),10<e)){if(Fl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bh(Br.bind(null,t,Tt,Rn),e);break}Br(t,Tt,Rn);break;case 4:if(rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-an(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MA(r/1960))-r,10<r){t.timeoutHandle=bh(Br.bind(null,t,Tt,Rn),r);break}Br(t,Tt,Rn);break;case 5:Br(t,Tt,Rn);break;default:throw Error(O(329))}}}return bt(t,be()),t.callbackNode===n?K1.bind(null,t):null}function Gh(t,e){var n=po;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=ru(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Qh(e)),t}function Qh(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function jA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!un(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~Sp,e&=~Uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function Uy(t){if(ie&6)throw Error(O(327));Zs();var e=Fl(t,0);if(!(e&1))return bt(t,be()),null;var n=ru(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=Gh(t,r))}if(n===1)throw n=jo,Yr(t,0),rr(t,e),bt(t,be()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Tt,Rn),bt(t,be()),null}function Tp(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(hi=be()+500,$u&&Or())}}function ss(t){lr!==null&&lr.tag===0&&!(ie&6)&&Zs();var e=ie;ie|=1;var n=Jt.transition,r=le;try{if(Jt.transition=null,le=1,t)return t()}finally{le=r,Jt.transition=n,ie=e,!(ie&6)&&Or()}}function kp(){Dt=Ws.current,me(Ws)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pA(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hl();break;case 3:ci(),me(It),me(dt),fp();break;case 5:hp(r);break;case 4:ci();break;case 13:me(ve);break;case 19:me(ve);break;case 10:lp(r.type._context);break;case 22:case 23:kp()}n=n.return}if(Be=t,Ne=t=vr(t.current,null),Qe=Dt=e,$e=0,jo=null,Sp=Uu=rs=0,Tt=po=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hr=null}return t}function G1(t,e){do{var n=Ne;try{if(ap(),wl.current=Zl,Xl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xl=!1}if(ns=0,Fe=De=we=null,ho=!1,Lo=0,Ep.current=null,n===null||n.return===null){$e=1,jo=e,Ne=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ay(o);if(g!==null){g.flags&=-257,by(g,o,a,i,e),g.mode&1&&Iy(i,u,e),e=g,l=u;var w=e.updateQueue;if(w===null){var C=new Set;C.add(l),e.updateQueue=C}else w.add(l);break e}else{if(!(e&1)){Iy(i,u,e),_p();break e}l=Error(O(426))}}else if(ye&&a.mode&1){var _=Ay(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),by(_,o,a,i,e),ip(di(l,a));break e}}i=l=di(l,a),$e!==4&&($e=2),po===null?po=[i]:po.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=O1(i,l,e);wy(i,v);break e;case 1:a=l;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(gr===null||!gr.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=R1(i,a,e);wy(i,k);break e}}i=i.return}while(i!==null)}J1(n)}catch(b){e=b,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function Q1(){var t=eu.current;return eu.current=Zl,t===null?Zl:t}function _p(){($e===0||$e===3||$e===2)&&($e=4),Be===null||!(rs&268435455)&&!(Uu&268435455)||rr(Be,Qe)}function ru(t,e){var n=ie;ie|=2;var r=Q1();(Be!==t||Qe!==e)&&(Rn=null,Yr(t,e));do try{FA();break}catch(s){G1(t,s)}while(1);if(ap(),ie=n,eu.current=r,Ne!==null)throw Error(O(261));return Be=null,Qe=0,$e}function FA(){for(;Ne!==null;)Y1(Ne)}function UA(){for(;Ne!==null&&!dI();)Y1(Ne)}function Y1(t){var e=Z1(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?J1(t):Ne=e,Ep.current=null}function J1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NA(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Ne=null;return}}else if(n=RA(n,e,Dt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);$e===0&&($e=5)}function Br(t,e,n){var r=le,s=Jt.transition;try{Jt.transition=null,le=1,BA(t,e,n,r)}finally{Jt.transition=s,le=r}return null}function BA(t,e,n,r){do Zs();while(lr!==null);if(ie&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(SI(t,i),t===Be&&(Ne=Be=null,Qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,eE(jl,function(){return Zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jt.transition,Jt.transition=null;var o=le;le=1;var a=ie;ie|=4,Ep.current=null,LA(t,n),q1(n,t),aA(Ih),Ul=!!_h,Ih=_h=null,t.current=n,$A(n),hI(),ie=a,le=o,Jt.transition=i}else t.current=n;if(tl&&(tl=!1,lr=t,nu=s),i=t.pendingLanes,i===0&&(gr=null),mI(n.stateNode),bt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tu)throw tu=!1,t=Wh,Wh=null,t;return nu&1&&t.tag!==0&&Zs(),i=t.pendingLanes,i&1?t===Kh?mo++:(mo=0,Kh=t):mo=0,Or(),null}function Zs(){if(lr!==null){var t=P0(nu),e=Jt.transition,n=le;try{if(Jt.transition=null,le=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,nu=0,ie&6)throw Error(O(331));var s=ie;for(ie|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(M=u;M!==null;){var d=M;switch(d.tag){case 0:case 11:case 15:fo(8,d,i)}var f=d.child;if(f!==null)f.return=d,M=f;else for(;M!==null;){d=M;var p=d.sibling,g=d.return;if(V1(d),d===u){M=null;break}if(p!==null){p.return=g,M=p;break}M=g}}}var w=i.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var _=C.sibling;C.sibling=null,C=_}while(C!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,M=v;break e}M=i.return}}var y=t.current;for(M=y;M!==null;){o=M;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,M=S;else e:for(o=y;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fu(9,a)}}catch(b){_e(a,a.return,b)}if(a===o){M=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,M=k;break e}M=a.return}}if(ie=s,Or(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Ou,t)}catch{}r=!0}return r}finally{le=n,Jt.transition=e}}return!1}function By(t,e,n){e=di(n,e),e=O1(t,e,1),t=mr(t,e,1),e=vt(),t!==null&&(oa(t,1,e),bt(t,e))}function _e(t,e,n){if(t.tag===3)By(t,t,n);else for(;e!==null;){if(e.tag===3){By(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gr===null||!gr.has(r))){t=di(n,t),t=R1(e,t,1),e=mr(e,t,1),t=vt(),e!==null&&(oa(e,1,t),bt(e,t));break}}e=e.return}}function VA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Qe&n)===n&&($e===4||$e===3&&(Qe&130023424)===Qe&&500>be()-Cp?Yr(t,0):Sp|=n),bt(t,e)}function X1(t,e){e===0&&(t.mode&1?(e=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):e=1);var n=vt();t=zn(t,e),t!==null&&(oa(t,e,n),bt(t,n))}function zA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X1(t,n)}function HA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),X1(t,n)}var Z1;Z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,OA(t,e,n);_t=!!(t.flags&131072)}else _t=!1,ye&&e.flags&1048576&&n1(e,Kl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sl(t,e),t=e.pendingProps;var s=ai(e,dt.current);Xs(e,n),s=mp(null,e,r,t,s,n);var i=gp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(i=!0,ql(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cp(e),s.updater=Mu,e.stateNode=s,s._reactInternals=e,Lh(e,r,t,n),e=jh(null,e,r,!0,i,n)):(e.tag=0,ye&&i&&rp(e),gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WA(r),t=nn(r,t),s){case 0:e=Mh(null,e,r,t,n);break e;case 1:e=Oy(null,e,r,t,n);break e;case 11:e=xy(null,e,r,t,n);break e;case 14:e=Py(null,e,r,nn(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Mh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Oy(t,e,r,s,n);case 3:e:{if($1(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,o1(t,e),Yl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=di(Error(O(423)),e),e=Ry(t,e,r,n,s);break e}else if(r!==s){s=di(Error(O(424)),e),e=Ry(t,e,r,n,s);break e}else for($t=pr(e.stateNode.containerInfo.firstChild),jt=e,ye=!0,sn=null,n=c1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===s){e=Hn(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return d1(e),t===null&&Rh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ah(r,s)?o=null:i!==null&&Ah(r,i)&&(e.flags|=32),L1(t,e),gt(t,e,o,n),e.child;case 6:return t===null&&Rh(e),null;case 13:return M1(t,e,n);case 4:return dp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ui(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),xy(t,e,r,s,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,he(Gl,r._currentValue),r._currentValue=o,i!==null)if(un(i.value,o)){if(i.children===s.children&&!It.current){e=Hn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Un(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xs(e,n),s=Xt(s),r=r(s),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,s=nn(r,e.pendingProps),s=nn(r.type,s),Py(t,e,r,s,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:nn(r,s),Sl(t,e),e.tag=1,At(r)?(t=!0,ql(e)):t=!1,Xs(e,n),l1(e,r,s),Lh(e,r,s,n),jh(null,e,r,!0,t,n);case 19:return j1(t,e,n);case 22:return D1(t,e,n)}throw Error(O(156,e.tag))};function eE(t,e){return I0(t,e)}function qA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new qA(t,e,n,r)}function Ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WA(t){if(typeof t=="function")return Ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qf)return 11;if(t===Wf)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ip(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return Jr(n.children,s,i,e);case Hf:o=8,s|=8;break;case ih:return t=Yt(12,n,e,s|2),t.elementType=ih,t.lanes=i,t;case oh:return t=Yt(13,n,e,s),t.elementType=oh,t.lanes=i,t;case ah:return t=Yt(19,n,e,s),t.elementType=ah,t.lanes=i,t;case u0:return Bu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a0:o=10;break e;case l0:o=9;break e;case qf:o=11;break e;case Wf:o=14;break e;case er:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Yt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Jr(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function Bu(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=u0,t.lanes=n,t.stateNode={isHidden:!1},t}function yd(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function vd(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ap(t,e,n,r,s,i,o,a,l){return t=new KA(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cp(i),t}function GA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tE(t){if(!t)return kr;t=t._reactInternals;e:{if(fs(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(At(n))return e1(t,n,e)}return e}function nE(t,e,n,r,s,i,o,a,l){return t=Ap(n,r,!0,t,s,i,o,a,l),t.context=tE(null),n=t.current,r=vt(),s=yr(n),i=Un(r,s),i.callback=e??null,mr(n,i,s),t.current.lanes=s,oa(t,s,r),bt(t,r),t}function Vu(t,e,n,r){var s=e.current,i=vt(),o=yr(s);return n=tE(n),e.context===null?e.context=n:e.pendingContext=n,e=Un(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mr(s,e,o),t!==null&&(ln(t,s,o,i),vl(t,s,o)),o}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bp(t,e){Vy(t,e),(t=t.alternate)&&Vy(t,e)}function QA(){return null}var rE=typeof reportError=="function"?reportError:function(t){console.error(t)};function xp(t){this._internalRoot=t}zu.prototype.render=xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Vu(t,e,null,null)};zu.prototype.unmount=xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){Vu(null,t,null,null)}),e[Vn]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=N0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nr.length&&e!==0&&e<nr[n].priority;n++);nr.splice(n,0,t),n===0&&L0(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zy(){}function YA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=su(o);i.call(u)}}var o=nE(e,r,t,0,null,!1,!1,"",zy);return t._reactRootContainer=o,t[Vn]=o.current,Po(t.nodeType===8?t.parentNode:t),ss(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=su(l);a.call(u)}}var l=Ap(t,0,!1,null,null,!1,!1,"",zy);return t._reactRootContainer=l,t[Vn]=l.current,Po(t.nodeType===8?t.parentNode:t),ss(function(){Vu(e,l,n,r)}),l}function qu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=su(o);a.call(l)}}Vu(e,o,t,s)}else o=YA(n,e,t,s,r);return su(o)}O0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xi(e.pendingLanes);n!==0&&(Qf(e,n|1),bt(e,be()),!(ie&6)&&(hi=be()+500,Or()))}break;case 13:ss(function(){var r=zn(t,1);if(r!==null){var s=vt();ln(r,t,1,s)}}),bp(t,1)}};Yf=function(t){if(t.tag===13){var e=zn(t,134217728);if(e!==null){var n=vt();ln(e,t,134217728,n)}bp(t,134217728)}};R0=function(t){if(t.tag===13){var e=yr(t),n=zn(t,e);if(n!==null){var r=vt();ln(n,t,e,r)}bp(t,e)}};N0=function(){return le};D0=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};yh=function(t,e,n){switch(e){case"input":if(ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lu(r);if(!s)throw Error(O(90));d0(r),ch(r,s)}}}break;case"textarea":f0(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};E0=Tp;S0=ss;var JA={usingClientEntryPoint:!1,Events:[la,Us,Lu,v0,w0,Tp]},Ki={findFiberByHostInstance:zr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XA={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||QA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Ou=nl.inject(XA),wn=nl}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(e))throw Error(O(200));return GA(t,e,null,n)};zt.createRoot=function(t,e){if(!Pp(t))throw Error(O(299));var n=!1,r="",s=rE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ap(t,1,!1,null,null,n,!1,r,s),t[Vn]=e.current,Po(t.nodeType===8?t.parentNode:t),new xp(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=k0(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return ss(t)};zt.hydrate=function(t,e,n){if(!Hu(e))throw Error(O(200));return qu(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!Pp(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nE(e,null,t,1,n??null,s,!1,i,o),t[Vn]=e.current,Po(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zu(e)};zt.render=function(t,e,n){if(!Hu(e))throw Error(O(200));return qu(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!Hu(t))throw Error(O(40));return t._reactRootContainer?(ss(function(){qu(null,null,t,!1,function(){t._reactRootContainer=null,t[Vn]=null})}),!0):!1};zt.unstable_batchedUpdates=Tp;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hu(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return qu(t,e,n,!1,r)};zt.version="18.2.0-next-9e3b772b8-20220608";function sE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sE)}catch(t){console.error(t)}}sE(),n0.exports=zt;var ZA=n0.exports,Hy=ZA;rh.createRoot=Hy.createRoot,rh.hydrateRoot=Hy.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const qy="popstate";function eb(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:iu(s)}return nb(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Op(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tb(){return Math.random().toString(36).substr(2,8)}function Wy(t,e){return{usr:t.state,key:t.key,idx:e}}function Yh(t,e,n,r){return n===void 0&&(n=null),Fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||tb()})}function iu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nb(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ur.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Fo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ur.Pop;let _=d(),v=_==null?null:_-u;u=_,l&&l({action:a,location:C.location,delta:v})}function p(_,v){a=ur.Push;let y=Yh(C.location,_,v);n&&n(y,_),u=d()+1;let S=Wy(y,u),k=C.createHref(y);try{o.pushState(S,"",k)}catch{s.location.assign(k)}i&&l&&l({action:a,location:C.location,delta:1})}function g(_,v){a=ur.Replace;let y=Yh(C.location,_,v);n&&n(y,_),u=d();let S=Wy(y,u),k=C.createHref(y);o.replaceState(S,"",k),i&&l&&l({action:a,location:C.location,delta:0})}function w(_){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:iu(_);return xe(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let C={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(qy,f),l=_,()=>{s.removeEventListener(qy,f),l=null}},createHref(_){return e(s,_)},createURL:w,encodeLocation(_){let v=w(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(_){return o.go(_)}};return C}var Ky;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ky||(Ky={}));function rb(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ii(e):e,s=Rp(r.pathname||"/",n);if(s==null)return null;let i=iE(t);sb(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=fb(i[a],gb(s));return o}function iE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iE(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:db(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of oE(i.path))s(i,o,l)}),e}function oE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ib=/^:\w+$/,ob=3,ab=2,lb=1,ub=10,cb=-2,Gy=t=>t==="*";function db(t,e){let n=t.split("/"),r=n.length;return n.some(Gy)&&(r+=cb),e&&(r+=ab),n.filter(s=>!Gy(s)).reduce((s,i)=>s+(ib.test(i)?ob:i===""?lb:ub),r)}function hb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fb(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=pb({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let f=a.route;i.push({params:r,pathname:wr([s,d.pathname]),pathnameBase:Eb(wr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=wr([s,d.pathnameBase]))}return i}function pb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{if(d==="*"){let p=a[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}return u[d]=yb(a[f]||"",d),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Op(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gb(t){try{return decodeURI(t)}catch(e){return Op(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yb(t,e){try{return decodeURIComponent(t)}catch(n){return Op(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Rp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:wb(n,e):e,search:Sb(r),hash:Cb(s)}}function wb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Np(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ii(t):(s=Fo({},t),xe(!s.pathname||!s.pathname.includes("?"),wd("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),wd("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),wd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=vb(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const wr=t=>t.join("/").replace(/\/\/+/g,"/"),Eb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Sb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aE=["post","put","patch","delete"];new Set(aE);const kb=["get",...aE];new Set(kb);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}const Lp=A.createContext(null),_b=A.createContext(null),Ai=A.createContext(null),Wu=A.createContext(null),Rr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),lE=A.createContext(null);function Ib(t,e){let{relative:n}=e===void 0?{}:e;bi()||xe(!1);let{basename:r,navigator:s}=A.useContext(Ai),{hash:i,pathname:o,search:a}=cE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:wr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function bi(){return A.useContext(Wu)!=null}function ps(){return bi()||xe(!1),A.useContext(Wu).location}function uE(t){A.useContext(Ai).static||A.useLayoutEffect(t)}function Ku(){let{isDataRoute:t}=A.useContext(Rr);return t?Fb():Ab()}function Ab(){bi()||xe(!1);let t=A.useContext(Lp),{basename:e,navigator:n}=A.useContext(Ai),{matches:r}=A.useContext(Rr),{pathname:s}=ps(),i=JSON.stringify(Np(r).map(l=>l.pathnameBase)),o=A.useRef(!1);return uE(()=>{o.current=!0}),A.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Dp(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:wr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}function cE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=A.useContext(Rr),{pathname:s}=ps(),i=JSON.stringify(Np(r).map(o=>o.pathnameBase));return A.useMemo(()=>Dp(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function bb(t,e){return xb(t,e)}function xb(t,e,n){bi()||xe(!1);let{navigator:r}=A.useContext(Ai),{matches:s}=A.useContext(Rr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=ps(),u;if(e){var d;let C=typeof e=="string"?Ii(e):e;a==="/"||(d=C.pathname)!=null&&d.startsWith(a)||xe(!1),u=C}else u=l;let f=u.pathname||"/",p=a==="/"?f:f.slice(a.length)||"/",g=rb(t,{pathname:p}),w=Db(g&&g.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:wr([a,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?a:wr([a,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n);return e&&w?A.createElement(Wu.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ur.Pop}},w):w}function Pb(){let t=jb(),e=Tb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,i)}const Ob=A.createElement(Pb,null);class Rb extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?A.createElement(Rr.Provider,{value:this.props.routeContext},A.createElement(lE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nb(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(Lp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Rr.Provider,{value:e},r)}function Db(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||xe(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,f=null;n&&(f=l.route.errorElement||Ob);let p=e.concat(i.slice(0,u+1)),g=()=>{let w;return d?w=f:l.route.Component?w=A.createElement(l.route.Component,null):l.route.element?w=l.route.element:w=a,A.createElement(Nb,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:w})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?A.createElement(Rb,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Jh;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Jh||(Jh={}));var Uo;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Uo||(Uo={}));function Lb(t){let e=A.useContext(Lp);return e||xe(!1),e}function $b(t){let e=A.useContext(_b);return e||xe(!1),e}function Mb(t){let e=A.useContext(Rr);return e||xe(!1),e}function dE(t){let e=Mb(),n=e.matches[e.matches.length-1];return n.route.id||xe(!1),n.route.id}function jb(){var t;let e=A.useContext(lE),n=$b(Uo.UseRouteError),r=dE(Uo.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Fb(){let{router:t}=Lb(Jh.UseNavigateStable),e=dE(Uo.UseNavigateStable),n=A.useRef(!1);return uE(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ou({fromRouteId:e},i)))},[t,e])}function Ub(t){let{to:e,replace:n,state:r,relative:s}=t;bi()||xe(!1);let{matches:i}=A.useContext(Rr),{pathname:o}=ps(),a=Ku(),l=Dp(e,Np(i).map(d=>d.pathnameBase),o,s==="path"),u=JSON.stringify(l);return A.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function eo(t){xe(!1)}function Bb(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ur.Pop,navigator:i,static:o=!1}=t;bi()&&xe(!1);let a=e.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Ii(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,w=A.useMemo(()=>{let C=Rp(u,a);return C==null?null:{location:{pathname:C,search:d,hash:f,state:p,key:g},navigationType:s}},[a,u,d,f,p,g,s]);return w==null?null:A.createElement(Ai.Provider,{value:l},A.createElement(Wu.Provider,{children:n,value:w}))}function Vb(t){let{children:e,location:n}=t;return bb(Xh(e),n)}var Qy;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Qy||(Qy={}));new Promise(()=>{});function Xh(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,Xh(r.props.children,i));return}r.type!==eo&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function zb(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Hb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qb(t,e){return t.button===0&&(!e||e==="_self")&&!Hb(t)}const Wb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Kb(t){let{basename:e,children:n,window:r}=t,s=A.useRef();s.current==null&&(s.current=eb({window:r,v5Compat:!0}));let i=s.current,[o,a]=A.useState({action:i.action,location:i.location});return A.useLayoutEffect(()=>i.listen(a),[i]),A.createElement(Bb,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const Gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yb=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,f=zb(e,Wb),{basename:p}=A.useContext(Ai),g,w=!1;if(typeof u=="string"&&Qb.test(u)&&(g=u,Gb))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=Rp(S.pathname,p);S.origin===y.origin&&k!=null?u=k+S.search+S.hash:w=!0}catch{}let C=Ib(u,{relative:s}),_=Jb(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function v(y){r&&r(y),y.defaultPrevented||_(y)}return A.createElement("a",Zh({},f,{href:g||C,onClick:w||i?r:v,ref:n,target:l}))});var Yy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Yy||(Yy={}));var Jy;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jy||(Jy={}));function Jb(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Ku(),l=ps(),u=cE(t,{relative:o});return A.useCallback(d=>{if(qb(d,n)){d.preventDefault();let f=r!==void 0?r:iu(l)===iu(u);a(t,{replace:f,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}const Ce=A.createContext();var hE={exports:{}};/*!
* sweetalert2 v11.7.5
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(rt,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",s=c=>{const h={};for(const m in c)h[c[m]]=r+c[m];return h},i=s(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),o=s(["success","warning","info","question","error"]),a="SweetAlert2:",l=c=>{const h=[];for(let m=0;m<c.length;m++)h.indexOf(c[m])===-1&&h.push(c[m]);return h},u=c=>c.charAt(0).toUpperCase()+c.slice(1),d=c=>{console.warn(`${a} ${typeof c=="object"?c.join(" "):c}`)},f=c=>{console.error(`${a} ${c}`)},p=[],g=c=>{p.includes(c)||(p.push(c),d(c))},w=(c,h)=>{g(`"${c}" is deprecated and will be removed in the next major release. Please use "${h}" instead.`)},C=c=>typeof c=="function"?c():c,_=c=>c&&typeof c.toPromise=="function",v=c=>_(c)?c.toPromise():Promise.resolve(c),y=c=>c&&Promise.resolve(c)===c,S=()=>document.body.querySelector(`.${i.container}`),k=c=>{const h=S();return h?h.querySelector(c):null},b=c=>k(`.${c}`),x=()=>b(i.popup),N=()=>b(i.icon),$=()=>b(i["icon-content"]),Y=()=>b(i.title),F=()=>b(i["html-container"]),ee=()=>b(i.image),Ae=()=>b(i["progress-steps"]),Xe=()=>b(i["validation-message"]),oe=()=>k(`.${i.actions} .${i.confirm}`),pt=()=>k(`.${i.actions} .${i.cancel}`),Pe=()=>k(`.${i.actions} .${i.deny}`),Li=()=>b(i["input-label"]),L=()=>k(`.${i.loader}`),V=()=>b(i.actions),Q=()=>b(i.footer),ce=()=>b(i["timer-progress-bar"]),Te=()=>b(i.close),ws=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,en=()=>{const c=Array.from(x().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((m,E)=>{const I=parseInt(m.getAttribute("tabindex")),U=parseInt(E.getAttribute("tabindex"));return I>U?1:I<U?-1:0}),h=Array.from(x().querySelectorAll(ws)).filter(m=>m.getAttribute("tabindex")!=="-1");return l(c.concat(h)).filter(m=>Ot(m))},Mr=()=>On(document.body,i.shown)&&!On(document.body,i["toast-shown"])&&!On(document.body,i["no-backdrop"]),qt=()=>x()&&On(x(),i.toast),Es=()=>x().hasAttribute("data-loading"),Ss={previousBodyPadding:null},Pt=(c,h)=>{if(c.textContent="",h){const E=new DOMParser().parseFromString(h,"text/html");Array.from(E.querySelector("head").childNodes).forEach(I=>{c.appendChild(I)}),Array.from(E.querySelector("body").childNodes).forEach(I=>{I instanceof HTMLVideoElement||I instanceof HTMLAudioElement?c.appendChild(I.cloneNode(!0)):c.appendChild(I)})}},On=(c,h)=>{if(!h)return!1;const m=h.split(/\s+/);for(let E=0;E<m.length;E++)if(!c.classList.contains(m[E]))return!1;return!0},WT=(c,h)=>{Array.from(c.classList).forEach(m=>{!Object.values(i).includes(m)&&!Object.values(o).includes(m)&&!Object.values(h.showClass).includes(m)&&c.classList.remove(m)})},Wt=(c,h,m)=>{if(WT(c,h),h.customClass&&h.customClass[m]){if(typeof h.customClass[m]!="string"&&!h.customClass[m].forEach){d(`Invalid type of customClass.${m}! Expected string or iterable object, got "${typeof h.customClass[m]}"`);return}ne(c,h.customClass[m])}},Dc=(c,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return c.querySelector(`.${i.popup} > .${i[h]}`);case"checkbox":return c.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return c.querySelector(`.${i.popup} > .${i.radio} input:checked`)||c.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return c.querySelector(`.${i.popup} > .${i.range} input`);default:return c.querySelector(`.${i.popup} > .${i.input}`)}},eg=c=>{if(c.focus(),c.type!=="file"){const h=c.value;c.value="",c.value=h}},tg=(c,h,m)=>{!c||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(E=>{Array.isArray(c)?c.forEach(I=>{m?I.classList.add(E):I.classList.remove(E)}):m?c.classList.add(E):c.classList.remove(E)}))},ne=(c,h)=>{tg(c,h,!0)},dn=(c,h)=>{tg(c,h,!1)},Jn=(c,h)=>{const m=Array.from(c.children);for(let E=0;E<m.length;E++){const I=m[E];if(I instanceof HTMLElement&&On(I,h))return I}},Cs=(c,h,m)=>{m===`${parseInt(m)}`&&(m=parseInt(m)),m||parseInt(m)===0?c.style[h]=typeof m=="number"?`${m}px`:m:c.style.removeProperty(h)},He=function(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c.style.display=h},Ze=c=>{c.style.display="none"},ng=(c,h,m,E)=>{const I=c.querySelector(h);I&&(I.style[m]=E)},La=function(c,h){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?He(c,m):Ze(c)},Ot=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),KT=()=>!Ot(oe())&&!Ot(Pe())&&!Ot(pt()),rg=c=>c.scrollHeight>c.clientHeight,sg=c=>{const h=window.getComputedStyle(c),m=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return m>0||E>0},Lc=function(c){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const m=ce();Ot(m)&&(h&&(m.style.transition="none",m.style.width="100%"),setTimeout(()=>{m.style.transition=`width ${c/1e3}s linear`,m.style.width="0%"},10))},GT=()=>{const c=ce(),h=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";const m=parseInt(window.getComputedStyle(c).width),E=h/m*100;c.style.width=`${E}%`},QT=100,J={},YT=()=>{J.previousActiveElement instanceof HTMLElement?(J.previousActiveElement.focus(),J.previousActiveElement=null):document.body&&document.body.focus()},JT=c=>new Promise(h=>{if(!c)return h();const m=window.scrollX,E=window.scrollY;J.restoreFocusTimeout=setTimeout(()=>{YT(),h()},QT),window.scrollTo(m,E)}),ig=()=>typeof window>"u"||typeof document>"u",XT=`
 <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">
   <button type="button" class="${i.close}"></button>
   <ul class="${i["progress-steps"]}"></ul>
   <div class="${i.icon}"></div>
   <img class="${i.image}" />
   <h2 class="${i.title}" id="${i.title}"></h2>
   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>
   <input class="${i.input}" />
   <input type="file" class="${i.file}" />
   <div class="${i.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${i.select}"></select>
   <div class="${i.radio}"></div>
   <label for="${i.checkbox}" class="${i.checkbox}">
     <input type="checkbox" />
     <span class="${i.label}"></span>
   </label>
   <textarea class="${i.textarea}"></textarea>
   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>
   <div class="${i.actions}">
     <div class="${i.loader}"></div>
     <button type="button" class="${i.confirm}"></button>
     <button type="button" class="${i.deny}"></button>
     <button type="button" class="${i.cancel}"></button>
   </div>
   <div class="${i.footer}"></div>
   <div class="${i["timer-progress-bar-container"]}">
     <div class="${i["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ZT=()=>{const c=S();return c?(c.remove(),dn([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0):!1},jr=()=>{J.currentInstance.resetValidationMessage()},e2=()=>{const c=x(),h=Jn(c,i.input),m=Jn(c,i.file),E=c.querySelector(`.${i.range} input`),I=c.querySelector(`.${i.range} output`),U=Jn(c,i.select),de=c.querySelector(`.${i.checkbox} input`),Rt=Jn(c,i.textarea);h.oninput=jr,m.onchange=jr,U.onchange=jr,de.onchange=jr,Rt.oninput=jr,E.oninput=()=>{jr(),I.value=E.value},E.onchange=()=>{jr(),I.value=E.value}},t2=c=>typeof c=="string"?document.querySelector(c):c,n2=c=>{const h=x();h.setAttribute("role",c.toast?"alert":"dialog"),h.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||h.setAttribute("aria-modal","true")},r2=c=>{window.getComputedStyle(c).direction==="rtl"&&ne(S(),i.rtl)},s2=c=>{const h=ZT();if(ig()){f("SweetAlert2 requires document to initialize");return}const m=document.createElement("div");m.className=i.container,h&&ne(m,i["no-transition"]),Pt(m,XT);const E=t2(c.target);E.appendChild(m),n2(c),r2(E),e2()},$c=(c,h)=>{c instanceof HTMLElement?h.appendChild(c):typeof c=="object"?i2(c,h):c&&Pt(h,c)},i2=(c,h)=>{c.jquery?o2(h,c):Pt(h,c.toString())},o2=(c,h)=>{if(c.textContent="",0 in h)for(let m=0;m in h;m++)c.appendChild(h[m].cloneNode(!0));else c.appendChild(h.cloneNode(!0))},$i=(()=>{if(ig())return!1;const c=document.createElement("div"),h={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const m in h)if(Object.prototype.hasOwnProperty.call(h,m)&&typeof c.style[m]<"u")return h[m];return!1})(),a2=()=>{const c=document.createElement("div");c.className=i["scrollbar-measure"],document.body.appendChild(c);const h=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),h},l2=(c,h)=>{const m=V(),E=L();!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Ze(m):He(m),Wt(m,h,"actions"),u2(m,E,h),Pt(E,h.loaderHtml),Wt(E,h,"loader")};function u2(c,h,m){const E=oe(),I=Pe(),U=pt();Mc(E,"confirm",m),Mc(I,"deny",m),Mc(U,"cancel",m),c2(E,I,U,m),m.reverseButtons&&(m.toast?(c.insertBefore(U,E),c.insertBefore(I,E)):(c.insertBefore(U,h),c.insertBefore(I,h),c.insertBefore(E,h)))}function c2(c,h,m,E){if(!E.buttonsStyling){dn([c,h,m],i.styled);return}ne([c,h,m],i.styled),E.confirmButtonColor&&(c.style.backgroundColor=E.confirmButtonColor,ne(c,i["default-outline"])),E.denyButtonColor&&(h.style.backgroundColor=E.denyButtonColor,ne(h,i["default-outline"])),E.cancelButtonColor&&(m.style.backgroundColor=E.cancelButtonColor,ne(m,i["default-outline"]))}function Mc(c,h,m){La(c,m[`show${u(h)}Button`],"inline-block"),Pt(c,m[`${h}ButtonText`]),c.setAttribute("aria-label",m[`${h}ButtonAriaLabel`]),c.className=i[h],Wt(c,m,`${h}Button`),ne(c,m[`${h}ButtonClass`])}const d2=(c,h)=>{const m=Te();Pt(m,h.closeButtonHtml),Wt(m,h,"closeButton"),La(m,h.showCloseButton),m.setAttribute("aria-label",h.closeButtonAriaLabel)},h2=(c,h)=>{const m=S();m&&(f2(m,h.backdrop),p2(m,h.position),m2(m,h.grow),Wt(m,h,"container"))};function f2(c,h){typeof h=="string"?c.style.background=h:h||ne([document.documentElement,document.body],i["no-backdrop"])}function p2(c,h){h in i?ne(c,i[h]):(d('The "position" parameter is not valid, defaulting to "center"'),ne(c,i.center))}function m2(c,h){if(h&&typeof h=="string"){const m=`grow-${h}`;m in i&&ne(c,i[m])}}const g2=["input","file","range","select","radio","checkbox","textarea"],y2=(c,h)=>{const m=x(),E=n.innerParams.get(c),I=!E||h.input!==E.input;g2.forEach(U=>{const de=Jn(m,i[U]);E2(U,h.inputAttributes),de.className=i[U],I&&Ze(de)}),h.input&&(I&&v2(h),S2(h))},v2=c=>{if(!St[c.input]){f(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${c.input}"`);return}const h=og(c.input),m=St[c.input](h,c);He(h),c.inputAutoFocus&&setTimeout(()=>{eg(m)})},w2=c=>{for(let h=0;h<c.attributes.length;h++){const m=c.attributes[h].name;["type","value","style"].includes(m)||c.removeAttribute(m)}},E2=(c,h)=>{const m=Dc(x(),c);if(m){w2(m);for(const E in h)m.setAttribute(E,h[E])}},S2=c=>{const h=og(c.input);typeof c.customClass=="object"&&ne(h,c.customClass.input)},jc=(c,h)=>{(!c.placeholder||h.inputPlaceholder)&&(c.placeholder=h.inputPlaceholder)},Mi=(c,h,m)=>{if(m.inputLabel){c.id=i.input;const E=document.createElement("label"),I=i["input-label"];E.setAttribute("for",c.id),E.className=I,typeof m.customClass=="object"&&ne(E,m.customClass.inputLabel),E.innerText=m.inputLabel,h.insertAdjacentElement("beforebegin",E)}},og=c=>Jn(x(),i[c]||i.input),$a=(c,h)=>{["string","number"].includes(typeof h)?c.value=`${h}`:y(h)||d(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},St={};St.text=St.email=St.password=St.number=St.tel=St.url=(c,h)=>($a(c,h.inputValue),Mi(c,c,h),jc(c,h),c.type=h.input,c),St.file=(c,h)=>(Mi(c,c,h),jc(c,h),c),St.range=(c,h)=>{const m=c.querySelector("input"),E=c.querySelector("output");return $a(m,h.inputValue),m.type=h.input,$a(E,h.inputValue),Mi(m,c,h),c},St.select=(c,h)=>{if(c.textContent="",h.inputPlaceholder){const m=document.createElement("option");Pt(m,h.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,c.appendChild(m)}return Mi(c,c,h),c},St.radio=c=>(c.textContent="",c),St.checkbox=(c,h)=>{const m=Dc(x(),"checkbox");m.value="1",m.id=i.checkbox,m.checked=!!h.inputValue;const E=c.querySelector("span");return Pt(E,h.inputPlaceholder),m},St.textarea=(c,h)=>{$a(c,h.inputValue),jc(c,h),Mi(c,c,h);const m=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const E=parseInt(window.getComputedStyle(x()).width),I=()=>{const U=c.offsetWidth+m(c);U>E?x().style.width=`${U}px`:x().style.width=null};new MutationObserver(I).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};const C2=(c,h)=>{const m=F();Wt(m,h,"htmlContainer"),h.html?($c(h.html,m),He(m,"block")):h.text?(m.textContent=h.text,He(m,"block")):Ze(m),y2(c,h)},T2=(c,h)=>{const m=Q();La(m,h.footer),h.footer&&$c(h.footer,m),Wt(m,h,"footer")},k2=(c,h)=>{const m=n.innerParams.get(c),E=N();if(m&&h.icon===m.icon){lg(E,h),ag(E,h);return}if(!h.icon&&!h.iconHtml){Ze(E);return}if(h.icon&&Object.keys(o).indexOf(h.icon)===-1){f(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Ze(E);return}He(E),lg(E,h),ag(E,h),ne(E,h.showClass.icon)},ag=(c,h)=>{for(const m in o)h.icon!==m&&dn(c,o[m]);ne(c,o[h.icon]),b2(c,h),_2(),Wt(c,h,"icon")},_2=()=>{const c=x(),h=window.getComputedStyle(c).getPropertyValue("background-color"),m=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<m.length;E++)m[E].style.backgroundColor=h},I2=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,A2=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,lg=(c,h)=>{let m=c.innerHTML,E;h.iconHtml?E=ug(h.iconHtml):h.icon==="success"?(E=I2,m=m.replace(/ style=".*?"/g,"")):h.icon==="error"?E=A2:E=ug({question:"?",warning:"!",info:"i"}[h.icon]),m.trim()!==E.trim()&&Pt(c,E)},b2=(c,h)=>{if(h.iconColor){c.style.color=h.iconColor,c.style.borderColor=h.iconColor;for(const m of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ng(c,m,"backgroundColor",h.iconColor);ng(c,".swal2-success-ring","borderColor",h.iconColor)}},ug=c=>`<div class="${i["icon-content"]}">${c}</div>`,x2=(c,h)=>{const m=ee();if(!h.imageUrl){Ze(m);return}He(m,""),m.setAttribute("src",h.imageUrl),m.setAttribute("alt",h.imageAlt),Cs(m,"width",h.imageWidth),Cs(m,"height",h.imageHeight),m.className=i.image,Wt(m,h,"image")},P2=(c,h)=>{const m=S(),E=x();h.toast?(Cs(m,"width",h.width),E.style.width="100%",E.insertBefore(L(),N())):Cs(E,"width",h.width),Cs(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),Ze(Xe()),O2(E,h)},O2=(c,h)=>{c.className=`${i.popup} ${Ot(c)?h.showClass.popup:""}`,h.toast?(ne([document.documentElement,document.body],i["toast-shown"]),ne(c,i.toast)):ne(c,i.modal),Wt(c,h,"popup"),typeof h.customClass=="string"&&ne(c,h.customClass),h.icon&&ne(c,i[`icon-${h.icon}`])},R2=(c,h)=>{const m=Ae();if(!h.progressSteps||h.progressSteps.length===0){Ze(m);return}He(m),m.textContent="",h.currentProgressStep>=h.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),h.progressSteps.forEach((E,I)=>{const U=N2(E);if(m.appendChild(U),I===h.currentProgressStep&&ne(U,i["active-progress-step"]),I!==h.progressSteps.length-1){const de=D2(h);m.appendChild(de)}})},N2=c=>{const h=document.createElement("li");return ne(h,i["progress-step"]),Pt(h,c),h},D2=c=>{const h=document.createElement("li");return ne(h,i["progress-step-line"]),c.progressStepsDistance&&Cs(h,"width",c.progressStepsDistance),h},L2=(c,h)=>{const m=Y();La(m,h.title||h.titleText,"block"),h.title&&$c(h.title,m),h.titleText&&(m.innerText=h.titleText),Wt(m,h,"title")},cg=(c,h)=>{P2(c,h),h2(c,h),R2(c,h),k2(c,h),x2(c,h),L2(c,h),d2(c,h),C2(c,h),l2(c,h),T2(c,h),typeof h.didRender=="function"&&h.didRender(x())};function dg(){const c=n.innerParams.get(this);if(!c)return;const h=n.domCache.get(this);Ze(h.loader),qt()?c.icon&&He(N()):$2(h),dn([h.popup,h.actions],i.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}const $2=c=>{const h=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));h.length?He(h[0],"inline-block"):KT()&&Ze(c.actions)};function M2(c){const h=n.innerParams.get(c||this),m=n.domCache.get(c||this);return m?Dc(m.popup,h.input):null}const j2=()=>Ot(x()),hg=()=>oe()&&oe().click(),F2=()=>Pe()&&Pe().click(),U2=()=>pt()&&pt().click(),Ts=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fg=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},B2=(c,h,m,E)=>{fg(h),m.toast||(h.keydownHandler=I=>z2(c,I,E),h.keydownTarget=m.keydownListenerCapture?window:x(),h.keydownListenerCapture=m.keydownListenerCapture,h.keydownTarget.addEventListener("keydown",h.keydownHandler,{capture:h.keydownListenerCapture}),h.keydownHandlerAdded=!0)},Fc=(c,h)=>{const m=en();if(m.length){c=c+h,c===m.length?c=0:c===-1&&(c=m.length-1),m[c].focus();return}x().focus()},pg=["ArrowRight","ArrowDown"],V2=["ArrowLeft","ArrowUp"],z2=(c,h,m)=>{const E=n.innerParams.get(c);E&&(h.isComposing||h.keyCode===229||(E.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?H2(c,h,E):h.key==="Tab"?q2(h):[...pg,...V2].includes(h.key)?W2(h.key):h.key==="Escape"&&K2(h,E,m)))},H2=(c,h,m)=>{if(C(m.allowEnterKey)&&h.target&&c.getInput()&&h.target instanceof HTMLElement&&h.target.outerHTML===c.getInput().outerHTML){if(["textarea","file"].includes(m.input))return;hg(),h.preventDefault()}},q2=c=>{const h=c.target,m=en();let E=-1;for(let I=0;I<m.length;I++)if(h===m[I]){E=I;break}c.shiftKey?Fc(E,-1):Fc(E,1),c.stopPropagation(),c.preventDefault()},W2=c=>{const h=oe(),m=Pe(),E=pt(),I=[h,m,E];if(document.activeElement instanceof HTMLElement&&!I.includes(document.activeElement))return;const U=pg.includes(c)?"nextElementSibling":"previousElementSibling";let de=document.activeElement;for(let Rt=0;Rt<V().children.length;Rt++){if(de=de[U],!de)return;if(de instanceof HTMLButtonElement&&Ot(de))break}de instanceof HTMLButtonElement&&de.focus()},K2=(c,h,m)=>{C(h.allowEscapeKey)&&(c.preventDefault(),m(Ts.esc))};var ji={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const G2=()=>{Array.from(document.body.children).forEach(h=>{h===S()||h.contains(S())||(h.hasAttribute("aria-hidden")&&h.setAttribute("data-previous-aria-hidden",h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))})},mg=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Q2=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!On(document.body,i.iosfix)){const h=document.body.scrollTop;document.body.style.top=`${h*-1}px`,ne(document.body,i.iosfix),J2(),Y2()}},Y2=()=>{const c=navigator.userAgent,h=!!c.match(/iPad/i)||!!c.match(/iPhone/i),m=!!c.match(/WebKit/i);h&&m&&!c.match(/CriOS/i)&&x().scrollHeight>window.innerHeight-44&&(S().style.paddingBottom="44px")},J2=()=>{const c=S();let h;c.ontouchstart=m=>{h=X2(m)},c.ontouchmove=m=>{h&&(m.preventDefault(),m.stopPropagation())}},X2=c=>{const h=c.target,m=S();return Z2(c)||ek(c)?!1:h===m||!rg(m)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(rg(F())&&F().contains(h))},Z2=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",ek=c=>c.touches&&c.touches.length>1,tk=()=>{if(On(document.body,i.iosfix)){const c=parseInt(document.body.style.top,10);dn(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},nk=()=>{Ss.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Ss.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ss.previousBodyPadding+a2()}px`)},rk=()=>{Ss.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Ss.previousBodyPadding}px`,Ss.previousBodyPadding=null)};function gg(c,h,m,E){qt()?yg(c,E):(JT(m).then(()=>yg(c,E)),fg(J)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Mr()&&(rk(),tk(),mg()),sk()}function sk(){dn([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function Ma(c){c=lk(c);const h=ji.swalPromiseResolve.get(this),m=ok(this);this.isAwaitingPromise()?c.isDismissed||(Fi(this),h(c)):m&&h(c)}function ik(){return!!n.awaitingPromise.get(this)}const ok=c=>{const h=x();if(!h)return!1;const m=n.innerParams.get(c);if(!m||On(h,m.hideClass.popup))return!1;dn(h,m.showClass.popup),ne(h,m.hideClass.popup);const E=S();return dn(E,m.showClass.backdrop),ne(E,m.hideClass.backdrop),uk(c,h,m),!0};function ak(c){const h=ji.swalPromiseReject.get(this);Fi(this),h&&h(c)}const Fi=c=>{c.isAwaitingPromise()&&(n.awaitingPromise.delete(c),n.innerParams.get(c)||c._destroy())},lk=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),uk=(c,h,m)=>{const E=S(),I=$i&&sg(h);typeof m.willClose=="function"&&m.willClose(h),I?ck(c,h,E,m.returnFocus,m.didClose):gg(c,E,m.returnFocus,m.didClose)},ck=(c,h,m,E,I)=>{J.swalCloseEventFinishedCallback=gg.bind(null,c,m,E,I),h.addEventListener($i,function(U){U.target===h&&(J.swalCloseEventFinishedCallback(),delete J.swalCloseEventFinishedCallback)})},yg=(c,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(c.params)(),c._destroy()})};function vg(c,h,m){const E=n.domCache.get(c);h.forEach(I=>{E[I].disabled=m})}function wg(c,h){if(c)if(c.type==="radio"){const E=c.parentNode.parentNode.querySelectorAll("input");for(let I=0;I<E.length;I++)E[I].disabled=h}else c.disabled=h}function dk(){vg(this,["confirmButton","denyButton","cancelButton"],!1)}function hk(){vg(this,["confirmButton","denyButton","cancelButton"],!0)}function fk(){wg(this.getInput(),!1)}function pk(){wg(this.getInput(),!0)}function mk(c){const h=n.domCache.get(this),m=n.innerParams.get(this);Pt(h.validationMessage,c),h.validationMessage.className=i["validation-message"],m.customClass&&m.customClass.validationMessage&&ne(h.validationMessage,m.customClass.validationMessage),He(h.validationMessage);const E=this.getInput();E&&(E.setAttribute("aria-invalid",!0),E.setAttribute("aria-describedby",i["validation-message"]),eg(E),ne(E,i.inputerror))}function gk(){const c=n.domCache.get(this);c.validationMessage&&Ze(c.validationMessage);const h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),dn(h,i.inputerror))}const ks={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vk={},wk=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Eg=c=>Object.prototype.hasOwnProperty.call(ks,c),Sg=c=>yk.indexOf(c)!==-1,Uc=c=>vk[c],Ek=c=>{Eg(c)||d(`Unknown parameter "${c}"`)},Sk=c=>{wk.includes(c)&&d(`The parameter "${c}" is incompatible with toasts`)},Ck=c=>{Uc(c)&&w(c,Uc(c))},Tk=c=>{c.backdrop===!1&&c.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const h in c)Ek(h),c.toast&&Sk(h),Ck(h)};function kk(c){const h=x(),m=n.innerParams.get(this);if(!h||On(h,m.hideClass.popup)){d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const E=_k(c),I=Object.assign({},m,E);cg(this,I),n.innerParams.set(this,I),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}const _k=c=>{const h={};return Object.keys(c).forEach(m=>{Sg(m)?h[m]=c[m]:d(`Invalid parameter to update: ${m}`)}),h};function Ik(){const c=n.domCache.get(this),h=n.innerParams.get(this);if(!h){Cg(this);return}c.popup&&J.swalCloseEventFinishedCallback&&(J.swalCloseEventFinishedCallback(),delete J.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),Ak(this)}const Ak=c=>{Cg(c),delete c.params,delete J.keydownHandler,delete J.keydownTarget,delete J.currentInstance},Cg=c=>{c.isAwaitingPromise()?(Bc(n,c),n.awaitingPromise.set(c,!0)):(Bc(ji,c),Bc(n,c))},Bc=(c,h)=>{for(const m in c)c[m].delete(h)};var Tg=Object.freeze({__proto__:null,_destroy:Ik,close:Ma,closeModal:Ma,closePopup:Ma,closeToast:Ma,disableButtons:hk,disableInput:pk,disableLoading:dg,enableButtons:dk,enableInput:fk,getInput:M2,handleAwaitingPromise:Fi,hideLoading:dg,isAwaitingPromise:ik,rejectPromise:ak,resetValidationMessage:gk,showValidationMessage:mk,update:kk});const _s=c=>{let h=x();h||new Fa,h=x();const m=L();qt()?Ze(N()):bk(h,c),He(m),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},bk=(c,h)=>{const m=V(),E=L();!h&&Ot(oe())&&(h=oe()),He(m),h&&(Ze(h),E.setAttribute("data-button-to-replace",h.className)),E.parentNode.insertBefore(E,h),ne([c,m],i.loading)},xk=(c,h)=>{h.input==="select"||h.input==="radio"?Dk(c,h):["text","email","number","tel","textarea"].includes(h.input)&&(_(h.inputValue)||y(h.inputValue))&&(_s(oe()),Lk(c,h))},Pk=(c,h)=>{const m=c.getInput();if(!m)return null;switch(h.input){case"checkbox":return Ok(m);case"radio":return Rk(m);case"file":return Nk(m);default:return h.inputAutoTrim?m.value.trim():m.value}},Ok=c=>c.checked?1:0,Rk=c=>c.checked?c.value:null,Nk=c=>c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,Dk=(c,h)=>{const m=x(),E=I=>{$k[h.input](m,Vc(I),h)};_(h.inputOptions)||y(h.inputOptions)?(_s(oe()),v(h.inputOptions).then(I=>{c.hideLoading(),E(I)})):typeof h.inputOptions=="object"?E(h.inputOptions):f(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Lk=(c,h)=>{const m=c.getInput();Ze(m),v(h.inputValue).then(E=>{m.value=h.input==="number"?`${parseFloat(E)||0}`:`${E}`,He(m),m.focus(),c.hideLoading()}).catch(E=>{f(`Error in inputValue promise: ${E}`),m.value="",He(m),m.focus(),c.hideLoading()})},$k={select:(c,h,m)=>{const E=Jn(c,i.select),I=(U,de,Rt)=>{const mt=document.createElement("option");mt.value=Rt,Pt(mt,de),mt.selected=kg(Rt,m.inputValue),U.appendChild(mt)};h.forEach(U=>{const de=U[0],Rt=U[1];if(Array.isArray(Rt)){const mt=document.createElement("optgroup");mt.label=de,mt.disabled=!1,E.appendChild(mt),Rt.forEach(As=>I(mt,As[1],As[0]))}else I(E,Rt,de)}),E.focus()},radio:(c,h,m)=>{const E=Jn(c,i.radio);h.forEach(U=>{const de=U[0],Rt=U[1],mt=document.createElement("input"),As=document.createElement("label");mt.type="radio",mt.name=i.radio,mt.value=de,kg(de,m.inputValue)&&(mt.checked=!0);const Wc=document.createElement("span");Pt(Wc,Rt),Wc.className=i.label,As.appendChild(mt),As.appendChild(Wc),E.appendChild(As)});const I=E.querySelectorAll("input");I.length&&I[0].focus()}},Vc=c=>{const h=[];return typeof Map<"u"&&c instanceof Map?c.forEach((m,E)=>{let I=m;typeof I=="object"&&(I=Vc(I)),h.push([E,I])}):Object.keys(c).forEach(m=>{let E=c[m];typeof E=="object"&&(E=Vc(E)),h.push([m,E])}),h},kg=(c,h)=>h&&h.toString()===c.toString(),Mk=c=>{const h=n.innerParams.get(c);c.disableButtons(),h.input?_g(c,"confirm"):Hc(c,!0)},jk=c=>{const h=n.innerParams.get(c);c.disableButtons(),h.returnInputValueOnDeny?_g(c,"deny"):zc(c,!1)},Fk=(c,h)=>{c.disableButtons(),h(Ts.cancel)},_g=(c,h)=>{const m=n.innerParams.get(c);if(!m.input){f(`The "input" parameter is needed to be set when using returnInputValueOn${u(h)}`);return}const E=Pk(c,m);m.inputValidator?Uk(c,E,h):c.getInput().checkValidity()?h==="deny"?zc(c,E):Hc(c,E):(c.enableButtons(),c.showValidationMessage(m.validationMessage))},Uk=(c,h,m)=>{const E=n.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>v(E.inputValidator(h,E.validationMessage))).then(U=>{c.enableButtons(),c.enableInput(),U?c.showValidationMessage(U):m==="deny"?zc(c,h):Hc(c,h)})},zc=(c,h)=>{const m=n.innerParams.get(c||void 0);m.showLoaderOnDeny&&_s(Pe()),m.preDeny?(n.awaitingPromise.set(c||void 0,!0),Promise.resolve().then(()=>v(m.preDeny(h,m.validationMessage))).then(I=>{I===!1?(c.hideLoading(),Fi(c)):c.close({isDenied:!0,value:typeof I>"u"?h:I})}).catch(I=>Ag(c||void 0,I))):c.close({isDenied:!0,value:h})},Ig=(c,h)=>{c.close({isConfirmed:!0,value:h})},Ag=(c,h)=>{c.rejectPromise(h)},Hc=(c,h)=>{const m=n.innerParams.get(c||void 0);m.showLoaderOnConfirm&&_s(),m.preConfirm?(c.resetValidationMessage(),n.awaitingPromise.set(c||void 0,!0),Promise.resolve().then(()=>v(m.preConfirm(h,m.validationMessage))).then(I=>{Ot(Xe())||I===!1?(c.hideLoading(),Fi(c)):Ig(c,typeof I>"u"?h:I)}).catch(I=>Ag(c||void 0,I))):Ig(c,h)},Bk=(c,h,m)=>{n.innerParams.get(c).toast?Vk(c,h,m):(Hk(h),qk(h),Wk(c,h,m))},Vk=(c,h,m)=>{h.popup.onclick=()=>{const E=n.innerParams.get(c);E&&(zk(E)||E.timer||E.input)||m(Ts.close)}},zk=c=>c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton;let ja=!1;const Hk=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(h){c.container.onmouseup=void 0,h.target===c.container&&(ja=!0)}}},qk=c=>{c.container.onmousedown=()=>{c.popup.onmouseup=function(h){c.popup.onmouseup=void 0,(h.target===c.popup||c.popup.contains(h.target))&&(ja=!0)}}},Wk=(c,h,m)=>{h.container.onclick=E=>{const I=n.innerParams.get(c);if(ja){ja=!1;return}E.target===h.container&&C(I.allowOutsideClick)&&m(Ts.backdrop)}},Kk=c=>typeof c=="object"&&c.jquery,bg=c=>c instanceof Element||Kk(c),Gk=c=>{const h={};return typeof c[0]=="object"&&!bg(c[0])?Object.assign(h,c[0]):["title","html","icon"].forEach((m,E)=>{const I=c[E];typeof I=="string"||bg(I)?h[m]=I:I!==void 0&&f(`Unexpected type of ${m}! Expected "string" or "Element", got ${typeof I}`)}),h};function Qk(){const c=this;for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return new c(...m)}function Yk(c){class h extends this{_main(E,I){return super._main(E,Object.assign({},c,I))}}return h}const Jk=()=>J.timeout&&J.timeout.getTimerLeft(),xg=()=>{if(J.timeout)return GT(),J.timeout.stop()},Pg=()=>{if(J.timeout){const c=J.timeout.start();return Lc(c),c}},Xk=()=>{const c=J.timeout;return c&&(c.running?xg():Pg())},Zk=c=>{if(J.timeout){const h=J.timeout.increase(c);return Lc(h,!0),h}},e_=()=>J.timeout&&J.timeout.isRunning();let Og=!1;const qc={};function t_(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";qc[c]=this,Og||(document.body.addEventListener("click",n_),Og=!0)}const n_=c=>{for(let h=c.target;h&&h!==document;h=h.parentNode)for(const m in qc){const E=h.getAttribute(m);if(E){qc[m].fire({template:E});return}}};var r_=Object.freeze({__proto__:null,argsToParams:Gk,bindClickHandler:t_,clickCancel:U2,clickConfirm:hg,clickDeny:F2,enableLoading:_s,fire:Qk,getActions:V,getCancelButton:pt,getCloseButton:Te,getConfirmButton:oe,getContainer:S,getDenyButton:Pe,getFocusableElements:en,getFooter:Q,getHtmlContainer:F,getIcon:N,getIconContent:$,getImage:ee,getInputLabel:Li,getLoader:L,getPopup:x,getProgressSteps:Ae,getTimerLeft:Jk,getTimerProgressBar:ce,getTitle:Y,getValidationMessage:Xe,increaseTimer:Zk,isDeprecatedParameter:Uc,isLoading:Es,isTimerRunning:e_,isUpdatableParameter:Sg,isValidParameter:Eg,isVisible:j2,mixin:Yk,resumeTimer:Pg,showLoading:_s,stopTimer:xg,toggleTimer:Xk});class s_{constructor(h,m){this.callback=h,this.remaining=m,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){const m=this.running;return m&&this.stop(),this.remaining+=h,m&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Rg=["swal-title","swal-html","swal-footer"],i_=c=>{const h=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!h)return{};const m=h.content;return f_(m),Object.assign(o_(m),a_(m),l_(m),u_(m),c_(m),d_(m),h_(m,Rg))},o_=c=>{const h={};return Array.from(c.querySelectorAll("swal-param")).forEach(E=>{Fr(E,["name","value"]);const I=E.getAttribute("name"),U=E.getAttribute("value");typeof ks[I]=="boolean"?h[I]=U!=="false":typeof ks[I]=="object"?h[I]=JSON.parse(U):h[I]=U}),h},a_=c=>{const h={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(E=>{const I=E.getAttribute("name"),U=E.getAttribute("value");h[I]=new Function(`return ${U}`)()}),h},l_=c=>{const h={};return Array.from(c.querySelectorAll("swal-button")).forEach(E=>{Fr(E,["type","color","aria-label"]);const I=E.getAttribute("type");h[`${I}ButtonText`]=E.innerHTML,h[`show${u(I)}Button`]=!0,E.hasAttribute("color")&&(h[`${I}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h[`${I}ButtonAriaLabel`]=E.getAttribute("aria-label"))}),h},u_=c=>{const h={},m=c.querySelector("swal-image");return m&&(Fr(m,["src","width","height","alt"]),m.hasAttribute("src")&&(h.imageUrl=m.getAttribute("src")),m.hasAttribute("width")&&(h.imageWidth=m.getAttribute("width")),m.hasAttribute("height")&&(h.imageHeight=m.getAttribute("height")),m.hasAttribute("alt")&&(h.imageAlt=m.getAttribute("alt"))),h},c_=c=>{const h={},m=c.querySelector("swal-icon");return m&&(Fr(m,["type","color"]),m.hasAttribute("type")&&(h.icon=m.getAttribute("type")),m.hasAttribute("color")&&(h.iconColor=m.getAttribute("color")),h.iconHtml=m.innerHTML),h},d_=c=>{const h={},m=c.querySelector("swal-input");m&&(Fr(m,["type","label","placeholder","value"]),h.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(h.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(h.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(h.inputValue=m.getAttribute("value")));const E=Array.from(c.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(I=>{Fr(I,["value"]);const U=I.getAttribute("value"),de=I.innerHTML;h.inputOptions[U]=de})),h},h_=(c,h)=>{const m={};for(const E in h){const I=h[E],U=c.querySelector(I);U&&(Fr(U,[]),m[I.replace(/^swal-/,"")]=U.innerHTML.trim())}return m},f_=c=>{const h=Rg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(m=>{const E=m.tagName.toLowerCase();h.includes(E)||d(`Unrecognized element <${E}>`)})},Fr=(c,h)=>{Array.from(c.attributes).forEach(m=>{h.indexOf(m.name)===-1&&d([`Unrecognized attribute "${m.name}" on <${c.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ng=10,p_=c=>{const h=S(),m=x();typeof c.willOpen=="function"&&c.willOpen(m);const I=window.getComputedStyle(document.body).overflowY;y_(h,m,c),setTimeout(()=>{m_(h,m)},Ng),Mr()&&(g_(h,c.scrollbarPadding,I),G2()),!qt()&&!J.previousActiveElement&&(J.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(m)),dn(h,i["no-transition"])},Dg=c=>{const h=x();if(c.target!==h)return;const m=S();h.removeEventListener($i,Dg),m.style.overflowY="auto"},m_=(c,h)=>{$i&&sg(h)?(c.style.overflowY="hidden",h.addEventListener($i,Dg)):c.style.overflowY="auto"},g_=(c,h,m)=>{Q2(),h&&m!=="hidden"&&nk(),setTimeout(()=>{c.scrollTop=0})},y_=(c,h,m)=>{ne(c,m.showClass.backdrop),h.style.setProperty("opacity","0","important"),He(h,"grid"),setTimeout(()=>{ne(h,m.showClass.popup),h.style.removeProperty("opacity")},Ng),ne([document.documentElement,document.body],i.shown),m.heightAuto&&m.backdrop&&!m.toast&&ne([document.documentElement,document.body],i["height-auto"])};var Lg={email:(c,h)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(c,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function v_(c){c.inputValidator||Object.keys(Lg).forEach(h=>{c.input===h&&(c.inputValidator=Lg[h])})}function w_(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),c.target="body")}function E_(c){v_(c),c.showLoaderOnConfirm&&!c.preConfirm&&d(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),w_(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),s2(c)}let hn;class Is{constructor(){if(typeof window>"u")return;hn=this;for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];const I=Object.freeze(this.constructor.argsToParams(m));Object.defineProperties(this,{params:{value:I,writable:!1,enumerable:!0,configurable:!0}});const U=hn._main(hn.params);n.promise.set(this,U)}_main(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Tk(Object.assign({},m,h)),J.currentInstance&&(J.currentInstance._destroy(),Mr()&&mg()),J.currentInstance=hn;const E=C_(h,m);E_(E),Object.freeze(E),J.timeout&&(J.timeout.stop(),delete J.timeout),clearTimeout(J.restoreFocusTimeout);const I=T_(hn);return cg(hn,E),n.innerParams.set(hn,E),S_(hn,I,E)}then(h){return n.promise.get(this).then(h)}finally(h){return n.promise.get(this).finally(h)}}const S_=(c,h,m)=>new Promise((E,I)=>{const U=de=>{c.close({isDismissed:!0,dismiss:de})};ji.swalPromiseResolve.set(c,E),ji.swalPromiseReject.set(c,I),h.confirmButton.onclick=()=>{Mk(c)},h.denyButton.onclick=()=>{jk(c)},h.cancelButton.onclick=()=>{Fk(c,U)},h.closeButton.onclick=()=>{U(Ts.close)},Bk(c,h,U),B2(c,J,m,U),xk(c,m),p_(m),k_(J,m,U),__(h,m),setTimeout(()=>{h.container.scrollTop=0})}),C_=(c,h)=>{const m=i_(c),E=Object.assign({},ks,h,m,c);return E.showClass=Object.assign({},ks.showClass,E.showClass),E.hideClass=Object.assign({},ks.hideClass,E.hideClass),E},T_=c=>{const h={popup:x(),container:S(),actions:V(),confirmButton:oe(),denyButton:Pe(),cancelButton:pt(),loader:L(),closeButton:Te(),validationMessage:Xe(),progressSteps:Ae()};return n.domCache.set(c,h),h},k_=(c,h,m)=>{const E=ce();Ze(E),h.timer&&(c.timeout=new s_(()=>{m("timer"),delete c.timeout},h.timer),h.timerProgressBar&&(He(E),Wt(E,h,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&Lc(h.timer)})))},__=(c,h)=>{if(!h.toast){if(!C(h.allowEnterKey)){A_();return}I_(c,h)||Fc(-1,1)}},I_=(c,h)=>h.focusDeny&&Ot(c.denyButton)?(c.denyButton.focus(),!0):h.focusCancel&&Ot(c.cancelButton)?(c.cancelButton.focus(),!0):h.focusConfirm&&Ot(c.confirmButton)?(c.confirmButton.focus(),!0):!1,A_=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const c=new Date,h=localStorage.getItem("swal-initiation");h?(c.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(()=>{m.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${c}`)}Object.assign(Is.prototype,Tg),Object.assign(Is,r_),Object.keys(Tg).forEach(c=>{Is[c]=function(){if(hn)return hn[c](...arguments)}}),Is.DismissReason=Ts,Is.version="11.7.5";const Fa=Is;return Fa.default=Fa,Fa}),typeof rt<"u"&&rt.Sweetalert2&&(rt.swal=rt.sweetAlert=rt.Swal=rt.SweetAlert=rt.Sweetalert2),typeof document<"u"&&function(n,r){var s=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=r);else try{s.innerHTML=r}catch{s.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(hE);var Xb=hE.exports;const Zb=qw(Xb);function ca(){function t({title:e="",text:n="",confirmText:r="Yeah!",cancelText:s="Cancel"}){return Zb.fire({title:e,text:n,confirmButtonText:r,cancelButtonText:s,showCancelButton:!0,color:"#d4d4d4",background:"#242424",confirmButtonColor:"#747474",cancelButtonColor:"#424242"})}return{openAlert:t}}const xi=()=>{const t=ps(),e=Ku();function n(r){t.url!==r&&e(r)}return{detectLocationOf:n,navigate:e}},Gu=({size:t,mobile:e})=>T.jsx("img",{alt:"preloadImg",draggable:"false",className:"loading-spinner",style:{width:`${t}em`,height:`${t}em`,left:e&&"0px"},src:"./spinner.svg"});const $p=()=>{const{userTokens:t,setUserTokens:e}=A.useContext(Ce),{openAlert:n}=ca(),{navigate:r}=xi();function s(){n({title:"Buy More Tokens",text:"You can buy more tokens by clicking the button below.",cancelText:"Nel"}).then(i=>{i.isConfirmed&&window.open("https://mpago.la/1w34yyf","_blank")})}return T.jsxs("header",{children:[T.jsx("h1",{onClick:()=>r("/"),children:"My Therapist"}),t||t!==0?T.jsxs("p",{onClick:s,children:[t," 🌌"]}):T.jsx(Gu,{size:2})]})};var ef={},fE={},Mp={exports:{}},pE=function(e,n){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(n,s)}},ex=pE,Nr=Object.prototype.toString;function jp(t){return Array.isArray(t)}function tf(t){return typeof t>"u"}function tx(t){return t!==null&&!tf(t)&&t.constructor!==null&&!tf(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function mE(t){return Nr.call(t)==="[object ArrayBuffer]"}function nx(t){return Nr.call(t)==="[object FormData]"}function rx(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mE(t.buffer),e}function sx(t){return typeof t=="string"}function ix(t){return typeof t=="number"}function gE(t){return t!==null&&typeof t=="object"}function _l(t){if(Nr.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ox(t){return Nr.call(t)==="[object Date]"}function ax(t){return Nr.call(t)==="[object File]"}function lx(t){return Nr.call(t)==="[object Blob]"}function yE(t){return Nr.call(t)==="[object Function]"}function ux(t){return gE(t)&&yE(t.pipe)}function cx(t){return Nr.call(t)==="[object URLSearchParams]"}function dx(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function hx(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Fp(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),jp(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function nf(){var t={};function e(s,i){_l(t[i])&&_l(s)?t[i]=nf(t[i],s):_l(s)?t[i]=nf({},s):jp(s)?t[i]=s.slice():t[i]=s}for(var n=0,r=arguments.length;n<r;n++)Fp(arguments[n],e);return t}function fx(t,e,n){return Fp(e,function(s,i){n&&typeof s=="function"?t[i]=ex(s,n):t[i]=s}),t}function px(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var xt={isArray:jp,isArrayBuffer:mE,isBuffer:tx,isFormData:nx,isArrayBufferView:rx,isString:sx,isNumber:ix,isObject:gE,isPlainObject:_l,isUndefined:tf,isDate:ox,isFile:ax,isBlob:lx,isFunction:yE,isStream:ux,isURLSearchParams:cx,isStandardBrowserEnv:hx,forEach:Fp,merge:nf,extend:fx,trim:dx,stripBOM:px},xs=xt;function Xy(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var vE=function(e,n,r){if(!n)return e;var s;if(r)s=r(n);else if(xs.isURLSearchParams(n))s=n.toString();else{var i=[];xs.forEach(n,function(l,u){l===null||typeof l>"u"||(xs.isArray(l)?u=u+"[]":l=[l],xs.forEach(l,function(f){xs.isDate(f)?f=f.toISOString():xs.isObject(f)&&(f=JSON.stringify(f)),i.push(Xy(u)+"="+Xy(f))}))}),s=i.join("&")}if(s){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},mx=xt;function Qu(){this.handlers=[]}Qu.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Qu.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Qu.prototype.forEach=function(e){mx.forEach(this.handlers,function(r){r!==null&&e(r)})};var gx=Qu,yx=xt,vx=function(e,n){yx.forEach(e,function(s,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(e[n]=s,delete e[i])})},wE=function(e,n,r,s,i){return e.config=n,r&&(e.code=r),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},EE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ed,Zy;function SE(){if(Zy)return Ed;Zy=1;var t=wE;return Ed=function(n,r,s,i,o){var a=new Error(n);return t(a,r,s,i,o)},Ed}var Sd,ev;function wx(){if(ev)return Sd;ev=1;var t=SE();return Sd=function(n,r,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?n(s):r(t("Request failed with status code "+s.status,s.config,null,s.request,s))},Sd}var Cd,tv;function Ex(){if(tv)return Cd;tv=1;var t=xt;return Cd=t.isStandardBrowserEnv()?function(){return{write:function(r,s,i,o,a,l){var u=[];u.push(r+"="+encodeURIComponent(s)),t.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Cd}var Td,nv;function Sx(){return nv||(nv=1,Td=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Td}var kd,rv;function Cx(){return rv||(rv=1,kd=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}),kd}var _d,sv;function Tx(){if(sv)return _d;sv=1;var t=Sx(),e=Cx();return _d=function(r,s){return r&&!t(s)?e(r,s):s},_d}var Id,iv;function kx(){if(iv)return Id;iv=1;var t=xt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Id=function(r){var s={},i,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),i=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([o]):s[i]=s[i]?s[i]+", "+o:o}}),s},Id}var Ad,ov;function _x(){if(ov)return Ad;ov=1;var t=xt;return Ad=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),s;function i(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=i(window.location.href),function(a){var l=t.isString(a)?i(a):a;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}(),Ad}var bd,av;function Yu(){if(av)return bd;av=1;function t(e){this.message=e}return t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,bd=t,bd}var xd,lv;function uv(){if(lv)return xd;lv=1;var t=xt,e=wx(),n=Ex(),r=vE,s=Tx(),i=kx(),o=_x(),a=SE(),l=EE,u=Yu();return xd=function(f){return new Promise(function(g,w){var C=f.data,_=f.headers,v=f.responseType,y;function S(){f.cancelToken&&f.cancelToken.unsubscribe(y),f.signal&&f.signal.removeEventListener("abort",y)}t.isFormData(C)&&delete _["Content-Type"];var k=new XMLHttpRequest;if(f.auth){var b=f.auth.username||"",x=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.Authorization="Basic "+btoa(b+":"+x)}var N=s(f.baseURL,f.url);k.open(f.method.toUpperCase(),r(N,f.params,f.paramsSerializer),!0),k.timeout=f.timeout;function $(){if(k){var F="getAllResponseHeaders"in k?i(k.getAllResponseHeaders()):null,ee=!v||v==="text"||v==="json"?k.responseText:k.response,Ae={data:ee,status:k.status,statusText:k.statusText,headers:F,config:f,request:k};e(function(oe){g(oe),S()},function(oe){w(oe),S()},Ae),k=null}}if("onloadend"in k?k.onloadend=$:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout($)},k.onabort=function(){k&&(w(a("Request aborted",f,"ECONNABORTED",k)),k=null)},k.onerror=function(){w(a("Network Error",f,null,k)),k=null},k.ontimeout=function(){var ee=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",Ae=f.transitional||l;f.timeoutErrorMessage&&(ee=f.timeoutErrorMessage),w(a(ee,f,Ae.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},t.isStandardBrowserEnv()){var Y=(f.withCredentials||o(N))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;Y&&(_[f.xsrfHeaderName]=Y)}"setRequestHeader"in k&&t.forEach(_,function(ee,Ae){typeof C>"u"&&Ae.toLowerCase()==="content-type"?delete _[Ae]:k.setRequestHeader(Ae,ee)}),t.isUndefined(f.withCredentials)||(k.withCredentials=!!f.withCredentials),v&&v!=="json"&&(k.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&k.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(y=function(F){k&&(w(!F||F&&F.type?new u("canceled"):F),k.abort(),k=null)},f.cancelToken&&f.cancelToken.subscribe(y),f.signal&&(f.signal.aborted?y():f.signal.addEventListener("abort",y))),C||(C=null),k.send(C)})},xd}var We=xt,cv=vx,Ix=wE,Ax=EE,bx={"Content-Type":"application/x-www-form-urlencoded"};function dv(t,e){!We.isUndefined(t)&&We.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function xx(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=uv()),t}function Px(t,e,n){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Ju={transitional:Ax,adapter:xx(),transformRequest:[function(e,n){return cv(n,"Accept"),cv(n,"Content-Type"),We.isFormData(e)||We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e)?e:We.isArrayBufferView(e)?e.buffer:We.isURLSearchParams(e)?(dv(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):We.isObject(e)||n&&n["Content-Type"]==="application/json"?(dv(n,"application/json"),Px(e)):e}],transformResponse:[function(e){var n=this.transitional||Ju.transitional,r=n&&n.silentJSONParsing,s=n&&n.forcedJSONParsing,i=!r&&this.responseType==="json";if(i||s&&We.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Ix(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};We.forEach(["delete","get","head"],function(e){Ju.headers[e]={}});We.forEach(["post","put","patch"],function(e){Ju.headers[e]=We.merge(bx)});var Up=Ju,Ox=xt,Rx=Up,Nx=function(e,n,r){var s=this||Rx;return Ox.forEach(r,function(o){e=o.call(s,e,n)}),e},Pd,hv;function CE(){return hv||(hv=1,Pd=function(e){return!!(e&&e.__CANCEL__)}),Pd}var fv=xt,Od=Nx,Dx=CE(),Lx=Up,$x=Yu();function Rd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $x("canceled")}var Mx=function(e){Rd(e),e.headers=e.headers||{},e.data=Od.call(e,e.data,e.headers,e.transformRequest),e.headers=fv.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),fv.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var n=e.adapter||Lx.adapter;return n(e).then(function(s){return Rd(e),s.data=Od.call(e,s.data,s.headers,e.transformResponse),s},function(s){return Dx(s)||(Rd(e),s&&s.response&&(s.response.data=Od.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},Nt=xt,TE=function(e,n){n=n||{};var r={};function s(d,f){return Nt.isPlainObject(d)&&Nt.isPlainObject(f)?Nt.merge(d,f):Nt.isPlainObject(f)?Nt.merge({},f):Nt.isArray(f)?f.slice():f}function i(d){if(Nt.isUndefined(n[d])){if(!Nt.isUndefined(e[d]))return s(void 0,e[d])}else return s(e[d],n[d])}function o(d){if(!Nt.isUndefined(n[d]))return s(void 0,n[d])}function a(d){if(Nt.isUndefined(n[d])){if(!Nt.isUndefined(e[d]))return s(void 0,e[d])}else return s(void 0,n[d])}function l(d){if(d in n)return s(e[d],n[d]);if(d in e)return s(void 0,e[d])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Nt.forEach(Object.keys(e).concat(Object.keys(n)),function(f){var p=u[f]||i,g=p(f);Nt.isUndefined(g)&&p!==l||(r[f]=g)}),r},Nd,pv;function kE(){return pv||(pv=1,Nd={version:"0.26.1"}),Nd}var jx=kE().version,Bp={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Bp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var mv={};Bp.transitional=function(e,n,r){function s(i,o){return"[Axios v"+jx+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return function(i,o,a){if(e===!1)throw new Error(s(o," has been removed"+(n?" in "+n:"")));return n&&!mv[o]&&(mv[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Fx(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),s=r.length;s-- >0;){var i=r[s],o=e[i];if(o){var a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new TypeError("option "+i+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+i)}}var Ux={assertOptions:Fx,validators:Bp},_E=xt,Bx=vE,gv=gx,yv=Mx,Xu=TE,IE=Ux,Ps=IE.validators;function da(t){this.defaults=t,this.interceptors={request:new gv,response:new gv}}da.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xu(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&IE.assertOptions(r,{silentJSONParsing:Ps.transitional(Ps.boolean),forcedJSONParsing:Ps.transitional(Ps.boolean),clarifyTimeoutError:Ps.transitional(Ps.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var a;if(!i){var l=[yv,void 0];for(Array.prototype.unshift.apply(l,s),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=n;s.length;){var d=s.shift(),f=s.shift();try{u=d(u)}catch(p){f(p);break}}try{a=yv(u)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};da.prototype.getUri=function(e){return e=Xu(this.defaults,e),Bx(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};_E.forEach(["delete","get","head","options"],function(e){da.prototype[e]=function(n,r){return this.request(Xu(r||{},{method:e,url:n,data:(r||{}).data}))}});_E.forEach(["post","put","patch"],function(e){da.prototype[e]=function(n,r,s){return this.request(Xu(s||{},{method:e,url:n,data:r}))}});var Vx=da,Dd,vv;function zx(){if(vv)return Dd;vv=1;var t=Yu();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var s=this;this.promise.then(function(i){if(s._listeners){var o,a=s._listeners.length;for(o=0;o<a;o++)s._listeners[o](i);s._listeners=null}}),this.promise.then=function(i){var o,a=new Promise(function(l){s.subscribe(l),o=l}).then(i);return a.cancel=function(){s.unsubscribe(o)},a},n(function(o){s.reason||(s.reason=new t(o),r(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var r,s=new e(function(o){r=o});return{token:s,cancel:r}},Dd=e,Dd}var Ld,wv;function Hx(){return wv||(wv=1,Ld=function(e){return function(r){return e.apply(null,r)}}),Ld}var $d,Ev;function qx(){if(Ev)return $d;Ev=1;var t=xt;return $d=function(n){return t.isObject(n)&&n.isAxiosError===!0},$d}var Sv=xt,Wx=pE,Il=Vx,Kx=TE,Gx=Up;function AE(t){var e=new Il(t),n=Wx(Il.prototype.request,e);return Sv.extend(n,Il.prototype,e),Sv.extend(n,e),n.create=function(s){return AE(Kx(t,s))},n}var xn=AE(Gx);xn.Axios=Il;xn.Cancel=Yu();xn.CancelToken=zx();xn.isCancel=CE();xn.VERSION=kE().version;xn.all=function(e){return Promise.all(e)};xn.spread=Hx();xn.isAxiosError=qx();Mp.exports=xn;Mp.exports.default=xn;var Qx=Mp.exports,bE=Qx,ke={},Vp={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredError=t.BaseAPI=t.COLLECTION_FORMATS=t.BASE_PATH=void 0;const e=bE;t.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),t.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class n{constructor(i,o=t.BASE_PATH,a=e.default){this.basePath=o,this.axios=a,i&&(this.configuration=i,this.basePath=i.basePath||this.basePath)}}t.BaseAPI=n;class r extends Error{constructor(i,o){super(o),this.field=i,this.name="RequiredError"}}t.RequiredError=r})(Vp);var zp=rt&&rt.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(ke,"__esModule",{value:!0});ke.createRequestFunction=ke.toPathString=ke.serializeDataIfNeeded=ke.setSearchParams=ke.setOAuthToObject=ke.setBearerAuthToObject=ke.setBasicAuthToObject=ke.setApiKeyToObject=ke.assertParamExists=ke.DUMMY_BASE_URL=void 0;const Yx=Vp;ke.DUMMY_BASE_URL="https://example.com";ke.assertParamExists=function(t,e,n){if(n==null)throw new Yx.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${t}.`)};ke.setApiKeyToObject=function(t,e,n){return zp(this,void 0,void 0,function*(){if(n&&n.apiKey){const r=typeof n.apiKey=="function"?yield n.apiKey(e):yield n.apiKey;t[e]=r}})};ke.setBasicAuthToObject=function(t,e){e&&(e.username||e.password)&&(t.auth={username:e.username,password:e.password})};ke.setBearerAuthToObject=function(t,e){return zp(this,void 0,void 0,function*(){if(e&&e.accessToken){const n=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;t.Authorization="Bearer "+n}})};ke.setOAuthToObject=function(t,e,n,r){return zp(this,void 0,void 0,function*(){if(r&&r.accessToken){const s=typeof r.accessToken=="function"?yield r.accessToken(e,n):yield r.accessToken;t.Authorization="Bearer "+s}})};function rf(t,e,n=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(r=>rf(t,r,n)):Object.keys(e).forEach(r=>rf(t,e[r],`${n}${n!==""?".":""}${r}`)):t.has(n)?t.append(n,e):t.set(n,e))}ke.setSearchParams=function(t,...e){const n=new URLSearchParams(t.search);rf(n,e),t.search=n.toString()};ke.serializeDataIfNeeded=function(t,e,n){const r=typeof t!="string";return(r&&n&&n.isJsonMime?n.isJsonMime(e.headers["Content-Type"]):r)?JSON.stringify(t!==void 0?t:{}):t||""};ke.toPathString=function(t){return t.pathname+t.search+t.hash};ke.createRequestFunction=function(t,e,n,r){return(s=e,i=n)=>{const o=Object.assign(Object.assign({},t.options),{url:((r==null?void 0:r.basePath)||i)+t.url});return s.request(o)}};(function(t){var e=rt&&rt.__awaiter||function(o,a,l,u){function d(f){return f instanceof l?f:new l(function(p){p(f)})}return new(l||(l=Promise))(function(f,p){function g(_){try{C(u.next(_))}catch(v){p(v)}}function w(_){try{C(u.throw(_))}catch(v){p(v)}}function C(_){_.done?f(_.value):d(_.value).then(g,w)}C((u=u.apply(o,a||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIApi=t.OpenAIApiFactory=t.OpenAIApiFp=t.OpenAIApiAxiosParamCreator=t.CreateImageRequestResponseFormatEnum=t.CreateImageRequestSizeEnum=t.ChatCompletionResponseMessageRoleEnum=t.ChatCompletionRequestMessageRoleEnum=void 0;const n=bE,r=ke,s=Vp;t.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant"},t.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},t.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},t.OpenAIApiAxiosParamCreator=function(o){return{cancelFineTune:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("cancelFineTune","fineTuneId",a);const u="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),createAnswer:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createAnswer","createAnswerRequest",a);const u="/answers",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createChatCompletion:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createChatCompletion","createChatCompletionRequest",a);const u="/chat/completions",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createClassification:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createClassification","createClassificationRequest",a);const u="/classifications",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createCompletion:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createCompletion","createCompletionRequest",a);const u="/completions",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createEdit:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createEdit","createEditRequest",a);const u="/edits",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createEmbedding:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createEmbedding","createEmbeddingRequest",a);const u="/embeddings",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createFile:(a,l,u={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createFile","file",a),r.assertParamExists("createFile","purpose",l);const d="/files",f=new URL(d,r.DUMMY_BASE_URL);let p;o&&(p=o.baseOptions);const g=Object.assign(Object.assign({method:"POST"},p),u),w={},C={},_=new(o&&o.formDataCtor||FormData);a!==void 0&&_.append("file",a),l!==void 0&&_.append("purpose",l),w["Content-Type"]="multipart/form-data",r.setSearchParams(f,C);let v=p&&p.headers?p.headers:{};return g.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),_.getHeaders()),v),u.headers),g.data=_,{url:r.toPathString(f),options:g}}),createFineTune:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createFineTune","createFineTuneRequest",a);const u="/fine-tunes",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createImage:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImage","createImageRequest",a);const u="/images/generations",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createImageEdit:(a,l,u,d,f,p,g,w={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImageEdit","image",a),r.assertParamExists("createImageEdit","prompt",l);const C="/images/edits",_=new URL(C,r.DUMMY_BASE_URL);let v;o&&(v=o.baseOptions);const y=Object.assign(Object.assign({method:"POST"},v),w),S={},k={},b=new(o&&o.formDataCtor||FormData);a!==void 0&&b.append("image",a),u!==void 0&&b.append("mask",u),l!==void 0&&b.append("prompt",l),d!==void 0&&b.append("n",d),f!==void 0&&b.append("size",f),p!==void 0&&b.append("response_format",p),g!==void 0&&b.append("user",g),S["Content-Type"]="multipart/form-data",r.setSearchParams(_,k);let x=v&&v.headers?v.headers:{};return y.headers=Object.assign(Object.assign(Object.assign(Object.assign({},S),b.getHeaders()),x),w.headers),y.data=b,{url:r.toPathString(_),options:y}}),createImageVariation:(a,l,u,d,f,p={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createImageVariation","image",a);const g="/images/variations",w=new URL(g,r.DUMMY_BASE_URL);let C;o&&(C=o.baseOptions);const _=Object.assign(Object.assign({method:"POST"},C),p),v={},y={},S=new(o&&o.formDataCtor||FormData);a!==void 0&&S.append("image",a),l!==void 0&&S.append("n",l),u!==void 0&&S.append("size",u),d!==void 0&&S.append("response_format",d),f!==void 0&&S.append("user",f),v["Content-Type"]="multipart/form-data",r.setSearchParams(w,y);let k=C&&C.headers?C.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},v),S.getHeaders()),k),p.headers),_.data=S,{url:r.toPathString(w),options:_}}),createModeration:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createModeration","createModerationRequest",a);const u="/moderations",d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"POST"},f),l),g={},w={};g["Content-Type"]="application/json",r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),p.data=r.serializeDataIfNeeded(a,p,o),{url:r.toPathString(d),options:p}}),createSearch:(a,l,u={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createSearch","engineId",a),r.assertParamExists("createSearch","createSearchRequest",l);const d="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(a))),f=new URL(d,r.DUMMY_BASE_URL);let p;o&&(p=o.baseOptions);const g=Object.assign(Object.assign({method:"POST"},p),u),w={},C={};w["Content-Type"]="application/json",r.setSearchParams(f,C);let _=p&&p.headers?p.headers:{};return g.headers=Object.assign(Object.assign(Object.assign({},w),_),u.headers),g.data=r.serializeDataIfNeeded(l,g,o),{url:r.toPathString(f),options:g}}),createTranscription:(a,l,u,d,f,p,g={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createTranscription","file",a),r.assertParamExists("createTranscription","model",l);const w="/audio/transcriptions",C=new URL(w,r.DUMMY_BASE_URL);let _;o&&(_=o.baseOptions);const v=Object.assign(Object.assign({method:"POST"},_),g),y={},S={},k=new(o&&o.formDataCtor||FormData);a!==void 0&&k.append("file",a),l!==void 0&&k.append("model",l),u!==void 0&&k.append("prompt",u),d!==void 0&&k.append("response_format",d),f!==void 0&&k.append("temperature",f),p!==void 0&&k.append("language",p),y["Content-Type"]="multipart/form-data",r.setSearchParams(C,S);let b=_&&_.headers?_.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},y),k.getHeaders()),b),g.headers),v.data=k,{url:r.toPathString(C),options:v}}),createTranslation:(a,l,u,d,f,p={})=>e(this,void 0,void 0,function*(){r.assertParamExists("createTranslation","file",a),r.assertParamExists("createTranslation","model",l);const g="/audio/translations",w=new URL(g,r.DUMMY_BASE_URL);let C;o&&(C=o.baseOptions);const _=Object.assign(Object.assign({method:"POST"},C),p),v={},y={},S=new(o&&o.formDataCtor||FormData);a!==void 0&&S.append("file",a),l!==void 0&&S.append("model",l),u!==void 0&&S.append("prompt",u),d!==void 0&&S.append("response_format",d),f!==void 0&&S.append("temperature",f),v["Content-Type"]="multipart/form-data",r.setSearchParams(w,y);let k=C&&C.headers?C.headers:{};return _.headers=Object.assign(Object.assign(Object.assign(Object.assign({},v),S.getHeaders()),k),p.headers),_.data=S,{url:r.toPathString(w),options:_}}),deleteFile:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("deleteFile","fileId",a);const u="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),deleteModel:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("deleteModel","model",a);const u="/models/{model}".replace("{model}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"DELETE"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),downloadFile:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("downloadFile","fileId",a);const u="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),listEngines:(a={})=>e(this,void 0,void 0,function*(){const l="/engines",u=new URL(l,r.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},d),a),p={},g={};r.setSearchParams(u,g);let w=d&&d.headers?d.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),w),a.headers),{url:r.toPathString(u),options:f}}),listFiles:(a={})=>e(this,void 0,void 0,function*(){const l="/files",u=new URL(l,r.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},d),a),p={},g={};r.setSearchParams(u,g);let w=d&&d.headers?d.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),w),a.headers),{url:r.toPathString(u),options:f}}),listFineTuneEvents:(a,l,u={})=>e(this,void 0,void 0,function*(){r.assertParamExists("listFineTuneEvents","fineTuneId",a);const d="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(a))),f=new URL(d,r.DUMMY_BASE_URL);let p;o&&(p=o.baseOptions);const g=Object.assign(Object.assign({method:"GET"},p),u),w={},C={};l!==void 0&&(C.stream=l),r.setSearchParams(f,C);let _=p&&p.headers?p.headers:{};return g.headers=Object.assign(Object.assign(Object.assign({},w),_),u.headers),{url:r.toPathString(f),options:g}}),listFineTunes:(a={})=>e(this,void 0,void 0,function*(){const l="/fine-tunes",u=new URL(l,r.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},d),a),p={},g={};r.setSearchParams(u,g);let w=d&&d.headers?d.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),w),a.headers),{url:r.toPathString(u),options:f}}),listModels:(a={})=>e(this,void 0,void 0,function*(){const l="/models",u=new URL(l,r.DUMMY_BASE_URL);let d;o&&(d=o.baseOptions);const f=Object.assign(Object.assign({method:"GET"},d),a),p={},g={};r.setSearchParams(u,g);let w=d&&d.headers?d.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},p),w),a.headers),{url:r.toPathString(u),options:f}}),retrieveEngine:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveEngine","engineId",a);const u="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),retrieveFile:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveFile","fileId",a);const u="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),retrieveFineTune:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveFineTune","fineTuneId",a);const u="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}}),retrieveModel:(a,l={})=>e(this,void 0,void 0,function*(){r.assertParamExists("retrieveModel","model",a);const u="/models/{model}".replace("{model}",encodeURIComponent(String(a))),d=new URL(u,r.DUMMY_BASE_URL);let f;o&&(f=o.baseOptions);const p=Object.assign(Object.assign({method:"GET"},f),l),g={},w={};r.setSearchParams(d,w);let C=f&&f.headers?f.headers:{};return p.headers=Object.assign(Object.assign(Object.assign({},g),C),l.headers),{url:r.toPathString(d),options:p}})}},t.OpenAIApiFp=function(o){const a=t.OpenAIApiAxiosParamCreator(o);return{cancelFineTune(l,u){return e(this,void 0,void 0,function*(){const d=yield a.cancelFineTune(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createAnswer(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createAnswer(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createChatCompletion(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createChatCompletion(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createClassification(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createClassification(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createCompletion(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createCompletion(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createEdit(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createEdit(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createEmbedding(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createEmbedding(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createFile(l,u,d){return e(this,void 0,void 0,function*(){const f=yield a.createFile(l,u,d);return r.createRequestFunction(f,n.default,s.BASE_PATH,o)})},createFineTune(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createFineTune(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createImage(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createImage(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createImageEdit(l,u,d,f,p,g,w,C){return e(this,void 0,void 0,function*(){const _=yield a.createImageEdit(l,u,d,f,p,g,w,C);return r.createRequestFunction(_,n.default,s.BASE_PATH,o)})},createImageVariation(l,u,d,f,p,g){return e(this,void 0,void 0,function*(){const w=yield a.createImageVariation(l,u,d,f,p,g);return r.createRequestFunction(w,n.default,s.BASE_PATH,o)})},createModeration(l,u){return e(this,void 0,void 0,function*(){const d=yield a.createModeration(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},createSearch(l,u,d){return e(this,void 0,void 0,function*(){const f=yield a.createSearch(l,u,d);return r.createRequestFunction(f,n.default,s.BASE_PATH,o)})},createTranscription(l,u,d,f,p,g,w){return e(this,void 0,void 0,function*(){const C=yield a.createTranscription(l,u,d,f,p,g,w);return r.createRequestFunction(C,n.default,s.BASE_PATH,o)})},createTranslation(l,u,d,f,p,g){return e(this,void 0,void 0,function*(){const w=yield a.createTranslation(l,u,d,f,p,g);return r.createRequestFunction(w,n.default,s.BASE_PATH,o)})},deleteFile(l,u){return e(this,void 0,void 0,function*(){const d=yield a.deleteFile(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},deleteModel(l,u){return e(this,void 0,void 0,function*(){const d=yield a.deleteModel(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},downloadFile(l,u){return e(this,void 0,void 0,function*(){const d=yield a.downloadFile(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},listEngines(l){return e(this,void 0,void 0,function*(){const u=yield a.listEngines(l);return r.createRequestFunction(u,n.default,s.BASE_PATH,o)})},listFiles(l){return e(this,void 0,void 0,function*(){const u=yield a.listFiles(l);return r.createRequestFunction(u,n.default,s.BASE_PATH,o)})},listFineTuneEvents(l,u,d){return e(this,void 0,void 0,function*(){const f=yield a.listFineTuneEvents(l,u,d);return r.createRequestFunction(f,n.default,s.BASE_PATH,o)})},listFineTunes(l){return e(this,void 0,void 0,function*(){const u=yield a.listFineTunes(l);return r.createRequestFunction(u,n.default,s.BASE_PATH,o)})},listModels(l){return e(this,void 0,void 0,function*(){const u=yield a.listModels(l);return r.createRequestFunction(u,n.default,s.BASE_PATH,o)})},retrieveEngine(l,u){return e(this,void 0,void 0,function*(){const d=yield a.retrieveEngine(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},retrieveFile(l,u){return e(this,void 0,void 0,function*(){const d=yield a.retrieveFile(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},retrieveFineTune(l,u){return e(this,void 0,void 0,function*(){const d=yield a.retrieveFineTune(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})},retrieveModel(l,u){return e(this,void 0,void 0,function*(){const d=yield a.retrieveModel(l,u);return r.createRequestFunction(d,n.default,s.BASE_PATH,o)})}}},t.OpenAIApiFactory=function(o,a,l){const u=t.OpenAIApiFp(o);return{cancelFineTune(d,f){return u.cancelFineTune(d,f).then(p=>p(l,a))},createAnswer(d,f){return u.createAnswer(d,f).then(p=>p(l,a))},createChatCompletion(d,f){return u.createChatCompletion(d,f).then(p=>p(l,a))},createClassification(d,f){return u.createClassification(d,f).then(p=>p(l,a))},createCompletion(d,f){return u.createCompletion(d,f).then(p=>p(l,a))},createEdit(d,f){return u.createEdit(d,f).then(p=>p(l,a))},createEmbedding(d,f){return u.createEmbedding(d,f).then(p=>p(l,a))},createFile(d,f,p){return u.createFile(d,f,p).then(g=>g(l,a))},createFineTune(d,f){return u.createFineTune(d,f).then(p=>p(l,a))},createImage(d,f){return u.createImage(d,f).then(p=>p(l,a))},createImageEdit(d,f,p,g,w,C,_,v){return u.createImageEdit(d,f,p,g,w,C,_,v).then(y=>y(l,a))},createImageVariation(d,f,p,g,w,C){return u.createImageVariation(d,f,p,g,w,C).then(_=>_(l,a))},createModeration(d,f){return u.createModeration(d,f).then(p=>p(l,a))},createSearch(d,f,p){return u.createSearch(d,f,p).then(g=>g(l,a))},createTranscription(d,f,p,g,w,C,_){return u.createTranscription(d,f,p,g,w,C,_).then(v=>v(l,a))},createTranslation(d,f,p,g,w,C){return u.createTranslation(d,f,p,g,w,C).then(_=>_(l,a))},deleteFile(d,f){return u.deleteFile(d,f).then(p=>p(l,a))},deleteModel(d,f){return u.deleteModel(d,f).then(p=>p(l,a))},downloadFile(d,f){return u.downloadFile(d,f).then(p=>p(l,a))},listEngines(d){return u.listEngines(d).then(f=>f(l,a))},listFiles(d){return u.listFiles(d).then(f=>f(l,a))},listFineTuneEvents(d,f,p){return u.listFineTuneEvents(d,f,p).then(g=>g(l,a))},listFineTunes(d){return u.listFineTunes(d).then(f=>f(l,a))},listModels(d){return u.listModels(d).then(f=>f(l,a))},retrieveEngine(d,f){return u.retrieveEngine(d,f).then(p=>p(l,a))},retrieveFile(d,f){return u.retrieveFile(d,f).then(p=>p(l,a))},retrieveFineTune(d,f){return u.retrieveFineTune(d,f).then(p=>p(l,a))},retrieveModel(d,f){return u.retrieveModel(d,f).then(p=>p(l,a))}}};class i extends s.BaseAPI{cancelFineTune(a,l){return t.OpenAIApiFp(this.configuration).cancelFineTune(a,l).then(u=>u(this.axios,this.basePath))}createAnswer(a,l){return t.OpenAIApiFp(this.configuration).createAnswer(a,l).then(u=>u(this.axios,this.basePath))}createChatCompletion(a,l){return t.OpenAIApiFp(this.configuration).createChatCompletion(a,l).then(u=>u(this.axios,this.basePath))}createClassification(a,l){return t.OpenAIApiFp(this.configuration).createClassification(a,l).then(u=>u(this.axios,this.basePath))}createCompletion(a,l){return t.OpenAIApiFp(this.configuration).createCompletion(a,l).then(u=>u(this.axios,this.basePath))}createEdit(a,l){return t.OpenAIApiFp(this.configuration).createEdit(a,l).then(u=>u(this.axios,this.basePath))}createEmbedding(a,l){return t.OpenAIApiFp(this.configuration).createEmbedding(a,l).then(u=>u(this.axios,this.basePath))}createFile(a,l,u){return t.OpenAIApiFp(this.configuration).createFile(a,l,u).then(d=>d(this.axios,this.basePath))}createFineTune(a,l){return t.OpenAIApiFp(this.configuration).createFineTune(a,l).then(u=>u(this.axios,this.basePath))}createImage(a,l){return t.OpenAIApiFp(this.configuration).createImage(a,l).then(u=>u(this.axios,this.basePath))}createImageEdit(a,l,u,d,f,p,g,w){return t.OpenAIApiFp(this.configuration).createImageEdit(a,l,u,d,f,p,g,w).then(C=>C(this.axios,this.basePath))}createImageVariation(a,l,u,d,f,p){return t.OpenAIApiFp(this.configuration).createImageVariation(a,l,u,d,f,p).then(g=>g(this.axios,this.basePath))}createModeration(a,l){return t.OpenAIApiFp(this.configuration).createModeration(a,l).then(u=>u(this.axios,this.basePath))}createSearch(a,l,u){return t.OpenAIApiFp(this.configuration).createSearch(a,l,u).then(d=>d(this.axios,this.basePath))}createTranscription(a,l,u,d,f,p,g){return t.OpenAIApiFp(this.configuration).createTranscription(a,l,u,d,f,p,g).then(w=>w(this.axios,this.basePath))}createTranslation(a,l,u,d,f,p){return t.OpenAIApiFp(this.configuration).createTranslation(a,l,u,d,f,p).then(g=>g(this.axios,this.basePath))}deleteFile(a,l){return t.OpenAIApiFp(this.configuration).deleteFile(a,l).then(u=>u(this.axios,this.basePath))}deleteModel(a,l){return t.OpenAIApiFp(this.configuration).deleteModel(a,l).then(u=>u(this.axios,this.basePath))}downloadFile(a,l){return t.OpenAIApiFp(this.configuration).downloadFile(a,l).then(u=>u(this.axios,this.basePath))}listEngines(a){return t.OpenAIApiFp(this.configuration).listEngines(a).then(l=>l(this.axios,this.basePath))}listFiles(a){return t.OpenAIApiFp(this.configuration).listFiles(a).then(l=>l(this.axios,this.basePath))}listFineTuneEvents(a,l,u){return t.OpenAIApiFp(this.configuration).listFineTuneEvents(a,l,u).then(d=>d(this.axios,this.basePath))}listFineTunes(a){return t.OpenAIApiFp(this.configuration).listFineTunes(a).then(l=>l(this.axios,this.basePath))}listModels(a){return t.OpenAIApiFp(this.configuration).listModels(a).then(l=>l(this.axios,this.basePath))}retrieveEngine(a,l){return t.OpenAIApiFp(this.configuration).retrieveEngine(a,l).then(u=>u(this.axios,this.basePath))}retrieveFile(a,l){return t.OpenAIApiFp(this.configuration).retrieveFile(a,l).then(u=>u(this.axios,this.basePath))}retrieveFineTune(a,l){return t.OpenAIApiFp(this.configuration).retrieveFineTune(a,l).then(u=>u(this.axios,this.basePath))}retrieveModel(a,l){return t.OpenAIApiFp(this.configuration).retrieveModel(a,l).then(u=>u(this.axios,this.basePath))}}t.OpenAIApi=i})(fE);var Zu={};const Jx="openai",Xx="3.2.1",Zx="Node.js library for the OpenAI API",eP={type:"git",url:"git@github.com:openai/openai-node.git"},tP=["openai","open","ai","gpt-3","gpt3"],nP="OpenAI",rP="MIT",sP="./dist/index.js",iP="./dist/index.d.ts",oP={build:"tsc --outDir dist/"},aP={axios:"^0.26.0","form-data":"^4.0.0"},lP={"@types/node":"^12.11.5",typescript:"^3.6.4"},uP={name:Jx,version:Xx,description:Zx,repository:eP,keywords:tP,author:nP,license:rP,main:sP,types:iP,scripts:oP,dependencies:aP,devDependencies:lP};var Md,Cv;function cP(){return Cv||(Cv=1,Md=typeof self=="object"?self.FormData:window.FormData),Md}Object.defineProperty(Zu,"__esModule",{value:!0});Zu.Configuration=void 0;const dP=uP;class hP{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${dP.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=cP())}isJsonMime(e){const n=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(n.test(e)||e.toLowerCase()==="application/json-patch+json")}}Zu.Configuration=hP;(function(t){var e=rt&&rt.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i),Object.defineProperty(r,o,{enumerable:!0,get:function(){return s[i]}})}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),n=rt&&rt.__exportStar||function(r,s){for(var i in r)i!=="default"&&!s.hasOwnProperty(i)&&e(s,r,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(fE,t),n(Zu,t)})(ef);const fP=[{form:"none",prompt:""},{form:"code_expert",prompt:"Hola asistente, quiero que me contestes como si fueses un ingeniero en sistemas que sabe como programar en diversos lenguajes, con mucha experiencia y capacidad de resolver problemas tanto como de logica, matematica y tambien de codigo, te pido por favor que evites contestar con las frases 'Mensaje del Usuario: ' o con 'Mensaje del asistente: ', solo necesito que me contestes lo que un ingeniero experimentado contestaria. Lo que necesito saber es esto: "},{form:"therapist",prompt:"Hola asistente, quiero que me contestes como si fueses un psicologo experimentado y con mucho tiempo de experience y tambien como amigo cercano a mi vida, necesito me contestes en el mismo idioma en el que te lo voy a contar, te pido por favor que evites contestar con las frases 'Mensaje del Usuario: ' o con 'Mensaje del asistente: ', solo necesito que me contestes lo que un psicologo experimentado contestaria. entonces lo que me pasa es: "}],pP=[{form:"none",prompt:""},{form:"code_expert",prompt:"Hello assistant, I want you to answer me as if you were a systems engineer who knows how to program in various languages, with a lot of experience and the ability to solve problems in logic, mathematics, and code, I ask you please to avoid answering with the phrases 'User Message: ' or with 'Wizard Message: ', I just need you to answer what an experienced engineer would answer. What I need to know is this:"},{form:"therapist",prompt:"Hello assistant, I want you to answer me as if you were an experienced psychologist with a lot of experience and also as a close friend of my life, I need you to answer me in the same language in which I am going to tell you, I ask you please to avoid answer with the phrases 'Message from the User: ' or with 'Message from the assistant: ', I just need you to answer what an experienced psychologist would answer. so what happens to me is:"}],mP={es:fP,en:pP};async function gP(){async function t(){let r=await(await fetch("https://raw.githubusercontent.com/vittoopugliese/gptherapist/main/README.md")).text(),s=r.match(/a:\s*'([^']+)'/),i=r.match(/k:\s*'([^']+)'/);if(s&&i){let o=s[1],a=i[1];return o+a}}return await t()}let yP=new Date;function vP(){const[t,e]=A.useState(""),{promptSelected:n,userTokens:r,setUserTokens:s,rememberConversations:i,conversationSelected:o,dispatch:a,langSelected:l}=A.useContext(Ce),{openAlert:u}=ca();async function d(){if(r<=0)return s(0),a({type:"rel_tokens",payload:0}),u({title:"You ran out of tokens!",text:"Please, buy a subscription or reload tokens to keep chatting!"}).then(v=>{v.isConfirmed}),null;const f=await gP(),p=new ef.OpenAIApi(new ef.Configuration({apiKey:f})),g=mP[l].find(_=>_.form==n).prompt,w=r>150?150:r;let C;if(!i)C=p.createChatCompletion({model:"gpt-3.5-turbo",temperature:.4,max_tokens:w,messages:[{role:"user",content:`${g} ${t}`}]});else{let _;o.content.length<=0?_=t:_=wP(o.content),C=p.createChatCompletion({model:"gpt-3.5-turbo",temperature:.4,max_tokens:w,messages:[{role:"user",content:`${g} ${_}`}]})}return await C.then(_=>{const v=_.data.usage.total_tokens;return s(S=>Math.max(S-v,0)),a({type:"rel_tokens",payload:r-v}),{input:t,output:_.data.choices[0].message.content,id:yP.getTime()}})}return{prompt:d,userMessage:t,setUserMessage:e}}function wP(t){let e="";for(let n=0;n<t.length;n++){const r=t[n];e+=` Mensaje ${n+1} del usuario: `+r.input+`
`,e+=` Mensaje ${n+1} del asistente: `+r.output+`
`}return e}const EP=({setUserMessageFirst:t})=>{const{prompt:e,setUserMessage:n,userMessage:r}=vP(),{dispatch:s,setConversationSelected:i,rememberConversations:o}=A.useContext(Ce);async function a(l){if(l.preventDefault(),r.length<3)return;t({input:r,output:null,id:new Date().getTime()}),n("");let u=await e();i(d=>(s({type:"push_messages",payload:{conversationId:d.id,messages:u}}),{...d,content:[...d.content,u]}))}return T.jsx(T.Fragment,{children:T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1em"},children:T.jsxs("form",{className:"form",onSubmit:a,children:[T.jsx("input",{onChange:l=>n(l.target.value),className:"prompt-input",placeholder:"Tell me about yourself, how are you?",value:r}),T.jsx("button",{type:"submit",className:"prompt-button",children:T.jsx("img",{src:"https://www.svgrepo.com/show/510186/send-message.svg",className:"sendArrow"})})]})})})},SP="https://www.svgrepo.com/show/490996/check.svg",CP=()=>{const{conversationSelected:t,dispatch:e,state:n}=A.useContext(Ce),[r,s]=A.useState(!1),[i,o]=A.useState();A.useEffect(()=>{localStorage.setItem("state",JSON.stringify(n)),document.title=i},[n,t]);function a(){s(!0),o(t.title)}function l(){i.length<3||(s(!1),t.title=i,e({type:"rel_title",payload:t}))}function u(f){f.target.value.length>20||o(f.target.value)}function d(f){f.key=="Enter"&&l(),f.key=="Escape"&&s(!1)}return T.jsxs("div",{className:"conver-title",children:[!r&&T.jsx("h2",{onDoubleClick:a,children:t.title}),r&&T.jsxs("div",{className:"history-edit-container",children:[T.jsx("input",{type:"text",autoFocus:!0,onFocus:f=>f.target.select(),value:i,onChange:u,onKeyDown:d,className:"history-title-input",style:{height:"46px",width:"74%",textAlign:"center",fontSize:"1.54em"}}),T.jsx("img",{src:SP,alt:"accept edit",onClick:l,className:"history-title-accept",style:{width:"2.54em"}})]}),T.jsx("hr",{})]})},TP=()=>{const{promptSelected:t,setPromptSelectedFunc:e,rememberConversations:n,setRememberConversations:r}=A.useContext(Ce);return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"prompt-configs-container",children:[T.jsxs("div",{className:"prompt-selector-container",children:[T.jsx("button",{className:`button-one ${t=="therapist"&&"button-selected"}`,onClick:()=>e("therapist"),children:" therapist "}),T.jsx("button",{className:`button-one ${t=="code_expert"&&"button-selected"}`,onClick:()=>e("code_expert"),children:" code expert "}),T.jsx("button",{className:`button-one ${t=="none"&&"button-selected"}`,onClick:()=>e("none"),children:" none "})]}),T.jsxs("div",{className:"prompt-selector-container ",children:[T.jsx("button",{className:`button-one ${n&&"button-selected"}`,onClick:()=>r(!0),children:"Remember Chats! (expensive) "}),T.jsx("button",{className:`button-one ${!n&&"button-selected"}`,onClick:()=>r(!1),children:" Dont rememeber anything. "})]})]})})},kP=()=>{const{langSelected:t,setLangSelected:e,promptSelected:n}=A.useContext(Ce);return T.jsxs("div",{className:"lang-selector",children:[T.jsx("button",{type:"submit",onClick:()=>e("es"),className:`button-one flag ${t=="es"&&"button-selected"}`,children:T.jsx("img",{src:"https://flagicons.lipis.dev/flags/4x3/es.svg",alt:"united states flag"})}),T.jsx("button",{type:"submit",onClick:()=>e("en"),className:`button-one flag ${t=="en"&&"button-selected"}`,children:T.jsx("img",{src:"https://flagicons.lipis.dev/flags/4x3/um.svg",alt:"spain flash"})})]})},_P=()=>{const{langSelected:t,promptSelected:e}=A.useContext(Ce);return A.useEffect(()=>{},[t,e]),T.jsxs("div",{className:"chat-into-container",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"welcomeh1",style:{margin:"0.4em 0em"},children:"Welcome to your therapist"}),T.jsx("p",{children:"Enjoy talking with someone who really listens to you!"})]}),T.jsxs("div",{children:[T.jsxs("div",{children:[T.jsx("p",{children:" First! You have to choose what language will be this conversation "}),T.jsx(kP,{})]}),T.jsxs("div",{children:[T.jsx("p",{children:"And then select with who you want to talk and its memory..."}),T.jsx(TP,{})]})]})]})},IP="./chatavatar.png",AP=({msg:t})=>{const{state:e}=A.useContext(Ce),{user:n}=e,{navigate:r}=xi();function s(i){let o=i.split("```");return`${o[0]} ${o[1]} ${o[2]} ${o[3]} ${o[4]}`.split("undefined")[0]}return T.jsx(T.Fragment,{children:!!t&&T.jsxs("div",{className:"conversation-content",children:[T.jsxs("div",{className:"message-container",children:[T.jsx("img",{className:"message-image",src:n.photoURL,style:{cursor:"pointer"},onClick:()=>r("/profile"),alt:"chatImage",draggable:!1}),T.jsx("p",{children:t.input})]}),t.output?T.jsxs("div",{className:"message-container",children:[T.jsx("img",{className:"message-image",src:IP,alt:"chatImage",draggable:!1}),T.jsx("pre",{style:{fontFamily:"inherit",whiteSpace:"pre-wrap"},children:s(t.output)})]}):T.jsx("div",{className:"message-spinner-container",children:T.jsx(Gu,{size:"3.8"})})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new xP;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PP=function(t){const e=xE(t);return PE.encodeByteArray(e,!0)},au=function(t){return PP(t).replace(/\./g,"")},OE=function(t){try{return PE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=()=>OP().__FIREBASE_DEFAULTS__,NP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OE(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return RP()||NP()||DP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RE=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NE=t=>{const e=RE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DE=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config},LE=t=>{var e;return(e=Hp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[au(JSON.stringify(n)),au(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $P(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function MP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FP(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UP(){try{return typeof indexedDB=="object"}catch{return!1}}function BP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VP,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?zP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function zP(t,e){return t.replace(HP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const HP=/\{\$([^}]+)}/g;function qP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Tv(i)&&Tv(o)){if(!lu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WP(t,e){const n=new KP(t,e);return n.subscribe.bind(n)}class KP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jd),s.error===void 0&&(s.error=jd),s.complete===void 0&&(s.complete=jd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JP(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YP(t){return t===Vr?void 0:t}function JP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const ZP={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},eO=te.INFO,tO={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},nO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ec{constructor(e){this.name=e,this._logLevel=eO,this._logHandler=nO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const rO=(t,e)=>e.some(n=>t instanceof n);let kv,_v;function sO(){return kv||(kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ME=new WeakMap,sf=new WeakMap,jE=new WeakMap,Fd=new WeakMap,qp=new WeakMap;function oO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Er(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ME.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function aO(t){if(sf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sf.set(t,e)}let of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lO(t){of=t(of)}function uO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ud(this),e,...n);return jE.set(r,e.sort?e.sort():[e]),Er(r)}:iO().includes(t)?function(...e){return t.apply(Ud(this),e),Er(ME.get(this))}:function(...e){return Er(t.apply(Ud(this),e))}}function cO(t){return typeof t=="function"?uO(t):(t instanceof IDBTransaction&&aO(t),rO(t,sO())?new Proxy(t,of):t)}function Er(t){if(t instanceof IDBRequest)return oO(t);if(Fd.has(t))return Fd.get(t);const e=cO(t);return e!==t&&(Fd.set(t,e),qp.set(e,t)),e}const Ud=t=>qp.get(t);function dO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Er(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Er(o.result),l.oldVersion,l.newVersion,Er(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],Bd=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Bd.set(e,i),i}lO(t=>({...t,get:(e,n,r)=>Iv(e,n)||t.get(e,n,r),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const af="@firebase/app",Av="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new ec("@firebase/app"),gO="@firebase/app-compat",yO="@firebase/analytics-compat",vO="@firebase/analytics",wO="@firebase/app-check-compat",EO="@firebase/app-check",SO="@firebase/auth",CO="@firebase/auth-compat",TO="@firebase/database",kO="@firebase/database-compat",_O="@firebase/functions",IO="@firebase/functions-compat",AO="@firebase/installations",bO="@firebase/installations-compat",xO="@firebase/messaging",PO="@firebase/messaging-compat",OO="@firebase/performance",RO="@firebase/performance-compat",NO="@firebase/remote-config",DO="@firebase/remote-config-compat",LO="@firebase/storage",$O="@firebase/storage-compat",MO="@firebase/firestore",jO="@firebase/firestore-compat",FO="firebase",UO="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",BO={[af]:"fire-core",[gO]:"fire-core-compat",[vO]:"fire-analytics",[yO]:"fire-analytics-compat",[EO]:"fire-app-check",[wO]:"fire-app-check-compat",[SO]:"fire-auth",[CO]:"fire-auth-compat",[TO]:"fire-rtdb",[kO]:"fire-rtdb-compat",[_O]:"fire-fn",[IO]:"fire-fn-compat",[AO]:"fire-iid",[bO]:"fire-iid-compat",[xO]:"fire-fcm",[PO]:"fire-fcm-compat",[OO]:"fire-perf",[RO]:"fire-perf-compat",[NO]:"fire-rc",[DO]:"fire-rc-compat",[LO]:"fire-gcs",[$O]:"fire-gcs-compat",[MO]:"fire-fst",[jO]:"fire-fst-compat","fire-js":"fire-js",[FO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Map,uf=new Map;function VO(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function os(t){const e=t.name;if(uf.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,t);for(const n of uu.values())VO(n,t);return!0}function tc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Sr=new ha("app","Firebase",zO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=UO;function FE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Sr.create("bad-app-name",{appName:String(s)});if(n||(n=DE()),!n)throw Sr.create("no-options");const i=uu.get(s);if(i){if(lu(n,i.options)&&lu(r,i.config))return i;throw Sr.create("duplicate-app",{appName:s})}const o=new XP(s);for(const l of uf.values())o.addComponent(l);const a=new HO(n,r,o);return uu.set(s,a),a}function Wp(t=lf){const e=uu.get(t);if(!e&&t===lf&&DE())return FE();if(!e)throw Sr.create("no-app",{appName:t});return e}function Sn(t,e,n){var r;let s=(r=BO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}os(new _r(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="firebase-heartbeat-database",WO=1,Bo="firebase-heartbeat-store";let Vd=null;function UE(){return Vd||(Vd=dO(qO,WO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bo)}}}).catch(t=>{throw Sr.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function KO(t){try{return await(await UE()).transaction(Bo).objectStore(Bo).get(BE(t))}catch(e){if(e instanceof Pn)is.warn(e.message);else{const n=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function bv(t,e){try{const r=(await UE()).transaction(Bo,"readwrite");await r.objectStore(Bo).put(e,BE(t)),await r.done}catch(n){if(n instanceof Pn)is.warn(n.message);else{const r=Sr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function BE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=1024,QO=30*24*60*60*1e3;class YO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=QO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xv(),{heartbeatsToSend:n,unsentEntries:r}=JO(this._heartbeatsCache.heartbeats),s=au(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function xv(){return new Date().toISOString().substring(0,10)}function JO(t,e=GO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UP()?BP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pv(t){return au(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){os(new _r("platform-logger",e=>new pO(e),"PRIVATE")),os(new _r("heartbeat",e=>new YO(e),"PRIVATE")),Sn(af,Av,t),Sn(af,Av,"esm2017"),Sn("fire-js","")}ZO("");function Kp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VE(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eR=VE,zE=new ha("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new ec("@firebase/auth");function tR(t,...e){cu.logLevel<=te.WARN&&cu.warn(`Auth (${ms}): ${t}`,...e)}function Al(t,...e){cu.logLevel<=te.ERROR&&cu.error(`Auth (${ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Gp(t,...e)}function Cn(t,...e){return Gp(t,...e)}function HE(t,e,n){const r=Object.assign(Object.assign({},eR()),{[e]:n});return new ha("auth","Firebase",r).create(e,{appName:t.name})}function nR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),HE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zE.create(t,...e)}function K(t,e,...n){if(!t)throw Gp(e,...n)}function Mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Al(e),new Error(e)}function qn(t,e){t||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rR(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rR()||MP()||"connection"in navigator)?navigator.onLine:!0}function iR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.shortDelay=e,this.longDelay=n,qn(n>e,"Short delay should be less than long delay!"),this.isMobile=$P()||jP()}get(){return sR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e){qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new pa(3e4,6e4);function WE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ma(t,e,n,r,s={}){return KE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),qE.fetch()(GE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function KE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oR),e);try{const s=new uR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw rl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw rl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw rl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw rl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HE(t,d,u);In(t,d)}}catch(s){if(s instanceof Pn)throw s;In(t,"network-request-failed",{message:String(s)})}}async function lR(t,e,n,r,s={}){const i=await ma(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function GE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Qp(t.config,s):`${t.config.apiScheme}://${s}`}class uR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),aR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e){return ma(t,"POST","/v1/accounts:delete",e)}async function dR(t,e){return ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hR(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),s=Yp(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:go(zd(s.auth_time)),issuedAtTime:go(zd(s.iat)),expirationTime:go(zd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function Yp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Al("JWT malformed, contained fewer than 3 sections"),null;try{const s=OE(n);return s?JSON.parse(s):(Al("Failed to decode base64 JWT payload"),null)}catch(s){return Al("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fR(t){const e=Yp(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&pR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Vo(t,dR(n,{idToken:r}));K(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?vR(i.providerUserInfo):[],a=yR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new QE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function gR(t){const e=Bt(t);await du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vR(t){return t.map(e=>{var{providerId:n}=e,r=Kp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e){const n=await KE(t,{},async()=>{const r=fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=GE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await wR(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new zo;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new QE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hR(this,e)}reload(){return gR(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vo(this,cR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:k,isAnonymous:b,providerData:x,stsTokenManager:N}=n;K(S&&N,e,"internal-error");const $=zo.fromJSON(this.name,N);K(typeof S=="string",e,"internal-error"),Zn(f,e.name),Zn(p,e.name),K(typeof k=="boolean",e,"internal-error"),K(typeof b=="boolean",e,"internal-error"),Zn(g,e.name),Zn(w,e.name),Zn(C,e.name),Zn(_,e.name),Zn(v,e.name),Zn(y,e.name);const Y=new Xr({uid:S,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:b,photoURL:w,phoneNumber:g,tenantId:C,stsTokenManager:$,createdAt:v,lastLoginAt:y});return x&&Array.isArray(x)&&(Y.providerData=x.map(F=>Object.assign({},F))),_&&(Y._redirectEventId=_),Y}static async _fromIdTokenResponse(e,n,r=!1){const s=new zo;s.updateFromServerResponse(n);const i=new Xr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await du(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function jn(t){qn(t instanceof Function,"Expected a class definition");let e=Rv.get(t);return e?(qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YE.type="NONE";const Nv=YE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e,n){return`firebase:${t}:${e}:${n}`}class ei{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=bl(this.userKey,s.apiKey,i),this.fullPersistenceKey=bl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ei(jn(Nv),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||jn(Nv);const o=bl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Xr._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ei(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ei(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(Jp(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JE(t=ht()){return/firefox\//i.test(t)}function Jp(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(t=ht()){return/crios\//i.test(t)}function ZE(t=ht()){return/iemobile/i.test(t)}function eS(t=ht()){return/android/i.test(t)}function tS(t=ht()){return/blackberry/i.test(t)}function nS(t=ht()){return/webos/i.test(t)}function nc(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ER(t=ht()){var e;return nc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SR(){return FP()&&document.documentMode===10}function rS(t=ht()){return nc(t)||eS(t)||nS(t)||tS(t)||/windows phone/i.test(t)||ZE(t)}function CR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e=[]){let n;switch(t){case"Browser":n=Dv(ht());break;case"Worker":n=`${Dv(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}async function iS(t,e){return ma(t,"GET","/v2/recaptchaConfig",WE(t,e))}function Lv(t){return t!==void 0&&t.enterprise!==void 0}class oS{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Cn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",TR().appendChild(r)})}function kR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _R="https://www.google.com/recaptcha/enterprise.js?render=",IR="recaptcha-enterprise",AR="NO_RECAPTCHA";class bR{constructor(e){this.type=IR,this.auth=ga(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{iS(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oS(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Lv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(AR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Lv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}aS(_R+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new xR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ei.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Bt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(jn(e))})}async initializeRecaptchaConfig(){const e=await iS(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new oS(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new bR(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ei.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return K(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ga(t){return Bt(t)}class $v{constructor(e){this.auth=e,this.observer=null,this.addObserver=WP(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){const n=tc(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(lu(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function RR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NR(t,e,n){const r=ga(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=lS(e),{host:o,port:a}=DR(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||LR()}function lS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DR(t){const e=lS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Mv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Mv(o)}}}function Mv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,n){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(t,e){return lR(t,"POST","/v1/accounts:signInWithIdp",WE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="http://localhost";class as extends uS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Kp(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new as(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ti(e,n)}buildRequest(){const e={requestUri:$R,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends ya{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dn.credential(n,r)}catch{return null}}}Dn.GOOGLE_SIGN_IN_METHOD="google.com";Dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends ya{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends ya{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return or.credential(n,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xr._fromIdTokenResponse(e,r,s),o=jv(r);return new fi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jv(r);return new fi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Pn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hu(e,n,r,s)}}function cS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hu._fromErrorAndOperation(t,i,e,r):i})}async function MR(t,e,n=!1){const r=await Vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Vo(t,cS(r,s,e,t),n);K(i.idToken,r,"internal-error");const o=Yp(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),fi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e,n=!1){const r="signIn",s=await cS(t,r,e),i=await fi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function UR(t,e,n,r){return Bt(t).onIdTokenChanged(e,n,r)}function BR(t,e,n){return Bt(t).beforeAuthStateChanged(e,n)}const fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){const t=ht();return Jp(t)||nc(t)}const zR=1e3,HR=10;class hS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VR()&&CR(),this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);SR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hS.type="LOCAL";const qR=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fS.type="SESSION";const pS=fS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await WR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Zp("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function GR(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function QR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JR(){return mS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebaseLocalStorageDb",XR=1,pu="firebaseLocalStorage",yS="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sc(t,e){return t.transaction([pu],e?"readwrite":"readonly").objectStore(pu)}function ZR(){const t=indexedDB.deleteDatabase(gS);return new va(t).toPromise()}function df(){const t=indexedDB.open(gS,XR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pu,{keyPath:yS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pu)?e(r):(r.close(),await ZR(),e(await df()))})})}async function Fv(t,e,n){const r=sc(t,!0).put({[yS]:e,value:n});return new va(r).toPromise()}async function eN(t,e){const n=sc(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function Uv(t,e){const n=sc(t,!0).delete(e);return new va(n).toPromise()}const tN=800,nN=3;class vS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rc._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await df();return await Fv(e,fu,"1"),await Uv(e,fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sc(s,!1).getAll();return new va(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vS.type="LOCAL";const rN=vS;new pa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){return e?jn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends uS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sN(t){return FR(t.auth,new em(t),t.bypassAuthState)}function iN(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),jR(n,new em(t),t.bypassAuthState)}async function oN(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),MR(n,new em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return iN;default:In(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new pa(2e3,1e4);async function lN(t,e,n){const r=ga(t);nR(t,e,Xp);const s=wS(r,n);return new Wr(r,"signInViaPopup",e,s).executeNotNull()}class Wr extends ES{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){qn(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aN.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="pendingRedirect",xl=new Map;class cN extends ES{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xl.get(this.auth._key());if(!e){try{const r=await dN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xl.set(this.auth._key(),e)}return this.bypassAuthState||xl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dN(t,e){const n=pN(e),r=fN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function hN(t,e){xl.set(t._key(),e)}function fN(t){return jn(t._redirectPersistence)}function pN(t){return bl(uN,t.config.apiKey,t.name)}async function mN(t,e,n=!1){const r=ga(t),s=wS(r,e),o=await new cN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=10*60*1e3;class yN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e={}){return ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function CN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wN(t);for(const n of e)try{if(TN(n))return}catch{}In(t,"unauthorized-domain")}function TN(t){const e=cf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SN.test(n))return!1;if(EN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new pa(3e4,6e4);function Vv(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _N(t){return new Promise((e,n)=>{var r,s,i;function o(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(Cn(t,"network-request-failed"))},timeout:kN.get()})}if(!((s=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Tn().gapi)===null||i===void 0)&&i.load)o();else{const a=kR("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},aS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Pl=null,e})}let Pl=null;function IN(t){return Pl=Pl||_N(t),Pl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new pa(5e3,15e3),bN="__/auth/iframe",xN="emulator/auth/iframe",PN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RN(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qp(e,xN):`https://${t.config.authDomain}/${bN}`,r={apiKey:e.apiKey,appName:t.name,v:ms},s=ON.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fa(r).slice(1)}`}async function NN(t){const e=await IN(t),n=Tn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:RN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Tn().setTimeout(()=>{i(o)},AN.get());function l(){Tn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,$N=600,MN="_blank",jN="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FN(t,e,n,r=LN,s=$N){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DN),{width:r.toString(),height:s.toString(),top:i,left:o}),u=ht().toLowerCase();n&&(a=XE(u)?MN:n),JE(u)&&(e=e||jN,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(ER(u)&&a!=="_self")return UN(e||"",a),new zv(null);const f=window.open(e||"",a,d);K(f,t,"popup-blocked");try{f.focus()}catch{}return new zv(f)}function UN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="__/auth/handler",VN="emulator/auth/handler",zN=encodeURIComponent("fac");async function Hv(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:s};if(e instanceof Xp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof ya){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${zN}=${encodeURIComponent(l)}`:"";return`${HN(t)}?${fa(a).slice(1)}${u}`}function HN({config:t}){return t.emulator?Qp(t,VN):`https://${t.authDomain}/${BN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class qN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=mN,this._overrideRedirectResult=hN}async _openPopup(e,n,r,s){var i;qn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Hv(e,n,r,cf(),s);return FN(e,o,Zp())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Hv(e,n,r,cf(),s);return GR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(qn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NN(e),r=new yN(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hd];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||Jp()||nc()}}const WN=qN;var qv="@firebase/auth",Wv="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function QN(t){os(new _r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sS(t)},u=new PR(r,s,i,l);return RR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),os(new _r("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new KN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(qv,Wv,GN(t)),Sn(qv,Wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=5*60,JN=LE("authIdTokenMaxAge")||YN;let Kv=null;const XN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JN)return;const s=n==null?void 0:n.token;Kv!==s&&(Kv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ZN(t=Wp()){const e=tc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OR(t,{popupRedirectResolver:WN,persistence:[rN,qR,pS]}),r=LE("authTokenSyncURL");if(r){const i=XN(r);BR(n,i,()=>i(n.currentUser)),UR(n,o=>i(o))}const s=RE("auth");return s&&NR(n,`http://${s}`),n}QN("Browser");var eD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D,tm=tm||{},H=eD||self;function ic(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tD(t){return Object.prototype.hasOwnProperty.call(t,qd)&&t[qd]||(t[qd]=++nD)}var qd="closure_uid_"+(1e9*Math.random()>>>0),nD=0;function rD(t,e,n){return t.call.apply(t.bind,arguments)}function sD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=rD:lt=sD,lt.apply(null,arguments)}function sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Dr(){this.s=this.s,this.o=this.o}var iD=0;Dr.prototype.s=!1;Dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),iD!=0)&&tD(this)};Dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function nm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Gv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ic(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var oD=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",()=>{},e),H.removeEventListener("test",()=>{},e)}catch{}return t}();function Ho(t){return/^[\s\xa0]*$/.test(t)}function oc(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function gn(t){return oc().indexOf(t)!=-1}function rm(t){return rm[" "](t),t}rm[" "]=function(){};function aD(t,e){var n=ZD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var lD=gn("Opera"),pi=gn("Trident")||gn("MSIE"),TS=gn("Edge"),hf=TS||pi,kS=gn("Gecko")&&!(oc().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge"))&&!(gn("Trident")||gn("MSIE"))&&!gn("Edge"),uD=oc().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge");function _S(){var t=H.document;return t?t.documentMode:void 0}var ff;e:{var Wd="",Kd=function(){var t=oc();if(kS)return/rv:([^\);]+)(\)|;)/.exec(t);if(TS)return/Edge\/([\d\.]+)/.exec(t);if(pi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uD)return/WebKit\/(\S+)/.exec(t);if(lD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kd&&(Wd=Kd?Kd[1]:""),pi){var Gd=_S();if(Gd!=null&&Gd>parseFloat(Wd)){ff=String(Gd);break e}}ff=Wd}var pf;if(H.document&&pi){var Qv=_S();pf=Qv||parseInt(ff,10)||void 0}else pf=void 0;var cD=pf;function qo(t,e){if(ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kS){e:{try{rm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qo.$.h.call(this)}}ze(qo,ut);var dD={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ea="closure_listenable_"+(1e6*Math.random()|0),hD=0;function fD(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++hD,this.fa=this.ia=!1}function ac(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function pD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function IS(t){const e={};for(const n in t)e[n]=t[n];return e}const Yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Yv.length;i++)n=Yv[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lc(t){this.src=t,this.g={},this.h=0}lc.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=gf(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new fD(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function mf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=CS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ac(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gf(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var im="closure_lm_"+(1e6*Math.random()|0),Qd={};function bS(t,e,n,r,s){if(r&&r.once)return PS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)bS(t,e[i],n,r,s);return null}return n=lm(n),t&&t[Ea]?t.O(e,n,wa(r)?!!r.capture:!!r,s):xS(t,e,n,!1,r,s)}function xS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=wa(s)?!!s.capture:!!s,a=am(t);if(a||(t[im]=a=new lc(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=mD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oD||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(RS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mD(){function t(n){return e.call(t.src,t.listener,n)}const e=gD;return t}function PS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)PS(t,e[i],n,r,s);return null}return n=lm(n),t&&t[Ea]?t.P(e,n,wa(r)?!!r.capture:!!r,s):xS(t,e,n,!0,r,s)}function OS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)OS(t,e[i],n,r,s);else r=wa(r)?!!r.capture:!!r,n=lm(n),t&&t[Ea]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=gf(i,n,r,s),-1<n&&(ac(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=am(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gf(e,n,r,s)),(n=-1<t?e[t]:null)&&om(n))}function om(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ea])mf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=am(e))?(mf(n,t),n.h==0&&(n.src=null,e[im]=null)):ac(t)}}}function RS(t){return t in Qd?Qd[t]:Qd[t]="on"+t}function gD(t,e){if(t.fa)t=!0;else{e=new qo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&om(t),t=n.call(r,e)}return t}function am(t){return t=t[im],t instanceof lc?t:null}var Yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function lm(t){return typeof t=="function"?t:(t[Yd]||(t[Yd]=function(e){return t.handleEvent(e)}),t[Yd])}function Ve(){Dr.call(this),this.i=new lc(this),this.S=this,this.J=null}ze(Ve,Dr);Ve.prototype[Ea]=!0;Ve.prototype.removeEventListener=function(t,e,n,r){OS(this,t,e,n,r)};function Ye(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ut(e,t);else if(e instanceof ut)e.target=e.target||t;else{var s=e;e=new ut(r,t),AS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=il(o,r,!0,e)&&s}if(o=e.g=t,s=il(o,r,!0,e)&&s,s=il(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=il(o,r,!1,e)&&s}Ve.prototype.N=function(){if(Ve.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ac(n[r]);delete t.g[e],t.h--}}this.J=null};Ve.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ve.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function il(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&mf(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var um=H.JSON.stringify;class yD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function vD(){var t=cm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wD{constructor(){this.h=this.g=null}add(e,n){const r=NS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NS=new yD(()=>new ED,t=>t.reset());class ED{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function SD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function CD(t){H.setTimeout(()=>{throw t},0)}let Wo,Ko=!1,cm=new wD,DS=()=>{const t=H.Promise.resolve(void 0);Wo=()=>{t.then(TD)}};var TD=()=>{for(var t;t=vD();){try{t.h.call(t.g)}catch(n){CD(n)}var e=NS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ko=!1};function uc(t,e){Ve.call(this),this.h=t||1,this.g=e||H,this.j=lt(this.qb,this),this.l=Date.now()}ze(uc,Ve);D=uc.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(dm(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}D.N=function(){uc.$.N.call(this),dm(this),delete this.g};function hm(t,e,n){if(typeof t=="function")n&&(t=lt(t,n));else if(t&&typeof t.handleEvent=="function")t=lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function LS(t){t.g=hm(()=>{t.g=null,t.i&&(t.i=!1,LS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class kD extends Dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LS(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Go(t){Dr.call(this),this.h=t,this.g={}}ze(Go,Dr);var Jv=[];function $S(t,e,n,r){Array.isArray(n)||(n&&(Jv[0]=n.toString()),n=Jv);for(var s=0;s<n.length;s++){var i=bS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function MS(t){sm(t.g,function(e,n){this.g.hasOwnProperty(n)&&om(e)},t),t.g={}}Go.prototype.N=function(){Go.$.N.call(this),MS(this)};Go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cc(){this.g=!0}cc.prototype.Ea=function(){this.g=!1};function _D(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");o=2<=f.length&&f[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function ID(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+bD(t,n)+(r?" "+r:"")})}function AD(t,e){t.info(function(){return"TIMEOUT: "+e})}cc.prototype.info=function(){};function bD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return um(n)}catch{return e}}var gs={},Xv=null;function dc(){return Xv=Xv||new Ve}gs.Ta="serverreachability";function jS(t){ut.call(this,gs.Ta,t)}ze(jS,ut);function Qo(t){const e=dc();Ye(e,new jS(e))}gs.STAT_EVENT="statevent";function FS(t,e){ut.call(this,gs.STAT_EVENT,t),this.stat=e}ze(FS,ut);function yt(t){const e=dc();Ye(e,new FS(e,t))}gs.Ua="timingevent";function US(t,e){ut.call(this,gs.Ua,t),this.size=e}ze(US,ut);function Sa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var hc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fm(){}fm.prototype.h=null;function Zv(t){return t.h||(t.h=t.i())}function VS(){}var Ca={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pm(){ut.call(this,"d")}ze(pm,ut);function mm(){ut.call(this,"c")}ze(mm,ut);var yf;function fc(){}ze(fc,fm);fc.prototype.g=function(){return new XMLHttpRequest};fc.prototype.i=function(){return{}};yf=new fc;function Ta(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Go(this),this.P=xD,t=hf?125:void 0,this.V=new uc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zS}function zS(){this.i=null,this.g="",this.h=!1}var xD=45e3,vf={},mu={};D=Ta.prototype;D.setTimeout=function(t){this.P=t};function wf(t,e,n){t.L=1,t.v=mc(Wn(e)),t.s=n,t.S=!0,HS(t,null)}function HS(t,e){t.G=Date.now(),ka(t),t.A=Wn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),XS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new zS,t.g=wC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new kD(lt(t.Pa,t,t.g),t.O)),$S(t.U,t.g,"readystatechange",t.nb),e=t.I?IS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Qo(),_D(t.j,t.u,t.A,t.m,t.W,t.s)}D.nb=function(t){t=t.target;const e=this.M;e&&yn(t)==3?e.l():this.Pa(t)};D.Pa=function(t){try{if(t==this.g)e:{const d=yn(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||hf||this.g&&(this.h.h||this.g.ja()||rw(this.g)))){this.J||d!=4||e==7||(e==8||0>=f?Qo(3):Qo(2)),pc(this);var n=this.g.da();this.ca=n;t:if(qS(this)){var r=rw(this.g);t="";var s=r.length,i=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kr(this),yo(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ID(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(a)){var u=a;break t}}u=null}if(n=u)Ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ef(this,n);else{this.i=!1,this.o=3,yt(12),Kr(this),yo(this);break e}}this.S?(WS(this,d,o),hf&&this.i&&d==3&&($S(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,o,null),Ef(this,o)),d==4&&Kr(this),this.i&&!this.J&&(d==4?mC(this.l,this):(this.i=!1,ka(this)))}else YD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),Kr(this),yo(this)}}}catch{}finally{}};function qS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function WS(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=PD(t,n),s==mu){e==4&&(t.o=4,yt(14),r=!1),Ks(t.j,t.m,null,"[Incomplete Response]");break}else if(s==vf){t.o=4,yt(15),Ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ks(t.j,t.m,s,null),Ef(t,s);qS(t)&&s!=mu&&s!=vf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,yt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sm(e),e.M=!0,yt(11))):(Ks(t.j,t.m,n,"[Invalid Chunked Response]"),Kr(t),yo(t))}D.mb=function(){if(this.g){var t=yn(this.g),e=this.g.ja();this.C<e.length&&(pc(this),WS(this,t,e),this.i&&t!=4&&ka(this))}};function PD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mu:(n=Number(e.substring(n,r)),isNaN(n)?vf:(r+=1,r+n>e.length?mu:(e=e.slice(r,r+n),t.C=r+n,e)))}D.cancel=function(){this.J=!0,Kr(this)};function ka(t){t.Y=Date.now()+t.P,KS(t,t.P)}function KS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Sa(lt(t.lb,t),e)}function pc(t){t.B&&(H.clearTimeout(t.B),t.B=null)}D.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(AD(this.j,this.A),this.L!=2&&(Qo(),yt(17)),Kr(this),this.o=2,yo(this)):KS(this,this.Y-t)};function yo(t){t.l.H==0||t.J||mC(t.l,t)}function Kr(t){pc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,dm(t.V),MS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ef(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sf(n.i,t))){if(!t.K&&Sf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vu(n),vc(n);else break e;Em(n),yt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sa(lt(n.ib,n),6e3));if(1>=tC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Gr(n,11)}else if((t.K||n.g==t)&&vu(n),!Ho(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=r.i;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(gm(i,i.h),i.h=null))}if(r.F){const C=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,pe(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=vC(r,r.J?r.pa:null,r.Y),o.K){nC(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(pc(a),ka(a)),r.g=o}else fC(r);0<n.j.length&&wc(n)}else u[0]!="stop"&&u[0]!="close"||Gr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Gr(n,7):wm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Qo(4)}catch{}}function OD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ic(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ic(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function GS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ic(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RD(t),r=OD(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var QS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ND(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Zr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zr){this.h=t.h,gu(this,t.j),this.s=t.s,this.g=t.g,yu(this,t.m),this.l=t.l;var e=t.i,n=new Yo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ew(this,n),this.o=t.o}else t&&(e=String(t).match(QS))?(this.h=!1,gu(this,e[1]||"",!0),this.s=to(e[2]||""),this.g=to(e[3]||"",!0),yu(this,e[4]),this.l=to(e[5]||"",!0),ew(this,e[6]||"",!0),this.o=to(e[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Zr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(no(e,tw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(no(e,tw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(no(n,n.charAt(0)=="/"?$D:LD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",no(n,jD)),t.join("")};function Wn(t){return new Zr(t)}function gu(t,e,n){t.j=n?to(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ew(t,e,n){e instanceof Yo?(t.i=e,FD(t.i,t.h)):(n||(e=no(e,MD)),t.i=new Yo(e,t.h))}function pe(t,e,n){t.i.set(e,n)}function mc(t){return pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function to(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function no(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tw=/[#\/\?@]/g,LD=/[#\?:]/g,$D=/[#\?]/g,MD=/[#\?@]/g,jD=/#/g;function Yo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&ND(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}D=Yo.prototype;D.add=function(t,e){Lr(this),this.i=null,t=Pi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function YS(t,e){Lr(t),e=Pi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JS(t,e){return Lr(t),e=Pi(t,e),t.g.has(e)}D.forEach=function(t,e){Lr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};D.ta=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};D.Z=function(t){Lr(this);let e=[];if(typeof t=="string")JS(this,t)&&(e=e.concat(this.g.get(Pi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};D.set=function(t,e){return Lr(this),this.i=null,t=Pi(this,t),JS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};D.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function XS(t,e,n){YS(t,e),0<n.length&&(t.i=null,t.g.set(Pi(t,e),nm(n)),t.h+=n.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Pi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FD(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(YS(this,r),XS(this,s,n))},t)),t.j=e}var UD=class{constructor(t,e){this.g=t,this.map=e}};function ZS(t){this.l=t||BD,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var BD=10;function eC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function tC(t){return t.h?1:t.g?t.g.size:0}function Sf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gm(t,e){t.g?t.g.add(e):t.h=e}function nC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ZS.prototype.cancel=function(){if(this.i=rC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function rC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return nm(t.i)}var VD=class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}};function zD(){this.g=new VD}function HD(t,e,n){const r=n||"";try{GS(t,function(s,i){let o=s;wa(s)&&(o=um(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function qD(t,e){const n=new cc;if(H.Image){const r=new Image;r.onload=sl(ol,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sl(ol,n,r,"TestLoadImage: error",!1,e),r.onabort=sl(ol,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sl(ol,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ol(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function _a(t){this.l=t.fc||null,this.j=t.ob||!1}ze(_a,fm);_a.prototype.g=function(){return new gc(this.l,this.j)};_a.prototype.i=function(t){return function(){return t}}({});function gc(t,e){Ve.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ze(gc,Ve);var ym=0;D=gc.prototype;D.open=function(t,e){if(this.readyState!=ym)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jo(this)};D.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=ym};D.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function sC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}D.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ia(this):Jo(this),this.readyState==3&&sC(this)}};D.Za=function(t){this.g&&(this.response=this.responseText=t,Ia(this))};D.Ya=function(t){this.g&&(this.response=t,Ia(this))};D.ka=function(){this.g&&Ia(this)};function Ia(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jo(t)}D.setRequestHeader=function(t,e){this.v.append(t,e)};D.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WD=H.JSON.parse;function Ie(t){Ve.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iC,this.L=this.M=!1}ze(Ie,Ve);var iC="",KD=/^https?$/i,GD=["POST","PUT"];D=Ie.prototype;D.Oa=function(t){this.M=t};D.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yf.g(),this.C=this.u?Zv(this.u):Zv(yf),this.g.onreadystatechange=lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){nw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=H.FormData&&t instanceof H.FormData,!(0<=CS(GD,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lC(this),0<this.B&&((this.L=QD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.ua,this)):this.A=hm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){nw(this,i)}};function QD(t){return pi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}D.ua=function(){typeof tm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function nw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oC(t),yc(t)}function oC(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}D.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),yc(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yc(this,!0)),Ie.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?aC(this):this.kb())};D.kb=function(){aC(this)};function aC(t){if(t.h&&typeof tm<"u"&&(!t.C[1]||yn(t)!=4||t.da()!=2)){if(t.v&&yn(t)==4)hm(t.La,0,t);else if(Ye(t,"readystatechange"),yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(QS)[1]||null;!s&&H.self&&H.self.location&&(s=H.self.location.protocol.slice(0,-1)),r=!KD.test(s?s.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var i=2<yn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",oC(t)}}finally{yc(t)}}}}function yc(t,e){if(t.g){lC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function lC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}D.isActive=function(){return!!this.g};function yn(t){return t.g?t.g.readyState:0}D.da=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WD(e)}};function rw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case iC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YD(t){const e={};t=(t.g&&2<=yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ho(t[r]))continue;var n=SD(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}pD(e,function(r){return r.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uC(t){let e="";return sm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function vm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pe(t,e,n))}function Gi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cC(t){this.Ga=0,this.j=[],this.l=new cc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gi("baseRetryDelayMs",5e3,t),this.hb=Gi("retryDelaySeedMs",1e4,t),this.eb=Gi("forwardChannelMaxRetries",2,t),this.xa=Gi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ZS(t&&t.concurrentRequestLimit),this.Ja=new zD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=cC.prototype;D.ra=8;D.H=1;function wm(t){if(dC(t),t.H==3){var e=t.W++,n=Wn(t.I);if(pe(n,"SID",t.K),pe(n,"RID",e),pe(n,"TYPE","terminate"),Aa(t,n),e=new Ta(t,t.l,e),e.L=2,e.v=mc(Wn(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&H.Image&&(new Image().src=e.v,n=!0),n||(e.g=wC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ka(e)}yC(t)}function vc(t){t.g&&(Sm(t),t.g.cancel(),t.g=null)}function dC(t){vc(t),t.u&&(H.clearTimeout(t.u),t.u=null),vu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function wc(t){if(!eC(t.i)&&!t.m){t.m=!0;var e=t.Na;Wo||DS(),Ko||(Wo(),Ko=!0),cm.add(e,t),t.C=0}}function JD(t,e){return tC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sa(lt(t.Na,t,e),gC(t,t.C)),t.C++,!0)}D.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Ta(this,this.l,t);let i=this.s;if(this.U&&(i?(i=IS(i),AS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=hC(this,s,e),n=Wn(this.I),pe(n,"RID",t),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),Aa(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(uC(i)))+"&"+e:this.o&&vm(n,this.o,i)),gm(this.i,s),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",e),pe(n,"SID","null"),s.aa=!0,wf(s,n,null)):wf(s,n,e),this.H=2}}else this.H==3&&(t?sw(this,t):this.j.length==0||eC(this.i)||sw(this))};function sw(t,e){var n;e?n=e.m:n=t.W++;const r=Wn(t.I);pe(r,"SID",t.K),pe(r,"RID",n),pe(r,"AID",t.V),Aa(t,r),t.o&&t.s&&vm(r,t.o,t.s),n=new Ta(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=hC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gm(t.i,n),wf(n,r,e)}function Aa(t,e){t.na&&sm(t.na,function(n,r){pe(e,r,n)}),t.h&&GS({},function(n,r){pe(e,r,n)})}function hC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?lt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{HD(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function fC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wo||DS(),Ko||(Wo(),Ko=!0),cm.add(e,t),t.A=0}}function Em(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sa(lt(t.Ma,t),gC(t,t.A)),t.A++,!0)}D.Ma=function(){if(this.u=null,pC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sa(lt(this.jb,this),t)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yt(10),vc(this),pC(this))};function Sm(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function pC(t){t.g=new Ta(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wn(t.wa);pe(e,"RID","rpc"),pe(e,"SID",t.K),pe(e,"AID",t.V),pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pe(e,"TO",t.qa),pe(e,"TYPE","xmlhttp"),Aa(t,e),t.o&&t.s&&vm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=mc(Wn(e)),n.s=null,n.S=!0,HS(n,t)}D.ib=function(){this.v!=null&&(this.v=null,vc(this),Em(this),yt(19))};function vu(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function mC(t,e){var n=null;if(t.g==e){vu(t),Sm(t),t.g=null;var r=2}else if(Sf(t.i,e))n=e.F,nC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=dc(),Ye(r,new US(r,n)),wc(t)}else fC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&JD(t,e)||r==2&&Em(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Gr(t,5);break;case 4:Gr(t,10);break;case 3:Gr(t,6);break;default:Gr(t,2)}}}function gC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Gr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=lt(t.pb,t);n||(n=new Zr("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||gu(n,"https"),mc(n)),qD(n.toString(),r)}else yt(2);t.H=0,t.h&&t.h.za(e),yC(t),dC(t)}D.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yt(2)):(this.l.info("Failed to ping google.com"),yt(1))};function yC(t){if(t.H=0,t.ma=[],t.h){const e=rC(t.i);(e.length!=0||t.j.length!=0)&&(Gv(t.ma,e),Gv(t.ma,t.j),t.i.i.length=0,nm(t.j),t.j.length=0),t.h.ya()}}function vC(t,e,n){var r=n instanceof Zr?Wn(n):new Zr(n);if(r.g!="")e&&(r.g=e+"."+r.g),yu(r,r.m);else{var s=H.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Zr(null);r&&gu(i,r),e&&(i.g=e),s&&yu(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&pe(r,n,e),pe(r,"VER",t.ra),Aa(t,r),r}function wC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ie(new _a({ob:!0})):new Ie(t.va),e.Oa(t.J),e}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function EC(){}D=EC.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function wu(){if(pi&&!(10<=Number(cD)))throw Error("Environmental error: no available transport.")}wu.prototype.g=function(t,e){return new Vt(t,e)};function Vt(t,e){Ve.call(this),this.g=new cC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ho(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ho(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Oi(this)}ze(Vt,Ve);Vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=vC(t,null,t.Y),wc(t)};Vt.prototype.close=function(){wm(this.g)};Vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=um(t),t=n);e.j.push(new UD(e.fb++,t)),e.H==3&&wc(e)};Vt.prototype.N=function(){this.g.h=null,delete this.j,wm(this.g),delete this.g,Vt.$.N.call(this)};function SC(t){pm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ze(SC,pm);function CC(){mm.call(this),this.status=1}ze(CC,mm);function Oi(t){this.g=t}ze(Oi,EC);Oi.prototype.Ba=function(){Ye(this.g,"a")};Oi.prototype.Aa=function(t){Ye(this.g,new SC(t))};Oi.prototype.za=function(t){Ye(this.g,new CC)};Oi.prototype.ya=function(){Ye(this.g,"b")};function XD(){this.blockSize=-1}function cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ze(cn,XD);cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Jd(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Jd(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Jd(this,r),s=0;break}}this.h=s,this.i+=e};cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ue(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var ZD={};function Cm(t){return-128<=t&&128>t?aD(t,function(e){return new ue([e|0],0>e?-1:0)}):new ue([t|0],0>t?-1:0)}function vn(t){if(isNaN(t)||!isFinite(t))return ni;if(0>t)return Ge(vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cf;return new ue(e,0)}function TC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ge(TC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vn(Math.pow(e,8)),r=ni,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=vn(Math.pow(e,i)),r=r.R(i).add(vn(o))):(r=r.R(n),r=r.add(vn(o)))}return r}var Cf=4294967296,ni=Cm(0),Tf=Cm(1),iw=Cm(16777216);D=ue.prototype;D.ea=function(){if(Qt(this))return-Ge(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cf+r)*e,e*=Cf}return t};D.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fn(this))return"0";if(Qt(this))return"-"+Ge(this).toString(t);for(var e=vn(Math.pow(t,6)),n=this,r="";;){var s=Su(n,e).g;n=Eu(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Fn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};D.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qt(t){return t.h==-1}D.X=function(t){return t=Eu(this,t),Qt(t)?-1:Fn(t)?0:1};function Ge(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ue(n,~t.h).add(Tf)}D.abs=function(){return Qt(this)?Ge(this):this};D.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ue(n,n[n.length-1]&-2147483648?-1:0)};function Eu(t,e){return t.add(Ge(e))}D.R=function(t){if(Fn(this)||Fn(t))return ni;if(Qt(this))return Qt(t)?Ge(this).R(Ge(t)):Ge(Ge(this).R(t));if(Qt(t))return Ge(this.R(Ge(t)));if(0>this.X(iw)&&0>t.X(iw))return vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,al(n,2*r+2*s),n[2*r+2*s+1]+=i*l,al(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,al(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,al(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ue(n,0)};function al(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qi(t,e){this.g=t,this.h=e}function Su(t,e){if(Fn(e))throw Error("division by zero");if(Fn(t))return new Qi(ni,ni);if(Qt(t))return e=Su(Ge(t),e),new Qi(Ge(e.g),Ge(e.h));if(Qt(e))return e=Su(t,Ge(e)),new Qi(Ge(e.g),e.h);if(30<t.g.length){if(Qt(t)||Qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tf,r=e;0>=r.X(t);)n=ow(n),r=ow(r);var s=Os(n,1),i=Os(r,1);for(r=Os(r,2),n=Os(n,2);!Fn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Os(r,1),n=Os(n,1)}return e=Eu(t,s.R(e)),new Qi(s,e)}for(s=ni;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=vn(n),o=i.R(e);Qt(o)||0<o.X(t);)n-=r,i=vn(n),o=i.R(e);Fn(i)&&(i=Tf),s=s.add(i),t=Eu(t,o)}return new Qi(s,t)}D.gb=function(t){return Su(this,t).h};D.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ue(n,this.h&t.h)};D.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ue(n,this.h|t.h)};D.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ue(n,this.h^t.h)};function ow(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ue(n,t.h)}function Os(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ue(s,t.h)}wu.prototype.createWebChannel=wu.prototype.g;Vt.prototype.send=Vt.prototype.u;Vt.prototype.open=Vt.prototype.m;Vt.prototype.close=Vt.prototype.close;hc.NO_ERROR=0;hc.TIMEOUT=8;hc.HTTP_ERROR=6;BS.COMPLETE="complete";VS.EventType=Ca;Ca.OPEN="a";Ca.CLOSE="b";Ca.ERROR="c";Ca.MESSAGE="d";Ve.prototype.listen=Ve.prototype.O;Ie.prototype.listenOnce=Ie.prototype.P;Ie.prototype.getLastError=Ie.prototype.Sa;Ie.prototype.getLastErrorCode=Ie.prototype.Ia;Ie.prototype.getStatus=Ie.prototype.da;Ie.prototype.getResponseJson=Ie.prototype.Wa;Ie.prototype.getResponseText=Ie.prototype.ja;Ie.prototype.send=Ie.prototype.ha;Ie.prototype.setWithCredentials=Ie.prototype.Oa;cn.prototype.digest=cn.prototype.l;cn.prototype.reset=cn.prototype.reset;cn.prototype.update=cn.prototype.j;ue.prototype.add=ue.prototype.add;ue.prototype.multiply=ue.prototype.R;ue.prototype.modulo=ue.prototype.gb;ue.prototype.compare=ue.prototype.X;ue.prototype.toNumber=ue.prototype.ea;ue.prototype.toString=ue.prototype.toString;ue.prototype.getBits=ue.prototype.D;ue.fromNumber=vn;ue.fromString=TC;var eL=function(){return new wu},tL=function(){return dc()},Xd=hc,nL=BS,rL=gs,aw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sL=_a,ll=VS,iL=Ie,oL=cn,ri=ue;const lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new ec("@firebase/firestore");function uw(){return ls.logLevel}function j(t,...e){if(ls.logLevel<=te.DEBUG){const n=e.map(Tm);ls.debug(`Firestore (${Ri}): ${t}`,...n)}}function Kn(t,...e){if(ls.logLevel<=te.ERROR){const n=e.map(Tm);ls.error(`Firestore (${Ri}): ${t}`,...n)}}function mi(t,...e){if(ls.logLevel<=te.WARN){const n=e.map(Tm);ls.warn(`Firestore (${Ri}): ${t}`,...n)}}function Tm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function ge(t,e){t||q()}function G(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let B=class extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kC=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},aL=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}};class lL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let uL=class{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new kC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new st(e)}},cL=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},dL=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new cL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class hL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let fL=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.T=n.token,new hL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=pL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function gi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Me(0,0))}static max(){return new W(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}let Ue=class Ol extends Xo{construct(e,n,r){return new Ol(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ol(n)}static emptyPath(){return new Ol([])}};const mL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends Xo{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return mL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new at(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z=class ro{constructor(e){this.path=e}static fromPath(e){return new ro(Ue.fromString(e))}static fromName(e){return new ro(Ue.fromString(e).popFirst(5))}static empty(){return new ro(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ro(new Ue(e.slice()))}};function gL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=W.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Ir(s,z.empty(),e)}function yL(t){return new Ir(t.readTime,t.key,-1)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(W.min(),z.empty(),-1)}static max(){return new Ir(W.max(),z.empty(),-1)}}function vL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==wL)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(s=>s?R.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new R((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new R((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}km.ct=-1;function Ec(t){return t==null}function Cu(t){return t===0&&1/t==-1/0}function SL(t){return typeof t=="number"&&Number.isInteger(t)&&!Cu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.comparator=e,this.root=n||Ke.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=s??Ke.EMPTY,this.right=i??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ke(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ke.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dw(this.data.getIterator())}getIteratorFrom(e){return new dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new ct(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AC("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const CL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(ge(!!t),typeof t=="string"){let e=0;const n=CL.exec(t);if(ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function us(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Im(t){const e=t.mapValue.fields.__previous_value__;return _m(e)?Im(e):e}function Zo(t){const e=Ar(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:kL(t)?9007199254740991:10:q()}function An(t,e){if(t===e)return!0;const n=cs(t);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zo(t).isEqual(Zo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Ar(r.timestampValue),o=Ar(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return us(r.bytesValue).isEqual(us(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Re(r.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(r.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Re(r.integerValue)===Re(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Re(r.doubleValue),o=Re(s.doubleValue);return i===o?Cu(i)===Cu(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return gi(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(cw(i)!==cw(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!An(i[a],o[a])))return!1;return!0}(t,e);default:return q()}}function ta(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function yi(t,e){if(t===e)return 0;const n=cs(t),r=cs(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Re(s.integerValue||s.doubleValue),a=Re(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return hw(t.timestampValue,e.timestampValue);case 4:return hw(Zo(t),Zo(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(s,i){const o=us(s),a=us(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ae(o[l],a[l]);if(u!==0)return u}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ae(Re(s.latitude),Re(i.latitude));return o!==0?o:ae(Re(s.longitude),Re(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=yi(o[l],a[l]);if(u)return u}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===cl.mapValue&&i===cl.mapValue)return 0;if(s===cl.mapValue)return 1;if(i===cl.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const f=ae(a[d],u[d]);if(f!==0)return f;const p=yi(o[a[d]],l[u[d]]);if(p!==0)return p}return ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ar(t),r=Ar(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function vi(t){return kf(t)}function kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Ar(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?us(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=kf(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${kf(r.fields[a])}`;return i+"}"}(t.mapValue):q();var e,n}function _f(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function fw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rl(t){return!!t&&"mapValue"in t}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=vo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new kt(vo(this.value))}}function bC(t){const e=[];return ys(t.fields,(n,r)=>{const s=new at([n]);if(Rl(r)){const i=bC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,W.min(),W.min(),W.min(),kt.empty(),0)}static newFoundDocument(e,n,r,s){return new ot(e,1,n,W.min(),r,s,0)}static newNoDocument(e,n){return new ot(e,2,n,W.min(),W.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,W.min(),W.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=yi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n="asc"){this.field=e,this.dir=n}}function _L(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{}class Le extends xC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AL(e,n,r):n==="array-contains"?new PL(e,r):n==="in"?new OL(e,r):n==="not-in"?new RL(e,r):n==="array-contains-any"?new NL(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bL(e,r):new xL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yi(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends xC{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new bn(e,n)}matches(e){return PC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function PC(t){return t.op==="and"}function OC(t){return IL(t)&&PC(t)}function IL(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function If(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+vi(t.value);if(OC(t))return t.filters.map(e=>If(e)).join(",");{const e=t.filters.map(n=>If(n)).join(",");return`${t.op}(${e})`}}function RC(t,e){return t instanceof Le?function(n,r){return r instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&An(n.value,r.value)}(t,e):t instanceof bn?function(n,r){return r instanceof bn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&RC(i,r.filters[o]),!0):!1}(t,e):void q()}function NC(t){return t instanceof Le?function(e){return`${e.field.canonicalString()} ${e.op} ${vi(e.value)}`}(t):t instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(NC).join(" ,")+"}"}(t):"Filter"}let AL=class extends Le{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){const n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},bL=class extends Le{constructor(e,n){super(e,"in",n),this.keys=DC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}};class xL extends Le{constructor(e,n){super(e,"not-in",n),this.keys=DC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}class PL extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Am(n)&&ta(n.arrayValue,this.value)}}class OL extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class RL extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class NL extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ta(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function yw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DL(t,e,n,r,s,i,o)}function bm(t){const e=G(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>If(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ec(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vi(r)).join(",")),e.dt=n}return e.dt}function xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_L(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gw(t.startAt,e.startAt)&&gw(t.endAt,e.endAt)}function Af(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function LL(t,e,n,r,s,i,o,a){return new Sc(t,e,n,r,s,i,o,a)}function Pm(t){return new Sc(t)}function vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $L(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ML(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function jL(t){return t.collectionGroup!==null}function si(t){const e=G(t);if(e.wt===null){e.wt=[];const n=ML(e),r=$L(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new wo(n)),e.wt.push(new wo(at.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wo(at.keyField(),i))}}}return e.wt}function Gn(t){const e=G(t);if(!e._t)if(e.limitType==="F")e._t=yw(e.path,e.collectionGroup,si(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of si(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new wo(i.field,o))}const r=e.endAt?new Tu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Tu(e.startAt.position,e.startAt.inclusive):null;e._t=yw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function bf(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cc(t,e){return xm(Gn(t),Gn(e))&&t.limitType===e.limitType}function LC(t){return`${bm(Gn(t))}|lt:${t.limitType}`}function xf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>NC(r)).join(", ")}]`),Ec(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vi(r)).join(",")),`Target(${n})`}(Gn(t))}; limitType=${t.limitType})`}function Tc(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):z.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of si(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=mw(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,si(n),r)||n.endAt&&!function(s,i,o){const a=mw(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,si(n),r))}(t,e)}function FL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $C(t){return(e,n)=>{let r=!1;for(const s of si(t)){const i=UL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function UL(t,e,n){const r=t.field.isKeyField()?z.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?yi(a,l):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return IC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Se(z.comparator);function Qn(){return BL}const MC=new Se(z.comparator);function so(...t){let e=MC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=MC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qr(){return Eo()}function FC(){return Eo()}function Eo(){return new Ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const VL=new Se(z.comparator),zL=new ct(z.comparator);function X(...t){let e=zL;for(const n of t)e=e.add(n);return e}const HL=new ct(ae);function qL(){return HL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cu(e)?"-0":e}}function BC(t){return{integerValue:""+t}}function WL(t,e){return SL(e)?BC(e):UC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function KL(t,e,n){return t instanceof ku?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&_m(s)&&(s=Im(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof na?zC(t,e):t instanceof ra?HC(t,e):function(r,s){const i=VC(r,s),o=ww(i)+ww(r.gt);return _f(i)&&_f(r.gt)?BC(o):UC(r.serializer,o)}(t,e)}function GL(t,e,n){return t instanceof na?zC(t,e):t instanceof ra?HC(t,e):n}function VC(t,e){return t instanceof _u?_f(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ku extends kc{}class na extends kc{constructor(e){super(),this.elements=e}}function zC(t,e){const n=qC(e);for(const r of t.elements)n.some(s=>An(s,r))||n.push(r);return{arrayValue:{values:n}}}class ra extends kc{constructor(e){super(),this.elements=e}}function HC(t,e){let n=qC(e);for(const r of t.elements)n=n.filter(s=>!An(s,r));return{arrayValue:{values:n}}}class _u extends kc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function ww(t){return Re(t.integerValue||t.doubleValue)}function qC(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof na&&r instanceof na||n instanceof ra&&r instanceof ra?gi(n.elements,r.elements,An):n instanceof _u&&r instanceof _u?An(n.gt,r.gt):n instanceof ku&&r instanceof ku}(t.transform,e.transform)}class YL{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _c{}function WC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new GC(t.key,kn.none()):new Pa(t.key,t.data,kn.none());{const n=t.data,r=kt.empty();let s=new ct(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $r(t.key,r,new Mt(s.toArray()),kn.none())}}function JL(t,e,n){t instanceof Pa?function(r,s,i){const o=r.value.clone(),a=Sw(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(r,s,i){if(!Nl(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Sw(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(KC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function So(t,e,n,r){return t instanceof Pa?function(s,i,o,a){if(!Nl(s.precondition,i))return o;const l=s.value.clone(),u=Cw(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(s,i,o,a){if(!Nl(s.precondition,i))return o;const l=Cw(s.fieldTransforms,a,i),u=i.data;return u.setAll(KC(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return Nl(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function XL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VC(r.transform,s||null);i!=null&&(n===null&&(n=kt.empty()),n.set(r.field,i))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&gi(n,r,(s,i)=>QL(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pa extends _c{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $r extends _c{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sw(t,e,n){const r=new Map;ge(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GL(o,a,n[s]))}return r}function Cw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KL(i,o,e))}return r}class GC extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZL extends _c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&JL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=So(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=So(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=WC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&gi(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&gi(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class Om{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ge(e.mutations.length===r.length);let s=VL;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Om(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,re;function r$(t){switch(t){default:return q();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function QC(t){if(t===void 0)return Kn("GRPC error has no .code"),P.UNKNOWN;switch(t){case Oe.OK:return P.OK;case Oe.CANCELLED:return P.CANCELLED;case Oe.UNKNOWN:return P.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return P.INTERNAL;case Oe.UNAVAILABLE:return P.UNAVAILABLE;case Oe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Oe.NOT_FOUND:return P.NOT_FOUND;case Oe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Oe.ABORTED:return P.ABORTED;case Oe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Oe.DATA_LOSS:return P.DATA_LOSS;default:return q()}}(re=Oe||(Oe={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return dl}static getOrCreateInstance(){return dl===null&&(dl=new Rm),dl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let dl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new ri([4294967295,4294967295],0);function Tw(t){const e=s$().encode(t),n=new oL;return n.update(e),new Uint8Array(n.digest())}function kw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ri([n,r],0),new ri([s,i],0)]}class Nm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new io(`Invalid padding: ${n}`);if(r<0)throw new io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new io(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ri.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ri.fromNumber(r)));return s.compare(i$)===1&&(s=new ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Tw(e),[r,s]=kw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Tw(e),[r,s]=kw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Oa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ic(W.min(),s,new Se(ae),Qn(),X())}}class Oa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oa(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class YC{constructor(e,n){this.targetId=e,this.Vt=n}}class JC{constructor(e,n,r=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _w{constructor(){this.St=0,this.Dt=Aw(),this.Ct=ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=X(),n=X(),r=X();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:q()}}),new Oa(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Aw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class o${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Qn(),this.zt=Iw(),this.Wt=new Se(ae)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Af(o))if(s===0){const a=new z(o.path);this.Yt(r,a,ot.newNoDocument(a,W.min()))}else ge(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Rm.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,f){var p,g,w,C,_,v;const y={localCacheCount:d,existenceFilterCount:f.count},S=f.unchangedNames;return S&&(y.bloomFilter={applied:u===0,hashCount:(p=S==null?void 0:S.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(C=(w=(g=S==null?void 0:S.bits)===null||g===void 0?void 0:g.bitmap)===null||w===void 0?void 0:w.length)!==null&&C!==void 0?C:0,padding:(v=(_=S==null?void 0:S.bits)===null||_===void 0?void 0:_.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=us(i).toUint8Array()}catch(d){if(d instanceof AC)return mi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new Nm(l,o,a)}catch(d){return mi(d instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Af(a.target)){const l=new z(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,ot.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=X();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Ic(e,n,this.Wt,this.jt,r);return this.jt=Qn(),this.zt=Iw(),this.Wt=new Se(ae),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new _w,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ct(ae),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new _w),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Iw(){return new Se(z.comparator)}function Aw(){return new Se(z.comparator)}const a$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),l$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),u$=(()=>({and:"AND",or:"OR"}))();class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json||Ec(e)?e:{value:e}}function Iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d$(t,e){return Iu(t,e.toTimestamp())}function _n(t){return ge(!!t),W.fromTimestamp(function(e){const n=Ar(e);return new Me(n.seconds,n.nanos)}(t))}function Dm(t,e){return function(n){return new Ue(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ZC(t){const e=Ue.fromString(t);return ge(rT(e)),e}function Of(t,e){return Dm(t.databaseId,e.path)}function Zd(t,e){const n=ZC(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(eT(n))}function Rf(t,e){return Dm(t.databaseId,e)}function h$(t){const e=ZC(t);return e.length===4?Ue.emptyPath():eT(e)}function Nf(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eT(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bw(t,e,n){return{name:Of(t,e),fields:n.value.mapValue.fields}}function f$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(ge(u===void 0||typeof u=="string"),ft.fromBase64String(u||"")):(ge(u===void 0||u instanceof Uint8Array),ft.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?P.UNKNOWN:QC(l.code);return new B(u,l.message||"")}(o);n=new JC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zd(t,r.document.name),i=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):W.min(),a=new kt({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Dl(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zd(t,r.document),i=r.readTime?_n(r.readTime):W.min(),o=ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Dl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zd(t,r.document),i=r.removedTargetIds||[];n=new Dl([],i,s,null)}else{if(!("filter"in e))return q();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new n$(s,i),a=r.targetId;n=new YC(a,o)}}return n}function p$(t,e){let n;if(e instanceof Pa)n={update:bw(t,e.key,e.value)};else if(e instanceof GC)n={delete:Of(t,e.key)};else if(e instanceof $r)n={update:bw(t,e.key,e.data),updateMask:T$(e.fieldMask)};else{if(!(e instanceof ZL))return q();n={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof ku)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof na)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ra)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _u)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:d$(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function m$(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?_n(r.updateTime):_n(s);return i.isEqual(W.min())&&(i=_n(s)),new YL(i,r.transformResults||[])}(n,e))):[]}function g$(t,e){return{documents:[Rf(t,e.path)]}}function y$(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return nT(bn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Ns(d.field),direction:E$(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Pf(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function v$(t){let e=h$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ge(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const f=tT(d);return f instanceof bn&&OC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(f){return new wo(Ds(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Ec(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Tu(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Tu(p,f)}(n.endAt)),LL(e,s,o,i,a,"F",l,u)}function w$(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ds(e.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ds(e.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ds(e.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ds(e.unaryFilter.field);return Le.create(i,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(e){return Le.create(Ds(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return bn.create(e.compositeFilter.filters.map(n=>tT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return q()}}(e.compositeFilter.op))}(t):q()}function E$(t){return a$[t]}function S$(t){return l$[t]}function C$(t){return u$[t]}function Ns(t){return{fieldPath:t.canonicalString()}}function Ds(t){return at.fromServerFormat(t.fieldPath)}function nT(t){return t instanceof Le?function(e){if(e.op==="=="){if(pw(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NAN"}};if(fw(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(pw(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NAN"}};if(fw(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(e.field),op:S$(e.op),value:e.value}}}(t):t instanceof bn?function(e){const n=e.getFilters().map(r=>nT(r));return n.length===1?n[0]:{compositeFilter:{op:C$(e.op),filters:n}}}(t):q()}function T$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,s,i=W.min(),o=W.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.fe=e}}function _$(t){const e=v$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(){this.rn=new A$}addToCollectionParentIndex(e,n){return this.rn.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Ir.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class A${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ct(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ct(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wi(0)}static Mn(){return new wi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&So(r.mutation,s,Mt.empty(),Me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const s=Qr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=so();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Qn();const o=Eo(),a=Eo();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof $r)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),So(d.mutation,u,d.mutation.getFieldMask(),Me.now())):o.set(u.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new x$(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Eo();let s=new Se((o,a)=>o-a),i=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Mt.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||X()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=FC();d.forEach(p=>{if(!i.has(p)){const g=WC(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):R.resolve(Qr());let a=-1,l=i;return o.next(u=>R.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,X())).next(d=>({batchId:a,changes:jC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let s=so();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=so();return this.indexManager.getCollectionParents(e,s).next(o=>R.forEach(o,a=>{const l=function(u,d){return new Sc(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,f)=>{i=i.insert(d,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,ot.newInvalidDocument(u)))});let o=so();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&So(u.mutation,l,Mt.empty(),Me.now()),Tc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return R.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:_n(r.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:_$(r.bundledQuery),readTime:_n(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.overlays=new Se(z.comparator),this.ls=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return R.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const s=Qr(),i=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return R.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Se((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Qr(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Qr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return R.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t$(n,r));let i=this.ls.get(n);i===void 0&&(i=X(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.fs=new ct(je.ds),this.ws=new ct(je._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new je(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new je(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new z(new Ue([])),r=new je(n,e),s=new je(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new z(new Ue([])),r=new je(n,e),s=new je(n,e+1);let i=X();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new je(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return z.comparator(e.key,n.key)||ae(e.As,n.As)}static _s(e,n){return ae(e.As,n.As)||z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ct(je.ds)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return R.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),s=new je(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),R.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ae);return n.forEach(s=>{const i=new je(s,0),o=new je(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),R.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;z.isDocumentKey(i)||(i=i.child(""));const o=new je(new z(i),0);let a=new ct(ae);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},o),R.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ge(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return R.forEach(n.mutations,s=>{const i=new je(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new je(n,0),s=this.Rs.firstAfterOrEqual(r);return R.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.Ds=e,this.docs=new Se(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Qn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ot.newInvalidDocument(s))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Qn();const o=n.path,a=new z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vL(yL(d),r)<=0||(s.has(d.key)||Tc(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return R.resolve(i)}getAllFromCollectionGroup(e,n,r,s){q()}Cs(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L$(this)}getSize(e){return R.resolve(this.size)}}class L$ extends b${constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.persistence=e,this.xs=new Ni(n=>bm(n),xm),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Lm,this.targetCount=0,this.Ms=wi.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),R.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new wi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Fn(n),R.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),R.waitFor(i).next(()=>s)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),R.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n){this.$s={},this.overlays={},this.Os=new km(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $$(this),this.indexManager=new I$,this.remoteDocumentCache=function(r){return new D$(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new k$(n),this.qs=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new N$(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const s=new j$(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return R.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class j$ extends EL{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Qs=new Lm,this.js=null}static zs(e){return new $m(e)}get Ws(){if(this.js)return this.js;throw q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),R.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Ws,r=>{const s=z.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,W.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return R.or([()=>R.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=X(),s=X();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Mm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(vw(n))return R.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bf(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=X(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,bf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return vw(n)||s.isEqual(W.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(uw()<=te.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xf(n)),this.Wi(e,o,n,gL(s,-1)))})}ji(e,n){let r=new ct($C(e));return n.forEach((s,i)=>{Tc(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return uw()<=te.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",xf(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ir.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Se(ae),this.Yi=new Ni(i=>bm(i),xm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P$(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function B$(t,e,n,r){return new U$(t,e,n,r)}async function sT(t,e){const n=G(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=X();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function V$(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const d=l.batch,f=d.keys();let p=R.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(a,g)).next(w=>{const C=l.docVersions.get(g);ge(C!==null),w.version.compareTo(C)<0&&(d.applyToRemoteDocument(w,l),w.isValidDocument()&&(w.setReadTime(l.commitVersion),u.addEntry(w)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function iT(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function z$(t,e){const n=G(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(ft.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(w,C,_){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&a.push(n.Bs.updateTargetData(i,g))});let l=Qn(),u=X();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(H$(i,o,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(W.min())){const d=n.Bs.getLastRemoteSnapshotVersion(i).next(f=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=s,i))}function H$(t,e,n){let r=X(),s=X();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Qn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:s}})}function q$(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W$(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,R.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Df(t,e,n){const r=G(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xa(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function xw(t,e,n){const r=G(t);let s=W.min(),i=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const d=G(a),f=d.Yi.get(u);return f!==void 0?R.resolve(d.Ji.get(f)):d.Bs.getTargetData(l,u)}(r,o,Gn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:W.min(),n?i:X())).next(a=>(K$(r,FL(e),a),{documents:a,ir:i})))}function K$(t,e,n){let r=t.Xi.get(e)||W.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class Pw{constructor(){this.activeTargetIds=qL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G${constructor(){this.Hr=new Pw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=null;function eh(){return hl===null?hl=268435456+Math.round(2147483648*Math.random()):hl++,"0x"+hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class X$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=eh(),a=this.To(e,n);j("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(u=>(j("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw mi("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ri,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=Y$[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=eh();return new Promise((o,a)=>{const l=new iL;l.setWithCredentials(!0),l.listenOnce(nL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xd.NO_ERROR:const d=l.getResponseJson();j(nt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Xd.TIMEOUT:j(nt,`RPC '${e}' ${i} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const f=l.getStatus();if(j(nt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(_)>=0?_:P.UNKNOWN}(g.status);a(new B(w,g.message))}else a(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{j(nt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);j(nt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=eh(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eL(),a=tL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new sL({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");j(nt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const w=new J$({ro:_=>{g?j(nt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(j(nt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),j(nt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},oo:()=>f.close()}),C=(_,v,y)=>{_.listen(v,S=>{try{y(S)}catch(k){setTimeout(()=>{throw k},0)}})};return C(f,ll.EventType.OPEN,()=>{g||j(nt,`RPC '${e}' stream ${s} transport opened.`)}),C(f,ll.EventType.CLOSE,()=>{g||(g=!0,j(nt,`RPC '${e}' stream ${s} transport closed`),w.wo())}),C(f,ll.EventType.ERROR,_=>{g||(g=!0,mi(nt,`RPC '${e}' stream ${s} transport errored:`,_),w.wo(new B(P.UNAVAILABLE,"The operation could not be completed")))}),C(f,ll.EventType.MESSAGE,_=>{var v;if(!g){const y=_.data[0];ge(!!y);const S=y,k=S.error||((v=S[0])===null||v===void 0?void 0:v.error);if(k){j(nt,`RPC '${e}' stream ${s} received error:`,k);const b=k.status;let x=function($){const Y=Oe[$];if(Y!==void 0)return QC(Y)}(b),N=k.message;x===void 0&&(x=P.INTERNAL,N="Unknown error status: "+b+" with message "+k.message),g=!0,w.wo(new B(x,N)),f.close()}else j(nt,`RPC '${e}' stream ${s} received:`,y),w._o(y)}}),C(a,rL.STAT_EVENT,_=>{_.stat===aw.PROXY?j(nt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===aw.NOPROXY&&j(nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){return new c$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&j("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oT(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z$ extends aT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=f$(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?W.min():i.readTime?_n(i.readTime):W.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Nf(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Af(a)?{documents:g$(s,a)}:{query:y$(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=XC(s,i.resumeToken);const l=Pf(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(W.min())>0){o.readTime=Iu(s,i.snapshotVersion.toTimestamp());const l=Pf(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=w$(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Nf(this.serializer),n.removeTarget=e,this.Wo(n)}}class eM extends aT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=m$(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.cu(r,n)}return ge(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Nf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p$(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(P.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class nM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kn(n),this.mu=!1):j("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{vs(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=G(a);l.vu.add(4),await Ra(l),l.bu.set("Unknown"),l.vu.delete(4),await bc(l)}(this))})}),this.bu=new nM(r,s)}}async function bc(t){if(vs(t))for(const e of t.Ru)await e(!0)}async function Ra(t){for(const e of t.Ru)await e(!1)}function lT(t,e){const n=G(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Um(n)?Fm(n):Di(n).Ko()&&jm(n,e))}function uT(t,e){const n=G(t),r=Di(n);n.Au.delete(e),r.Ko()&&cT(n,e),n.Au.size===0&&(r.Ko()?r.jo():vs(n)&&n.bu.set("Unknown"))}function jm(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Di(t).su(e)}function cT(t,e){t.Vu.qt(e),Di(t).iu(e)}function Fm(t){t.Vu=new o$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Di(t).start(),t.bu.gu()}function Um(t){return vs(t)&&!Di(t).Uo()&&t.Au.size>0}function vs(t){return G(t).vu.size===0}function dT(t){t.Vu=void 0}async function sM(t){t.Au.forEach((e,n)=>{jm(t,e)})}async function iM(t,e){dT(t),Um(t)?(t.bu.Iu(e),Fm(t)):t.bu.set("Unknown")}async function oM(t,e,n){if(t.bu.set("Online"),e instanceof JC&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Au(t,r)}else if(e instanceof Dl?t.Vu.Ht(e):e instanceof YC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(W.min()))try{const r=await iT(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(ft.EMPTY_BYTE_STRING,u.snapshotVersion)),cT(s,a);const d=new cr(u.target,a,l,u.sequenceNumber);jm(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await Au(t,r)}}async function Au(t,e,n){if(!xa(e))throw e;t.vu.add(1),await Ra(t),t.bu.set("Offline"),n||(n=()=>iT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await bc(t)})}function hT(t,e){return e().catch(n=>Au(t,n,e))}async function xc(t){const e=G(t),n=br(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;aM(e);)try{const s=await q$(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,lM(e,s)}catch(s){await Au(e,s)}fT(e)&&pT(e)}function aM(t){return vs(t)&&t.Eu.length<10}function lM(t,e){t.Eu.push(e);const n=br(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function fT(t){return vs(t)&&!br(t).Uo()&&t.Eu.length>0}function pT(t){br(t).start()}async function uM(t){br(t).hu()}async function cM(t){const e=br(t);for(const n of t.Eu)e.uu(n.mutations)}async function dM(t,e,n){const r=t.Eu.shift(),s=Om.from(r,e,n);await hT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xc(t)}async function hM(t,e){e&&br(t).ou&&await async function(n,r){if(s=r.code,r$(s)&&s!==P.ABORTED){const i=n.Eu.shift();br(n).Qo(),await hT(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await xc(n)}var s}(t,e),fT(t)&&pT(t)}async function Rw(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=vs(n);n.vu.add(3),await Ra(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await bc(n)}async function fM(t,e){const n=G(t);e?(n.vu.delete(2),await bc(n)):e||(n.vu.add(2),await Ra(n),n.bu.set("Unknown"))}function Di(t){return t.Su||(t.Su=function(e,n,r){const s=G(e);return s.fu(),new Z$(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:sM.bind(null,t),ao:iM.bind(null,t),nu:oM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Um(t)?Fm(t):t.bu.set("Unknown")):(await t.Su.stop(),dT(t))})),t.Su}function br(t){return t.Du||(t.Du=function(e,n,r){const s=G(e);return s.fu(),new eM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:uM.bind(null,t),ao:hM.bind(null,t),au:cM.bind(null,t),cu:dM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await xc(t)):(await t.Du.stop(),t.Eu.length>0&&(j("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Bm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),xa(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=so(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new ii(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Cu=new Se(z.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ei{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ei(e,n,ii.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.Nu=void 0,this.listeners=[]}}class mM{constructor(){this.queries=new Ni(e=>LC(e),Cc),this.onlineState="Unknown",this.ku=new Set}}async function gM(t,e){const n=G(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new pM),s)try{i.Nu=await n.onListen(r)}catch(o){const a=Vm(o,`Initialization of query '${xf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&zm(n)}async function yM(t,e){const n=G(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function vM(t,e){const n=G(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&zm(n)}function wM(t,e,n){const r=G(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function zm(t){t.ku.forEach(e=>{e.next()})}class EM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ei(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ei.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=X(),this.mutatedKeys=X(),this.tc=$C(e),this.ec=new ii(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Nw,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),g=Tc(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?w!==C&&(r.track({type:3,doc:g}),_=!0):this.rc(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.tc(g,l)>0||u&&this.tc(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||u)&&(a=!0)),_&&(g?(o=o.add(g),i=C?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,d)=>function(f,p){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return g(f)-g(p)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Ei(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Nw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=X(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new gT(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new mT(r))}),n}hc(e){this.Yu=e.ir,this.Zu=X();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ei.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class CM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TM{constructor(e){this.key=e,this.fc=!1}}class kM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Ni(a=>LC(a),Cc),this._c=new Map,this.mc=new Set,this.gc=new Se(z.comparator),this.yc=new Map,this.Ic=new Lm,this.Tc={},this.Ec=new Map,this.Ac=wi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function _M(t,e){const n=LM(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await W$(n.localStore,Gn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await IM(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&lT(n.remoteStore,o)}return s}async function IM(t,e,n,r,s){t.Rc=(f,p,g)=>async function(w,C,_,v){let y=C.view.sc(_);y.zi&&(y=await xw(w.localStore,C.query,!1).then(({documents:b})=>C.view.sc(b,y)));const S=v&&v.targetChanges.get(C.targetId),k=C.view.applyChanges(y,w.isPrimaryClient,S);return Lw(w,C.targetId,k.cc),k.snapshot}(t,f,p,g);const i=await xw(t.localStore,e,!0),o=new SM(e,i.ir),a=o.sc(i.documents),l=Oa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Lw(t,n,u.cc);const d=new CM(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function AM(t,e){const n=G(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Cc(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Df(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),uT(n.remoteStore,r.targetId),Lf(n,r.targetId)}).catch(ba)):(Lf(n,r.targetId),await Df(n.localStore,r.targetId,!0))}async function bM(t,e,n){const r=$M(t);try{const s=await function(i,o){const a=G(i),l=Me.now(),u=o.reduce((p,g)=>p.add(g.key),X());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Qn(),w=X();return a.Zi.getEntries(p,u).next(C=>{g=C,g.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(C=>{d=C;const _=[];for(const v of o){const y=XL(v,d.get(v.key).overlayedDocument);y!=null&&_.push(new $r(v.key,y,bC(y.value.mapValue),kn.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,_,o)}).next(C=>{f=C;const _=C.applyToLocalDocumentSet(d,w);return a.documentOverlayCache.saveOverlays(p,C.batchId,_)})}).then(()=>({batchId:f.batchId,changes:jC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new Se(ae)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await Na(r,s.changes),await xc(r.remoteStore)}catch(s){const i=Vm(s,"Failed to persist write");n.reject(i)}}async function yT(t,e){const n=G(t);try{const r=await z$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?ge(o.fc):s.removedDocuments.size>0&&(ge(o.fc),o.fc=!1))}),await Na(n,r,e)}catch(r){await ba(r)}}function Dw(t,e,n){const r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=G(i);a.onlineState=o;let l=!1;a.queries.forEach((u,d)=>{for(const f of d.listeners)f.Mu(o)&&(l=!0)}),l&&zm(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xM(t,e,n){const r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new Se(z.comparator);o=o.insert(i,ot.newNoDocument(i,W.min()));const a=X().add(i),l=new Ic(W.min(),new Map,new Se(ae),o,a);await yT(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),Hm(r)}else await Df(r.localStore,e,!1).then(()=>Lf(r,e,n)).catch(ba)}async function PM(t,e){const n=G(t),r=e.batch.batchId;try{const s=await V$(n.localStore,e);wT(n,r,null),vT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Na(n,s)}catch(s){await ba(s)}}async function OM(t,e,n){const r=G(t);try{const s=await function(i,o){const a=G(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(ge(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);wT(r,e,n),vT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Na(r,s)}catch(s){await ba(s)}}function vT(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function wT(t,e,n){const r=G(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Lf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ET(t,r)})}function ET(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(uT(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Hm(t))}function Lw(t,e,n){for(const r of n)r instanceof mT?(t.Ic.addReference(r.key,e),RM(t,r)):r instanceof gT?(j("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ET(t,r.key)):q()}function RM(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(j("SyncEngine","New document in limbo: "+n),t.mc.add(r),Hm(t))}function Hm(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new z(Ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new TM(n)),t.gc=t.gc.insert(n,r),lT(t.remoteStore,new cr(Gn(Pm(n.path)),r,"TargetPurposeLimboResolution",km.ct))}}async function Na(t,e,n){const r=G(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=Mm.Li(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const u=G(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>R.forEach(l,f=>R.forEach(f.Fi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>R.forEach(f.Bi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!xa(d))throw d;j("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const p=u.Ji.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(f,w)}}}(r.localStore,i))}async function NM(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await sT(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new B(P.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Na(n,r.er)}}function DM(t,e){const n=G(t),r=n.yc.get(e);if(r&&r.fc)return X().add(r.key);{let s=X();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function LM(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xM.bind(null,e),e.dc.nu=vM.bind(null,e.eventManager),e.dc.Pc=wM.bind(null,e.eventManager),e}function $M(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OM.bind(null,e),e}class $w{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return B$(this.persistence,new F$,e.initialUser,this.serializer)}createPersistence(e){return new M$($m.zs,this.serializer)}createSharedClientState(e){return new G$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NM.bind(null,this.syncEngine),await fM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new mM}createDatastore(e){const n=Ac(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new X$(s));var s;return function(i,o,a,l){return new tM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>Dw(this.syncEngine,a,0),o=Ow.D()?new Ow:new Q$,new rM(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const d=new kM(r,s,i,o,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=G(e);j("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ra(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=st.UNAUTHENTICATED,this.clientId=_C.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{j("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(j("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nh(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await sT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BM(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Rw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Rw(e.remoteStore,i)),t._onlineComponents=e}function UM(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!UM(n))throw n;mi("Error using user provided cache. Falling back to memory cache: "+n),await nh(t,new $w)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await nh(t,new $w);return t._offlineComponents}async function ST(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await Mw(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await Mw(t,new MM))),t._onlineComponents}function VM(t){return ST(t).then(e=>e.syncEngine)}async function zM(t){const e=await ST(t),n=e.eventManager;return n.onListen=_M.bind(null,e.syncEngine),n.onUnlisten=AM.bind(null,e.syncEngine),n}function HM(t,e,n={}){const r=new Cr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new jM({next:f=>{i.enqueueAndForget(()=>yM(s,d));const p=f.docs.has(o);!p&&f.fromCache?l.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&a&&a.source==="server"?l.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new EM(Pm(o.path),u,{includeMetadataChanges:!0,Ku:!0});return gM(s,d)}(await zM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WM(t,e,n,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fw(t){if(!z.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aL;switch(n.type){case"firstParty":return new dL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=jw.get(e);n&&(j("ComponentProvider","Removing Datastore"),jw.delete(e),n.terminate())}(this),Promise.resolve()}}function KM(t,e,n,r={}){var s;const i=(t=ds(t,Wm))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=st.MOCK_USER;else{a=$E(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new st(u)}t._authCredentials=new lL(new kC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Km{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Km(this.firestore,e,this._query)}}class sa extends Km{constructor(e,n,r){super(e,n,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new z(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function TT(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=_C.A()),qM("doc","path",e),t instanceof Wm){const r=Ue.fromString(e,...n);return Fw(r),new Ft(t,null,new z(r))}{if(!(t instanceof Ft||t instanceof sa))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Fw(r),new Ft(t.firestore,t instanceof sa?t.converter:null,new z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oT(this,"async_queue_retry"),this.Xc=()=>{const n=th();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=th();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Cr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!xa(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Bm.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&q()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Pc extends Wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new GM,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||IT(this),this._firestoreClient.terminate()}}function kT(t,e){const n=typeof t=="object"?t:Wp(),r=typeof t=="string"?t:e||"(default)",s=tc(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=NE("firestore");i&&KM(s,...i)}return s}function _T(t){return t._firestoreClient||IT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IT(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new TL(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new FM(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(ft.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=/^__.*__$/;class YM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}class AT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class Ym{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return bu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(bT(this.ca)&&QM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class JM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ac(e)}ya(e,n,r,s=!1){return new Ym({ca:e,methodName:n,ga:r,path:at.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(t){const e=t._freezeSettings(),n=Ac(t._databaseId);return new JM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XM(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);Jm("Data must be an object, but it was:",o,r);const a=PT(r,o);let l,u;if(i.merge)l=new Mt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=$f(e,f,n);if(!o.contains(p))throw new B(P.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);RT(d,p)||d.push(p)}l=new Mt(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new YM(new kt(a),l,u)}class Rc extends Gm{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}function ZM(t,e,n,r){const s=t.ya(1,e,n);Jm("Data must be an object, but it was:",s,r);const i=[],o=kt.empty();ys(r,(l,u)=>{const d=Xm(e,l,n);u=Bt(u);const f=s.da(d);if(u instanceof Rc)i.push(d);else{const p=Nc(u,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Mt(i);return new AT(o,a,s.fieldTransforms)}function ej(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[$f(e,r,n)],l=[s];if(i.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push($f(e,i[p])),l.push(i[p+1]);const u=[],d=kt.empty();for(let p=a.length-1;p>=0;--p)if(!RT(u,a[p])){const g=a[p];let w=l[p];w=Bt(w);const C=o.da(g);if(w instanceof Rc)u.push(g);else{const _=Nc(w,C);_!=null&&(u.push(g),d.set(g,_))}}const f=new Mt(u);return new AT(d,f,o.fieldTransforms)}function Nc(t,e){if(OT(t=Bt(t)))return Jm("Unsupported field value:",e,t),PT(t,e);if(t instanceof Gm)return function(n,r){if(!bT(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=Nc(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Me.fromDate(n);return{timestampValue:Iu(r.serializer,s)}}if(n instanceof Me){const s=new Me(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Iu(r.serializer,s)}}if(n instanceof Qm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Si)return{bytesValue:XC(r.serializer,n._byteString)};if(n instanceof Ft){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Dm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${qm(n)}`)}(t,e)}function PT(t,e){const n={};return IC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,s)=>{const i=Nc(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function OT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Qm||t instanceof Si||t instanceof Ft||t instanceof Gm)}function Jm(t,e,n){if(!OT(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qm(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function $f(t,e,n){if((e=Bt(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return Xm(t,e);throw bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const tj=new RegExp("[~\\*/\\[\\]]");function Xm(t,e,n){if(e.search(tj)>=0)throw bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oc(...e.split("."))._internalPath}catch{throw bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new B(P.INVALID_ARGUMENT,a+t+l)}function RT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nj extends NT{data(){return super.data()}}function DT(t,e){return typeof e=="string"?Xm(t,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class rj{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Qm(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);ge(rT(r));const s=new ea(r.get(1),r.get(3)),i=new z(r.popFirst(5));return s.isEqual(n)||Kn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LT extends NT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class oj extends LT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){t=ds(t,Ft);const e=ds(t.firestore,Pc);return HM(_T(e),t._key).then(n=>cj(e,t,n))}class aj extends rj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function lj(t,e,n){t=ds(t,Ft);const r=ds(t.firestore,Pc),s=sj(t.converter,e,n);return MT(r,[XM(xT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kn.none())])}function uj(t,e,n,...r){t=ds(t,Ft);const s=ds(t.firestore,Pc),i=xT(s);let o;return o=typeof(e=Bt(e))=="string"||e instanceof Oc?ej(i,"updateDoc",t._key,e,n,r):ZM(i,"updateDoc",t._key,e),MT(s,[o.toMutation(t._key,kn.exists(!0))])}function MT(t,e){return function(n,r){const s=new Cr;return n.asyncQueue.enqueueAndForget(async()=>bM(await VM(n),r,s)),s.promise}(_T(t),e)}function cj(t,e,n){const r=n.docs.get(e._key),s=new aj(t);return new LT(t,s,e._key,r,new ij(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Ri=n})(ms),os(new _r("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Pc(new uL(n.getProvider("auth-internal")),new fL(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Sn(lw,"3.12.2",t),Sn(lw,"3.12.2","esm2017")})();var dj="firebase",hj="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(dj,hj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new ec("@firebase/firestore");function fj(t,...e){if(Ci.logLevel<=te.DEBUG){const n=e.map(Zm);Ci.debug(`Firestore (${Da}): ${t}`,...n)}}function pj(t,...e){if(Ci.logLevel<=te.ERROR){const n=e.map(Zm);Ci.error(`Firestore (${Da}): ${t}`,...n)}}function mj(t,...e){if(Ci.logLevel<=te.WARN){const n=e.map(Zm);Ci.warn(`Firestore (${Da}): ${t}`,...n)}}function Zm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw pj(e),new Error(e)}function FT(t,e){t||jT()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="invalid-argument",Bw="failed-precondition";class Lt extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class yj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(FT(typeof e.accessToken=="string"),new UT(e.accessToken,new Ct(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class wj{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.u=new Map}h(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.h();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class Ej{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new wj(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cj{constructor(e){this.l=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(FT(typeof e.token=="string"),new Sj(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}function Tj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":jT()}function kj(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Lt(on,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tj(t);throw new Lt(on,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw,se;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(se=Vw||(Vw={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;class Hw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Lt(on,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Lt(on,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,i,o,a){if(i===!0&&a===!0)throw new Lt(on,`${s} and ${o} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_j((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Lt(on,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Lt(on,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Lt(on,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class BT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(Bw,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Lt(Bw,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new gj;switch(n.type){case"firstParty":return new Ej(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(on,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zw.get(e);n&&(fj("ComponentProvider","Removing Datastore"),zw.delete(e),n.terminate())}(this),Promise.resolve()}}function Ij(t,e){const n=typeof t=="object"?t:Wp(),r=typeof t=="string"?t:e||"(default)",s=tc(n,"firestore/lite").getImmediate({identifier:r});if(!s._initialized){const i=NE("firestore");i&&Aj(s,...i)}return s}function Aj(t,e,n,r={}){var s;const i=(t=kj(t,BT))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&mj("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ct.MOCK_USER;else{a=$E(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Lt(on,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ct(u)}t._authCredentials=new yj(new UT(a,l))}}(function(t){Da=t})(`${ms}_lite`),os(new _r("firestore/lite",(t,{instanceIdentifier:e,options:n})=>{const r=t.getProvider("app").getImmediate(),s=new BT(new vj(t.getProvider("auth-internal")),new Cj(t.getProvider("app-check-internal")),function(i,o){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Lt(on,'"projectId" not provided in firebase.initializeApp.');return new xu(i.options.projectId,o)}(r,e),r);return n&&s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),Sn("firestore-lite","3.12.2",""),Sn("firestore-lite","3.12.2","esm2017");const bj={apiKey:"AIzaSyDvLbG6gcl2S3uyXZ1BucudhFFReQqtByw",authDomain:"gptherapist-1ebda.firebaseapp.com",projectId:"gptherapist-1ebda",storageBucket:"gptherapist-1ebda.appspot.com",messagingSenderId:"122172358394",appId:"1:122172358394:web:31d4f07ed472096ea51343",measurementId:"G-42WF589NW6"},VT=FE(bj),xj=ZN(VT);Ij(VT);const Pj=new Dn,Oj=async()=>{try{const t=await lN(xj,Pj),{displayName:e,email:n,photoURL:r,uid:s}=t.user;return{ok:!0,displayName:e,email:n,photoURL:r,uid:s}}catch(t){const e=t.code,n=t.message;return{ok:!1,errorCode:e,errorMessage:n}}},zT=async(t,e)=>{try{const n=kT(),r=TT(n,"state",t);return(await $T(r)).exists()?await uj(r,e):await lj(r,e),{ok:!0}}catch(n){return{ok:!1,error:n}}},Rj=async t=>{try{const e=kT(),n=TT(e,"state",t),r=await $T(n);return r.exists()?{ok:!0,state:r.data()}:{ok:!1,error:"El estado del usuario no existe en Firestore"}}catch(e){return{ok:!1,error:e}}},Nj=({currentConversation:t})=>{const{conversationSelected:e,state:n}=A.useContext(Ce);return A.useEffect(()=>{localStorage.setItem("state",JSON.stringify(n)),zT(n.user.uid,n)},[e,n,t]),T.jsx("div",{className:"messages-container",children:t.map((r,s)=>T.jsx(AP,{msg:r},r.id+(s+1)*2))})},Dj=()=>{const{conversationSelected:t,state:e}=A.useContext(Ce),[n,r]=A.useState([]),s=n.length===0;function i(o){r([...n,o])}return A.useEffect(()=>{let o=t.content.filter(a=>a!==null);r(o),localStorage.setItem("state",JSON.stringify(e))},[e,t]),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"chatbox",children:[T.jsxs("div",{className:"chat-container",children:[s&&T.jsx(_P,{}),n.length!==0&&T.jsx(CP,{}),n.length>0&&T.jsx(Nj,{currentConversation:n})]}),T.jsx(EP,{setUserMessageFirst:o=>i(o)})]})})},Lj=T.jsx("h2",{style:{marginTop:"0.6em"},children:"Start a new conversation!"}),$j=()=>{const{conversationSelected:t}=A.useContext(Ce);return A.useEffect(()=>{if(document.title&&t)return document.title=t.title,()=>{document.title!==t.title&&(document.title="GPTherapist")}},[t]),T.jsx(T.Fragment,{children:T.jsxs("div",{children:[T.jsx($p,{}),T.jsx("div",{className:"chatpage-container",children:t?T.jsx(Dj,{}):Lj})]})})},Mj="https://www.svgrepo.com/show/341247/upgrade.svg",jj="https://www.svgrepo.com/show/446646/three-dots-line.svg",Fj=()=>{const{state:t,setShowUpgradeModal:e}=A.useContext(Ce),{navigate:n}=xi(),{user:r}=t;return T.jsxs("div",{className:"sidebar-footer",children:[T.jsx("hr",{}),T.jsxs("div",{className:"upgrade-container",onClick:()=>e(s=>!s),children:[T.jsx("img",{src:Mj,className:"upgrade-arrow",draggable:!1}),T.jsx("p",{children:"Upgrade to Pro"}),T.jsx("p",{className:"upgrade-new",children:"NEW!"})]}),T.jsxs("div",{className:"user-container",onClick:()=>n("/profile"),children:[T.jsx("img",{src:r.photoURL,className:"user-image",draggable:!1}),T.jsx("p",{children:r.displayName}),T.jsx("div",{className:"user-dots",children:T.jsx("img",{src:jj,className:"user-dots",draggable:!1})})]})]})},Uj="https://www.svgrepo.com/show/510894/chat-remove.svg",Bj="https://www.svgrepo.com/show/505791/trash-2.svg",Vj="https://www.svgrepo.com/show/500412/pencil.svg",zj="https://www.svgrepo.com/show/490996/check.svg",Hj="https://www.svgrepo.com/show/355189/radial-selected.svg",qj=({cnv:t})=>{const{state:e,dispatch:n,sidebarMini:r,isMobile:s,setConversationSelected:i,conversationSelected:o,removeAllConversAndSetNewState:a,langSelected:l,promptSelected:u}=A.useContext(Ce),[d,f]=A.useState(!1),[p,g]=A.useState(""),[w,C]=A.useState(!1),[_,v]=A.useState(!1);A.useEffect(()=>(localStorage.setItem("conversationSelected",JSON.stringify(t)),localStorage.setItem("state",JSON.stringify(e)),o!==t&&v(!0),()=>{o!==t&&v(!1)}),[e,w,o,t]);const y=ps(),S=Ku();function k(){i(t),y.url!=="chat"&&S("chat"),localStorage.setItem("conversationSelected",JSON.stringify(t))}const{openAlert:b}=ca();function x(ee){let Ae={title:`Delete <b>${t.title}</b>?`,text:"Cannot undo this action."};b(Ae).then(Xe=>{Xe.isConfirmed&&(ee.stopPropagation(),n({type:"remove",payload:t.id}),i(null),localStorage.removeItem("conversationSelected"),e.conversations.length==1&&a())})}function N(){C(!0),g(t.title)}function $(){p.length<3||(C(!1),f(!1),t.title=p)}function Y(ee){ee.target.value.length>20||g(ee.target.value)}function F(ee){ee.key=="Enter"&&$(),ee.key=="Escape"&&(C(!1),f(!1))}return T.jsxs("div",{onClick:k,onDoubleClick:ee=>x(ee),onMouseOver:()=>f(!0),onMouseOut:()=>f(!1),className:`history-box ${(r||s)&&"hb-mini"}`,children:[T.jsx("img",{draggable:!1,src:Uj,style:{filter:r&&!_?"invert(0.74) drop-shadow(0px 0px 5px #a0a0a0)":""},className:"history-chatLogo"}),!r&&!s&&!w&&T.jsx("p",{children:t.title}),w&&T.jsxs("div",{className:"history-edit-container",children:[T.jsx("input",{type:"text",autoFocus:!0,onFocus:ee=>ee.target.select(),value:p,onChange:Y,onKeyDown:F,className:"history-title-input"}),T.jsx("img",{src:zj,alt:"accept edit",onClick:$,className:"history-title-accept",style:{width:"1.54em"}})]}),d&&!w&&!r&&!s&&T.jsxs("div",{className:"box-tools",children:[T.jsx("img",{src:Bj,alt:"delete",onClick:x}),T.jsx("img",{src:Vj,alt:"edit",onClick:N})]}),!_&&!d&&!r&&!s&&!w&&T.jsx("img",{src:Hj,alt:"conversation selcted",className:"box-selected"})]})},Wj="https://www.svgrepo.com/show/510786/add-plus-circle.svg",Kj="https://www.svgrepo.com/show/505791/trash-2.svg",Gj=()=>{const{state:t,isMobile:e,removeAllConversAndSetNewState:n,sidebarMini:r,addNewConversation:s}=A.useContext(Ce),[i,o]=A.useState(1),[a,l]=A.useState(!1),{openAlert:u}=ca(),{detectLocationOf:d}=xi();A.useEffect(()=>{o(t.conversations.length+1)},[t.conversations]);function f(g,w){switch(d("chat"),g.stopPropagation(),w){case"add":{s(i);break}case"remove_all":{u({title:"Remove all conversations?"}).then(_=>{_.isConfirmed&&n()});break}}}function p(g){r&&f(g,"remove_all")}return T.jsxs("div",{onClick:g=>f(g,"add"),className:`history-box addConver ${(r||e)&&"hb-mini"}`,onMouseOver:()=>l(!0),onMouseOut:()=>l(!1),onDoubleClick:g=>p(g),children:[T.jsx("img",{draggable:!1,className:"history-chatLogo",src:Wj,style:{scale:"1.24"}}),a&&!r&&!e&&t.conversations.length>0&&T.jsx("div",{className:"box-tools",children:T.jsx("img",{src:Kj,alt:"delete",style:{marginRight:"6px"},onClick:g=>f(g,"remove_all")})}),!e&&!r&&T.jsx("p",{children:"Start new conversation"})]})},HT=()=>{const{state:t,intingConvers:e,initUserState:n,isMobile:r,sidebarMini:s}=A.useContext(Ce),{conversations:i}=t;return A.useEffect(()=>{t||n(t.user.uid)},[]),T.jsxs(T.Fragment,{children:[!e&&T.jsx(Gj,{}),T.jsxs("div",{className:"history-container",children:[e&&T.jsxs("div",{className:"loading-container",children:[!r&&T.jsx("p",{children:"Loading Conversations"}),T.jsx(Gu,{mobile:r,size:r?"2.6":"4"})]}),!e&&i.map(o=>T.jsx(qj,{cnv:o},o.id)),!e&&i.length<=0&&T.jsx("p",{style:{rotate:s?"90deg":"0deg"},className:"no-conver-text",children:"No conversations"})]})]})},Qj="https://www.svgrepo.com/show/511476/arrow-up-362.svg",Yj=()=>{const{setSidebarMiniFunc:t}=A.useContext(Ce);return T.jsxs("div",{children:[T.jsxs("div",{className:"chat-history",children:[T.jsx("h2",{children:"Chat History"}),T.jsx("img",{onClick:t,className:"arrow-icon",src:Qj,alt:"arrow collapse"})]}),T.jsx("hr",{})]})};const Jj=()=>T.jsxs("div",{className:"sidebar-container",children:[T.jsx(Yj,{}),T.jsx(HT,{}),T.jsx(Fj,{})]}),Xj="https://www.svgrepo.com/show/511476/arrow-up-362.svg",Zj="https://www.svgrepo.com/show/341247/upgrade.svg",eF=()=>{const{state:t,dispatch:e,setSidebarMiniFunc:n,isMobile:r,setShowUpgradeModal:s,setConversationSelected:i}=A.useContext(Ce),[o,a]=A.useState("./unknown.png"),{user:l}=t,{navigate:u}=xi();return A.useEffect(()=>{l.logged&&a(l.photoURL)},[l]),T.jsxs("div",{className:"sidebar-container sb-toggled",children:[!r&&T.jsxs("div",{className:"sb-mini-header",children:[T.jsx("img",{onClick:n,className:"arrow-icon ar-toggled",src:Xj,alt:"arrow collapse"}),T.jsx("hr",{className:"mini-hr"})]}),T.jsx("div",{className:"history-container sb-mini-convs",style:{marginTop:r?"0.54em":"0em"},children:T.jsx(HT,{})}),T.jsxs("div",{className:"sb-mini-footer",children:[T.jsx("hr",{className:"mini-hr"}),T.jsx("div",{className:"upgrade-arrow-mini-cont",onClick:()=>s(d=>!d),children:T.jsx("img",{src:Zj,className:"upgrade-arrow",draggable:!1})}),T.jsx("div",{className:"user-picture-mini-cont",children:T.jsx("img",{src:o,onClick:()=>u("/profile"),className:"user-image",draggable:!1})})]})]})};const Rs="https://www.svgrepo.com/show/507980/check-badge.svg",tF="https://www.svgrepo.com/show/510786/add-plus-circle.svg",nF=()=>{const{setShowUpgradeModal:t}=A.useContext(Ce);return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"upgradeplan-container-bg",onClick:()=>t(e=>!e)}),T.jsxs("div",{className:"upgradeplan-container",children:[T.jsxs("div",{className:"upgradeplan-header",children:[T.jsx("h3",{children:"Plan settings"}),T.jsx("img",{src:tF,className:"cross-close-modal",alt:"cross close modal",onClick:()=>t(e=>!e)})]}),T.jsxs("div",{className:"upgradeplan-content",children:[T.jsxs("div",{className:"plan-container",children:[T.jsx("h2",{className:"plan-title",children:"Free Plan"}),T.jsx("button",{children:"Your current plan"}),T.jsxs("div",{className:"perks-container",children:[T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,alt:"upgrade check"}),T.jsx("p",{children:"Available when demand is low"})]}),T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,alt:"upgrade check"}),T.jsx("p",{children:"Standard response speed"})]}),T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,alt:"upgrade check"}),T.jsx("p",{children:"Regular model updates"})]})]})]}),T.jsxs("div",{className:"plan-container",children:[T.jsxs("div",{className:"title-price-container",children:[T.jsx("h2",{className:"plan-title",children:"Therapist Pro"}),T.jsx("h2",{className:"plan-price",children:"USD $10/mo"})]}),T.jsx("button",{children:"Upgrade plan"}),T.jsxs("div",{className:"perks-container",children:[T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,className:"perk-color",alt:"upgrade check"}),T.jsx("p",{children:"Available when demand is high"})]}),T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,className:"perk-color",alt:"upgrade check"}),T.jsx("p",{children:"Faster response speed"})]}),T.jsxs("div",{className:"perk",children:[T.jsx("img",{src:Rs,className:"perk-color",alt:"upgrade check"}),T.jsx("p",{children:"Priority access to new features"})]})]}),T.jsx("div",{className:"charge-credits",children:T.jsxs("p",{children:["Or simply ",T.jsx(Yb,{to:"/credits",children:T.jsx("b",{children:"reload your credits"})})]})})]})]})]})]})};const rF=()=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"page-load-content",children:[T.jsx("h1",{children:"My Therapist"}),T.jsx("div",{className:"loadem",children:T.jsx(Gu,{size:"6"})})]})}),sF="https://www.svgrepo.com/show/475656/google-color.svg",iF=()=>{const{state:t,dispatch:e,initUserState:n}=A.useContext(Ce);async function r(s){s.preventDefault();const i=await Oj();if(!i.ok)return;e({type:"login",payload:i}),n(i.uid);const o={conversations:t.conversations,user:{...i,logged:!0}};localStorage.setItem("state",JSON.stringify(o))}return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"auth-container",children:[T.jsx("h1",{children:"Entering GPTherapist"}),T.jsx("div",{className:"socialsLogin",children:T.jsx("button",{className:"login-button",onClick:s=>r(s),children:T.jsx("img",{src:sF,alt:"google login logo",draggable:!1})})}),T.jsx("p",{style:{fontSize:"0.8em"},children:"only login/register with google available for now"})]})})},oF="https://www.svgrepo.com/show/507493/arrow-left-circle.svg",aF=()=>{const{addNewConversation:t}=A.useContext(Ce);return T.jsxs("div",{className:"landing-container",children:[T.jsx($p,{}),T.jsxs("main",{children:[T.jsxs("div",{className:"main-header",children:[T.jsx("h1",{children:"Welcome to GPTherapist"}),T.jsx("p",{children:"Experience the power of a custom therapist paying 10x less and with no time barriers."})]}),T.jsxs("div",{className:"start-chatting",onClick:()=>t(":D"),children:[T.jsx("img",{src:oF,alt:"start chatting",style:{width:"30px",filter:"invert(1)"}}),T.jsx("p",{children:"start chatting!"})]})]})]})},lF=()=>{const{state:t,userTokens:e,logOutAndRemoveState:n}=A.useContext(Ce),{user:r}=t,{openAlert:s}=ca();function i(){s({title:"Logout",text:"Its possible to (you will) loss data",confirmText:"Logout"}).then(o=>{o.isConfirmed&&n()})}return T.jsx(T.Fragment,{children:T.jsxs("div",{children:[T.jsx($p,{}),T.jsxs("div",{className:"profile-container",children:[T.jsx("div",{className:"avatar-container",children:T.jsx("img",{draggable:"false",style:{borderRadius:"100%"},src:r.photoURL,alt:"user photo url"})}),T.jsxs("div",{className:"info",children:[T.jsx("p",{children:r.displayName}),T.jsx("p",{style:{fontSize:"0.54em"},children:r.email})]}),T.jsx("div",{className:"credits",children:T.jsxs("p",{children:[e," 🌌"]})}),T.jsx("div",{className:"logout",children:T.jsx("button",{onClick:i,className:"login-button",style:{width:"unset",fontSize:"0.64em",padding:"0.4em 0.8em"},children:"Logout"})})]})]})})},uF=()=>{const{state:t,sidebarMini:e,isMobile:n,showUpgradeModal:r,isLoading:s,setIsLoading:i,initUserState:o}=A.useContext(Ce);return A.useEffect(()=>{try{o(t.user.uid)}catch(a){console.log(a)}setTimeout(()=>{i(!1)},1250)},[]),T.jsxs(T.Fragment,{children:[s&&T.jsx(rF,{}),!s&&!t.user.logged&&T.jsx(iF,{}),!s&&t.user.logged&&T.jsxs("div",{className:"AppContainer",children:[!e&&!n?T.jsx(Jj,{}):T.jsx(eF,{}),T.jsx("div",{className:`RoutesContainer ${e||n?"rc-toggled":""}`,children:T.jsxs(Vb,{children:[T.jsx(eo,{path:"/",element:T.jsx(aF,{})}),T.jsx(eo,{path:"/chat",element:T.jsx($j,{})}),T.jsx(eo,{path:"/profile",element:T.jsx(lF,{})}),T.jsx(eo,{path:"/*",element:T.jsx(Ub,{to:"/"})})]})}),r&&T.jsx(nF,{})]})]})},cF=(t={conversations:[],user:{logged:!1,uid:null,tokens:null}},e)=>{switch(e.type){case"login":{const{payload:n}=e;return{conversations:t.conversations,user:{...n,logged:!0}}}case"init_state":return{...e.payload};case"logout":return{conversations:[],user:{logged:!1,uid:null}};case"add":return{...t,conversations:[e.payload,...t.conversations]};case"remove":{const n=t.conversations.filter(r=>r.id!==e.payload);return{...t,conversations:n}}case"remove_all":return{...t,conversations:[]};case"push_messages":{const{payload:n}=e,{conversationId:r,messages:s}=n,i=t.conversations.map(o=>o.id===r?{...o,content:[...o.content,s]}:o);return{...t,conversations:i}}case"rel_title":{const n=e.payload,r=t.conversations.map(s=>(s.id===n.id&&(s.title=n.title),s));return{...t,conversations:r}}case"rel_tokens":return{conversations:t.conversations,user:{...t.user,tokens:e.payload}};default:return t}};function dF(){const[t,e]=A.useState(window.innerWidth<794);return A.useEffect(()=>{window.addEventListener("resize",n);function n(){window.innerWidth>794?e(!1):e(!0)}return()=>{window.removeEventListener("resize",n)}},[]),{isMobile:t}}const qT={conversations:[],user:{logged:!1,uid:null,tokens:null}};function hF(){const t=JSON.parse(localStorage.getItem("state"));return t||qT}function fF(){const t=JSON.parse(localStorage.getItem("conversationSelected"));return t||null}function pF(){const t=JSON.parse(localStorage.getItem("sidebarMini"));return t||!1}const mF=({children:t})=>{const[e,n]=A.useReducer(cF,qT,hF),[r,s]=A.useState(fF),[i,o]=A.useState(!0),{isMobile:a}=dF(),[l,u]=A.useState(pF()),[d,f]=A.useState(!1),[p,g]=A.useState("therapist"),[w,C]=A.useState("en"),[_,v]=A.useState(!1),[y,S]=A.useState(0),[k,b]=A.useState(!0),{detectLocationOf:x,navigate:N}=xi();function $(){u(oe=>oe=!oe),localStorage.setItem("sidebarMini",JSON.stringify(!l))}function Y(oe){g(oe),localStorage.setItem("promptSelected",JSON.stringify(oe))}function F(oe){if(o(!0),e.user.uid||oe){Rj(e.user.uid).then(pt=>{if(pt.ok){const{state:Pe}=pt;n({type:"init_state",payload:Pe}),Pe.user.tokens?S(Pe.user.tokens):S(1e3),localStorage.setItem("state",JSON.stringify(Pe))}else console.error(pt.error),S(1e3);o(!1)});return}else o(!1),S(1e3)}function ee(){n({type:"remove_all"}),s(null),localStorage.removeItem("conversationSelected");const oe={...e,conversations:[]};localStorage.setItem("state",JSON.stringify(oe)),zT(e.user.uid,oe)}function Ae(){n({type:"logout"}),S(null),s(null),localStorage.removeItem("state"),localStorage.removeItem("conversationSelected"),o(!0)}function Xe(oe){let pt=new Date().getTime(),Pe={title:`New conversation ${oe}`,id:pt,content:[]};n({type:"add",payload:Pe}),s(Pe),x("/chat")}return T.jsx(Ce.Provider,{value:{state:e,dispatch:n,isMobile:a,sidebarMini:l,setSidebarMiniFunc:$,promptSelected:p,setPromptSelectedFunc:Y,showUpgradeModal:d,setShowUpgradeModal:f,conversationSelected:r,setConversationSelected:s,userTokens:y,setUserTokens:S,rememberConversations:_,setRememberConversations:v,isLoading:k,setIsLoading:b,intingConvers:i,setIntingConvers:o,initUserState:F,removeAllConversAndSetNewState:ee,logOutAndRemoveState:Ae,addNewConversation:Xe,langSelected:w,setLangSelected:C},children:t})};function gF(){return T.jsx(Kb,{children:T.jsx(mF,{children:T.jsx(uF,{})})})}rh.createRoot(document.getElementById("root")).render(T.jsx(z_.StrictMode,{children:T.jsx(gF,{})}));
